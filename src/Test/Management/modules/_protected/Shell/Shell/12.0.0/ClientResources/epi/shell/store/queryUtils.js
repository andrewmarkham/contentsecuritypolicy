//>>built
define("epi/shell/store/queryUtils",[],function(){function _1(_2){return _2 instanceof Array&&_2.length>0;};var _3={createFilter:function(_4,_5){var _6;_5=_5||{};switch(typeof _4){case "object":case "undefined":_6=function(_7){return !_4||Object.keys(_4).every(function(_8){var _9=_5.ignore,_a=_5.comparers&&_5.comparers[_8],_b=_4[_8];if(_9&&_9.indexOf(_8)!==-1){return true;}if(_a){return _a(_b,_7);}return _b===_7[_8];});};break;default:throw new Error("Can not query with a "+typeof _4);}return _6;},createSorter:function(_c){if(!_1(_c)){throw new Error("Argument must be an array containing sortOptions");}return function(a,b){var _d,_e;for(var _f,i=0;(_f=_c[i]);i++){_d=a[_f.attribute];_e=b[_f.attribute];if(typeof _d==="string"&&typeof _e==="string"){_d=_d.toLowerCase();_e=_e.toLowerCase();}if(_d!==_e){return _f.descending===(_d>_e)?-1:1;}}return 0;};},createExecuter:function(_10,_11,_12,_13){var _14=_12||0,end=_13?_14+_13:Infinity;return function(_15){var _16;_15=_10?_15.filter(_10):_15.slice(0);_11&&_15.sort(_11);if(_12||_13){_16=_15.length;_15=_15.slice(_14,end);_15.total=_16;}return _15;};},createEngine:function(_17,_18){var _19,_1a,_1b;_18=_18||{};_19=_3.createFilter(_17,_18);_1a=_1(_18.sort)?_3.createSorter(_18.sort):null;_1b=_3.createExecuter(_19,_1a,_18.start,_18.count);_1b.matches=_19;return _1b;}};return _3;});