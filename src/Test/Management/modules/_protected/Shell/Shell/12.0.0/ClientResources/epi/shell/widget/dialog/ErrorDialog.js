//>>built
define("epi/shell/widget/dialog/ErrorDialog",["dojo","dijit/Dialog"],function(_1,_2){var _3=null;var _4="/shell/cms/errordialog/";var _5={title:"A background request has failed",reloadtext:"Reload",heading:"An unhandled error has occured in a background request.",description:"The page may not function properly unless it's reloaded. Press the button below to reload the page now."};var _6="        <div style=\"padding-bottom:10px; width:600px\">             <h1>${heading}</h1>             <div style=\"background-color:#FFF; border:1px solid #000; padding:3px\">${errorMessage}</div>             <p>${description}</p>             <input type=\"button\" onclick=\"document.location.reload()\" value=\"${reloadtext}\" />         </div>     ";function _7(){if(!_3){_3=new _2();}return _3;};function _8(_9,_a){var _b=_1.create("div",{innerHTML:_1.string.substitute(_6,_1.mixin({errorMessage:_9},_5))});var _c=_1.create("iframe",{style:"width:100%; height:400px; border:inset 1px #CCC",frameborder:"0",width:"600",height:"400",src:"about:blank"});if(_c.attachEvent){var _d=function(){_c.detachEvent("onload",_d);_c.contentWindow.document.write(_a);};_c.attachEvent("onload",_d);}else{var _e=_1.connect(_c,"load",null,function(){_1.disconnect(_e);_c.contentWindow.document.write(_a);});}_1.place(_c,_b);return _b;};var _f={getTextResourceKeys:function(){var _10=[];for(var p in _5){_10.push(_4+p);}return _10;},setTextResources:function(_11){if(!_1.isArray(_11)){return;}_1.forEach(_11,function(_12){if(_1.isString(_12.key)&&_1.isString(_12.text)){_5[_12.key.replace(_4,"")]=_12.text;}});},showXmlHttpError:function(_13,_14){var _15=_7();var _16="";var _17="";if(_14&&_14.xhr){_16=_14.xhr.responseText;}if(_1.isObject(_13)&&_1.isString(_13.message)){_17=_13.message;}else{_17=_13;}var _18=_8(_17,_16);_15.set("title",_5.title);_15.set("content",_18);_15.show();}};return _f;});