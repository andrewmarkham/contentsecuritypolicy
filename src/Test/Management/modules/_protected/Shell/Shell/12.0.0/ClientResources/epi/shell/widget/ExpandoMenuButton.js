//>>built
require({cache:{"url:epi/shell/widget/templates/ExpandoMenuButton.html":"<span class=\"dijit dijitReset dijitInline epi-mediumButton epi-expandoMenuButton\"><!--\r\n --><button data-dojo-attach-point=\"toggleButton\" data-dojo-type=\"dijit/form/ToggleButton\" class=\"epi-chromelessButton\"\r\n        data-dojo-attach-event=\"onChange: _toggleButtonChange, onClick:_toggleButtonClick\" showlabel=\"false\">${label}</button><!--\r\n    --><ul data-dojo-attach-point=\"expandoNode\" class=\"dijitHidden\"><li data-dojo-attach-point=\"innerTextContainerNode\" class=\"epi-expandoMenuButton--no-children\"><span class=\"epi-expandoMenuButton--no-children-text\" data-dojo-attach-point=\"innerTextNode\"></span></li></ul><!--\r\n--></span>\r\n"}});define("epi/shell/widget/ExpandoMenuButton",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/on","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct","dojo/has","dojo/text!./templates/ExpandoMenuButton.html","dijit/registry","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dgrid/util/has-css3","dijit/form/ToggleButton"],function(_1,_2,_3,on,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){return _1([_b,_d,_c],{templateString:_9,label:"",innerText:"",iconClass:"",postCreate:function(){this.inherited(arguments);if(_8("css-transitions")){this.own(on(this.expandoNode,_8("transitionend"),_2.hitch(this,this._onTransitionEnd)));}},_setLabelAttr:function(_e){this.toggleButton.set("label",_e);this._set("label",_e);},_setInnerTextAttr:function(_f){this._set("innerText",_f);if(_f){this.innerTextNode.textContent=_f;}_4.toggle(this.innerTextContainerNode,"dijitHidden",!_f);},_setIconClassAttr:function(_10){this._set("iconClass",_10);this._updateToggleButtonIcon();},_setCheckedAttr:function(_11){this.toggleButton.set("checked",_11);this._set("checked",_11);this._updateToggleButtonIcon();this._showChildren(_11);},addChild:function(_12){if(this.innerTextContainerNode){_4.add(this.innerTextContainerNode,"dijitHidden");}var li=_7.create("li",{},this.expandoNode);_12.placeAt(li);},onClick:function(){},onChange:function(val){},getChildren:function(){return _a.findWidgets(this.expandoNode);},_toggleButtonClick:function(){this.onClick();},_toggleButtonChange:function(val){this.set("checked",val);this.onChange(val);},_updateToggleButtonIcon:function(){var _13=["epi-icon--medium"];if(this.iconClass){_13.push(this.iconClass);}if(this.checked){_13.push("epi-icon--active");}this.toggleButton.set("iconClass",_13.join(" "));},_showChildren:function(_14){var _15=this.expandoNode;if(_14){_4.toggle(_15,"dijitHidden",false);_6.set(_15,"width",this._childrenWidth()+"px");}else{_6.set(_15,"width",this._childrenWidth()+"px");_15.offsetWidth;_6.set(_15,"width","0px");}},_onTransitionEnd:function(){var _16=this.get("checked");_4.toggle(this.expandoNode,"dijitHidden",!_16);if(_16){_6.set(this.expandoNode,"width","");}},_childrenWidth:function(){var _17=0;_3.forEach(this.expandoNode.childNodes,function(_18){_17+=_5.getMarginBox(_18).w;});return _17;}});});