//>>built
define("epi/patch/dijit/tree/Tree",["dojo/_base/array","dojo/_base/lang","dojo/DeferredList","dijit/_Container","dijit/Tree"],function(_1,_2,_3,_4,_5){_2.mixin(_5._TreeNode.prototype,{setChildItems:function(_6){var _7=this.tree,_8=_7.model,_9=[];var _a=this.getChildren();_1.forEach(_a,function(_b){_4.prototype.removeChild.call(this,_b);},this);this.defer(function(){_1.forEach(_a,function(_c){if(!_c._destroyed&&!_c.getParent()){_7.dndController.removeTreeNode(_c);function _d(_e){var id=_8.getIdentity(_e.item),_f=_7._itemNodesMap[id];if(_f&&_f.length==1){delete _7._itemNodesMap[id];}else{var _10=_1.indexOf(_f,_e);if(_10!=-1){_f.splice(_10,1);}}_1.forEach(_e.getChildren(),_d);};_d(_c);_c.destroyRecursive();}});});this.state="LOADED";if(_6&&_6.length>0){this.isExpandable=true;_1.forEach(_6,function(_11){var id=_8.getIdentity(_11),_12=_7._itemNodesMap[id],_13;if(_12){for(var i=0;i<_12.length;i++){if(_12[i]&&!_12[i].getParent()){_13=_12[i];_13.set("indent",this.indent+1);break;}}}if(!_13){_13=this.tree._createTreeNode({item:_11,tree:_7,isExpandable:_8.mayHaveChildren(_11),label:_7.getLabel(_11),tooltip:_7.getTooltip(_11),ownerDocument:_7.ownerDocument,dir:_7.dir,lang:_7.lang,textDir:_7.textDir,indent:this.indent+1});if(_12){_12.push(_13);}else{_7._itemNodesMap[id]=[_13];}}this.addChild(_13);if(this.tree.autoExpand||this.tree._state(_13)){_9.push(_7._expandNode(_13));}},this);_1.forEach(this.getChildren(),function(_14){_14._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==_7.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);_7.lastFocused=fc;}else{_7.domNode.setAttribute("tabIndex","0");}}var def=new _3(_9);this.tree._startPaint(def);return def;}});_5._TreeNode.prototype.setChildItems.nom="setChildItems";_2.mixin(_5.prototype,{_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}}});_5.prototype._adjustWidths.nom="_adjustWidths";});