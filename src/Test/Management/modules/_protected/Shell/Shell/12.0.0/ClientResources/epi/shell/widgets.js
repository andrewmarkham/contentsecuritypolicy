//>>built
require({cache:{"epi/layers/epi-widgets":function(){define("epi/layers/epi-widgets",["epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","dijit/layout/AccordionPane","dijit/TooltipDialog","dijit/form/Textarea","dojo/dnd/AutoSource","dojo/dnd/Target","dojo/fx/Toggler","dojo/parser","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5","epi/shell/component/IFrameContextComponent","epi/shell/ContextService","epi/shell/conversion/ObjectConverterRegistry","epi/shell/dnd/Target","epi/shell/form/AutoCompleteSelectionEditor","epi/shell/form/SuggestionSelectionEditor","epi/shell/HashWrapper","epi/shell/layout/GroupContainer","epi/shell/layout/ParentContainer","epi/shell/layout/PinnablePane","epi/shell/layout/PinnablePaneSplitter","epi/shell/layout/PositioningUtility","epi/shell/layout/SimpleContainer","epi/shell/layout/ToolbarContainer","epi/shell/DialogService","epi/shell/MessageService","epi/shell/MetadataManager","epi/shell/Profile","epi/shell/ShellModule","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Registry","epi/shell/store/Throttle","epi/shell/UndoManager","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider","epi/shell/widget/_ActionProviderBase","epi/shell/widget/_ActionProviderWidget","epi/shell/widget/_TabButton","epi/shell/widget/Application","epi/shell/widget/ApplicationContentPane","epi/shell/widget/CheckBox","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/layout/ComponentPaneContainer","epi/shell/widget/ComponentController","epi/shell/widget/ComponentSelector","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/DateRange","epi/shell/widget/DateRangePicker","epi/shell/widget/DateTimeSelector","epi/shell/widget/DateTimeSelectorDropDown","epi/shell/widget/FormContainer","epi/shell/widget/HelpButton","epi/shell/widget/Iframe","epi/shell/widget/IframeWithOverlay","epi/shell/widget/LabeledInput","epi/shell/widget/LicenseInformation","epi/shell/widget/MenuGroup","epi/shell/widget/overlay/_Base","epi/shell/widget/overlay/Item","epi/shell/widget/PropagatingContainer","epi/shell/widget/SpaceToolbarSeparator","epi/shell/widget/TabContainer","epi/shell/widget/TabController","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarSet","epi/shell/widget/ValidationTextarea","epi/shell/widget/WidgetFactory","epi/shell/widget/WidgetSwitcher","xstyle/core/load-css"],1);},"dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_1,_2,_3){return _1("dijit.layout.AccordionPane",_3,{constructor:function(){_2.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,xhr,_12,_13){return _d("dijit.layout.ContentPane",[_6,_7,_8],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_14,_15){if((!_14||!_14.template)&&_15&&!("href" in _14)&&!("content" in _14)){_15=_f.byId(_15);var df=_15.ownerDocument.createDocumentFragment();while(_15.firstChild){df.appendChild(_15.firstChild);}_14=_5.delegate(_14,{content:df});}this.inherited(arguments,[_14,_15]);},postMixInProperties:function(){this.inherited(arguments);var _16=_12.getLocalization("dijit","loading",this.lang);this.loadingMessage=_9.substitute(this.loadingMessage,_16);this.errorMessage=_9.substitute(this.errorMessage,_16);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_c.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(_17){_4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",_17);},_setHrefAttr:function(_18){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._set("href",_18);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(_19){_4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",_19);},_setContentAttr:function(_1a){this._set("href","");this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(_5.hitch(this,"onLoad"));}this._setContent(_1a||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1b){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var _1c=this;var _1d={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(_5.isObject(this.ioArgs)){_5.mixin(_1d,this.ioArgs);}var _1e=(this._xhrDfd=(this.ioMethod||xhr.get)(_1d)),_1f;_1e.then(function(_20){_1f=_20;try{_1c._isDownloaded=true;return _1c._setContent(_20,false);}catch(err){_1c._onError("Content",err);}},function(err){if(!_1e.canceled){_1c._onError("Download",err);}delete _1c._xhrDfd;return err;}).then(function(){_1c.onDownloadEnd();delete _1c._xhrDfd;return _1f;});delete this._hrefChanged;},_onLoadHandler:function(_21){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(_21);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_22){if(this.isLoaded){this._onUnloadHandler();}var _23=this._contentSetter;_c.forEach(this.getChildren(),function(_24){if(_24.destroyRecursive){_24.destroyRecursive(_22);}else{if(_24.destroy){_24.destroy(_22);}}_24._destroyed=true;});if(_23){_c.forEach(_23.parseResults,function(_25){if(!_25._destroyed){if(_25.destroyRecursive){_25.destroyRecursive(_22);}else{if(_25.destroy){_25.destroy(_22);}}_25._destroyed=true;}});delete _23.parseResults;}if(!_22){_11.empty(this.containerNode);}delete this._singleChild;},_setContent:function(_26,_27){this.destroyDescendants();var _28=this._contentSetter;if(!(_28&&_28 instanceof _a._ContentSetter)){_28=this._contentSetter=new _a._ContentSetter({node:this.containerNode,_onError:_5.hitch(this,this._onError),onContentError:_5.hitch(this,function(e){var _29=this.onContentError(e);try{this.containerNode.innerHTML=_29;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a=_5.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!_26.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_28.set((_5.isObject(_26)&&_26.domNode)?_26.domNode:_26,_2a);var _2b=this;return _13(p&&p.then?p:_28.parseDeferred,function(){delete _2b._contentSetterParams;if(!_27){if(_2b._started){_2b._startChildren();_2b._scheduleLayout();}_2b._onLoadHandler(_26);}});},_onError:function(_2c,err,_2d){this.onLoadDeferred.reject(err);var _2e=this["on"+_2c+"Error"].call(this,err);if(_2d){console.error(_2d,err);}else{if(_2e){this._setContent(_2e,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2f,_30,_31,_32,has,_33,_34,_35,_36,_37,_38,_39,_3a){function _3b(){};function _3c(_3d){return function(obj,_3e,_3f,_40){if(obj&&typeof _3e=="string"&&obj[_3e]==_3b){return obj.on(_3e.substring(2).toLowerCase(),_34.hitch(_3f,_40));}return _3d.apply(_31,arguments);};};_2f.around(_31,"connect",_3c);if(_33.connect){_2f.around(_33,"connect",_3c);}var _41=_32("dijit._Widget",[_38,_39,_3a],{onClick:_3b,onDblClick:_3b,onKeyDown:_3b,onKeyPress:_3b,onKeyUp:_3b,onMouseDown:_3b,onMouseMove:_3b,onMouseOut:_3b,onMouseOver:_3b,onMouseLeave:_3b,onMouseEnter:_3b,onMouseUp:_3b,constructor:function(_42){this._toConnect={};for(var _43 in _42){if(this[_43]===_3b){this._toConnect[_43.replace(/^on/,"").toLowerCase()]=_42[_43];delete _42[_43];}}},postCreate:function(){this.inherited(arguments);for(var _44 in this._toConnect){this.on(_44,this._toConnect[_44]);}delete this._toConnect;},on:function(_45,_46){if(this[this._onMap(_45)]===_3b){return _31.connect(this.domNode,_45.toLowerCase(),this,_46);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(_47,_48){_33.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(_47,_48);},attr:function(_49,_4a){if(_30.isDebug){var _4b=arguments.callee._ach||(arguments.callee._ach={}),_4c=(arguments.callee.caller||"unknown caller").toString();if(!_4b[_4c]){_33.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_4c,"","2.0");_4b[_4c]=true;}}var _4d=arguments.length;if(_4d>=2||typeof _49==="object"){return this.set.apply(this,arguments);}else{return this.get(_49);}},getDescendants:function(){_33.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_35("[widgetId]",this.containerNode).map(_37.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_36(0,function(){var _4e=["dijit/_base"];require(_4e);});}return _41;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_4f,has,_50,win,_51){var _52={},_53={};var _54={length:0,add:function(_55){if(_53[_55.id]){throw new Error("Tried to register widget with id=="+_55.id+" but that id is already registered");}_53[_55.id]=_55;this.length++;},remove:function(id){if(_53[id]){delete _53[id];this.length--;}},byId:function(id){return typeof id=="string"?_53[id]:id;},byNode:function(_56){return _53[_56.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _53){ar.push(_53[id]);}return ar;},getUniqueId:function(_57){var id;do{id=_57+"_"+(_57 in _52?++_52[_57]:_52[_57]=0);}while(_53[id]);return _51._scopeName=="dijit"?id:_51._scopeName+"_"+id;},findWidgets:function(_58,_59){var _5a=[];function _5b(_5c){for(var _5d=_5c.firstChild;_5d;_5d=_5d.nextSibling){if(_5d.nodeType==1){var _5e=_5d.getAttribute("widgetId");if(_5e){var _5f=_53[_5e];if(_5f){_5a.push(_5f);}}else{if(_5d!==_59){_5b(_5d);}}}}};_5b(_58);return _5a;},_destroyAll:function(){_51._curFocus=null;_51._prevFocus=null;_51._activeStack=[];_4f.forEach(_54.findWidgets(win.body()),function(_60){if(!_60._destroyed){if(_60.destroyRecursive){_60.destroyRecursive();}else{if(_60.destroy){_60.destroy();}}}});},getEnclosingWidget:function(_61){while(_61){var id=_61.nodeType==1&&_61.getAttribute("widgetId");if(id){return _53[id];}_61=_61.parentNode;}return null;},_hash:_53};_51.registry=_54;return _54;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(_62){return _62.dijit;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","./registry"],function(_63,_64,_65,_66,_67,_68,dom,_69,_6a,_6b,_6c,_6d,has,_6e,_6f,on,_70,_71,_72,win,_73,_74){has.add("dijit-legacy-requires",!_6e.isAsync);if(has("dijit-legacy-requires")){_70(0,function(){var _75=["dijit/_base/manager"];_63(_75);});}var _76={};function _77(obj){var ret={};for(var _78 in obj){ret[_78.toLowerCase()]=true;}return ret;};function _79(_7a){return function(val){_69[val?"set":"remove"](this.domNode,_7a,val);this._set(_7a,val);};};function _7b(a,b){return a===b||(a!==a&&b!==b);};return _68("dijit._WidgetBase",[_71,_73],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_79("lang"),dir:"",_setDirAttr:_79("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_66.blankGif||_63.toUrl("dojo/resources/blank.gif"),postscript:function(_7c,_7d){this.create(_7c,_7d);},create:function(_7e,_7f){this.srcNodeRef=dom.byId(_7f);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_7e){this.params=_7e;_6f.mixin(this,_7e);}this.postMixInProperties();if(!this.id){this.id=_74.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:win.doc);this.ownerDocumentBody=win.body(this.ownerDocument);_74.add(this);this.buildRendering();var _80;if(this.domNode){this._applyAttributes();var _81=this.srcNodeRef;if(_81&&_81.parentNode&&this.domNode!==_81){_81.parentNode.replaceChild(this.domNode,_81);_80=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_80){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _82=this.constructor,_83=_82._setterAttrs;if(!_83){_83=(_82._setterAttrs=[]);for(var _84 in this.attributeMap){_83.push(_84);}var _85=_82.prototype;for(var _86 in _85){if(_86 in this.attributeMap){continue;}var _87="_set"+_86.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_87 in _85){_83.push(_86);}}}var _88={};for(var key in this.params||{}){_88[key]=this[key];}_64.forEach(_83,function(_89){if(_89 in _88){}else{if(this[_89]){this.set(_89,this[_89]);}}},this);for(key in _88){this.set(key,_88[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _8a=this.baseClass.split(" ");if(!this.isLeftToRight()){_8a=_8a.concat(_64.map(_8a,function(_8b){return _8b+"Rtl";}));}_6a.add(this.domNode,_8a);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_64.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_6f.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_8c){this._beingDestroyed=true;this.destroyDescendants(_8c);this.destroy(_8c);},destroy:function(_8d){this._beingDestroyed=true;this.uninitialize();function _8e(w){if(w.destroyRecursive){w.destroyRecursive(_8d);}else{if(w.destroy){w.destroy(_8d);}}};_64.forEach(this._connects,_6f.hitch(this,"disconnect"));_64.forEach(this._supportingWidgets,_8e);if(this.domNode){_64.forEach(_74.findWidgets(this.domNode,this.containerNode),_8e);}this.destroyRendering(_8d);_74.remove(this.id);this._destroyed=true;},destroyRendering:function(_8f){if(this.bgIframe){this.bgIframe.destroy(_8f);delete this.bgIframe;}if(this.domNode){if(_8f){_69.remove(this.domNode,"widgetId");}else{_6b.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_8f){_6b.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_90){_64.forEach(this.getChildren(),function(_91){if(_91.destroyRecursive){_91.destroyRecursive(_90);}});},uninitialize:function(){return false;},_setStyleAttr:function(_92){var _93=this.domNode;if(_6f.isObject(_92)){_6d.set(_93,_92);}else{if(_93.style.cssText){_93.style.cssText+="; "+_92;}else{_93.style.cssText=_92;}}this._set("style",_92);},_attrToDom:function(_94,_95,_96){_96=arguments.length>=3?_96:this.attributeMap[_94];_64.forEach(_6f.isArray(_96)?_96:[_96],function(_97){var _98=this[_97.node||_97||"domNode"];var _99=_97.type||"attribute";switch(_99){case "attribute":if(_6f.isFunction(_95)){_95=_6f.hitch(this,_95);}var _9a=_97.attribute?_97.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_94)?_94.toLowerCase():_94);if(_98.tagName){_69.set(_98,_9a,_95);}else{_98.set(_9a,_95);}break;case "innerText":_98.innerHTML="";_98.appendChild(this.ownerDocument.createTextNode(_95));break;case "innerHTML":_98.innerHTML=_95;break;case "class":_6a.replace(_98,_95,this[_94]);break;}},this);},get:function(_9b){var _9c=this._getAttrNames(_9b);return this[_9c.g]?this[_9c.g]():this[_9b];},set:function(_9d,_9e){if(typeof _9d==="object"){for(var x in _9d){this.set(x,_9d[x]);}return this;}var _9f=this._getAttrNames(_9d),_a0=this[_9f.s];if(_6f.isFunction(_a0)){var _a1=_a0.apply(this,Array.prototype.slice.call(arguments,1));}else{var _a2=this.focusNode&&!_6f.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_a2].tagName,_a3=_76[tag]||(_76[tag]=_77(this[_a2])),map=_9d in this.attributeMap?this.attributeMap[_9d]:_9f.s in this?this[_9f.s]:((_9f.l in _a3&&typeof _9e!="function")||/^aria-|^data-|^role$/.test(_9d))?_a2:null;if(map!=null){this._attrToDom(_9d,_9e,map);}this._set(_9d,_9e);}return _a1||this;},_attrPairNames:{},_getAttrNames:function(_a4){var apn=this._attrPairNames;if(apn[_a4]){return apn[_a4];}var uc=_a4.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_a4]={n:_a4+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_a5,_a6){var _a7=this[_a5];this[_a5]=_a6;if(this._created&&!_7b(_a6,_a7)){if(this._watchCallbacks){this._watchCallbacks(_a5,_a7,_a6);}this.emit("attrmodified-"+_a5,{detail:{prevValue:_a7,newValue:_a6}});}},emit:function(_a8,_a9,_aa){_a9=_a9||{};if(_a9.bubbles===undefined){_a9.bubbles=true;}if(_a9.cancelable===undefined){_a9.cancelable=true;}if(!_a9.detail){_a9.detail={};}_a9.detail.widget=this;var ret,_ab=this["on"+_a8];if(_ab){ret=_ab.apply(this,_aa?_aa:[_a9]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_a8.toLowerCase(),_a9);}return ret;},on:function(_ac,_ad){var _ae=this._onMap(_ac);if(_ae){return _65.after(this,_ae,_ad,true);}return this.own(on(this.domNode,_ac,_ad))[0];},_onMap:function(_af){var _b0=this.constructor,map=_b0._onMap;if(!map){map=(_b0._onMap={});for(var _b1 in _b0.prototype){if(/^on/.test(_b1)){map[_b1.replace(/^on/,"").toLowerCase()]=_b1;}}}return map[typeof _af=="string"&&_af.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_74.findWidgets(this.containerNode):[];},getParent:function(){return _74.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_b2,_b3){return this.own(_67.connect(obj,_b2,this,_b3))[0];},disconnect:function(_b4){_b4.remove();},subscribe:function(t,_b5){return this.own(_72.subscribe(t,_6f.hitch(this,_b5)))[0];},unsubscribe:function(_b6){_b6.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_6c.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_6d.get(this.domNode,"display")!="none");},placeAt:function(_b7,_b8){var _b9=!_b7.tagName&&_74.byId(_b7);if(_b9&&_b9.addChild&&(!_b8||typeof _b8==="number")){_b9.addChild(this,_b8);}else{var ref=_b9?(_b9.containerNode&&!/after|before|replace/.test(_b8||"")?_b9.containerNode:_b9.domNode):dom.byId(_b7,this.ownerDocument);_6b.place(this.domNode,ref,_b8);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},getTextDir:function(_ba,_bb){return _bb;},applyTextDir:function(){},defer:function(fcn,_bc){var _bd=setTimeout(_6f.hitch(this,function(){if(!_bd){return;}_bd=null;if(!this._destroyed){_6f.hitch(this,fcn)();}}),_bc||0);return {remove:function(){if(_bd){clearTimeout(_bd);_bd=null;}return null;}};}});});},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_be,_bf,_c0){return _c0("dijit.Destroyable",null,{destroy:function(_c1){this._destroyed=true;},own:function(){_be.forEach(arguments,function(_c2){var _c3="destroyRecursive" in _c2?"destroyRecursive":"destroy" in _c2?"destroy":"remove";var odh=_bf.before(this,"destroy",function(_c4){_c2[_c3](_c4);});var hdh=_bf.after(_c2,_c3,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window","./a11yclick"],function(on,_c5,_c6,_c7,has,_c8,win,_c9){var ret=_c7("dijit._OnDijitClickMixin",null,{connect:function(obj,_ca,_cb){return this.inherited(arguments,[obj,_ca=="ondijitclick"?_c9:_ca,_cb]);}});ret.a11yclick=_c9;return ret;});},"dijit/a11yclick":function(){define("dijit/a11yclick",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window"],function(on,_cc,_cd,_ce,has,_cf,win){var _d0=null;if(has("dom-addeventlistener")){win.doc.addEventListener("keydown",function(evt){_d0=evt.target;},true);}else{(function(){var _d1=function(evt){_d0=evt.srcElement;};win.doc.attachEvent("onkeydown",_d1);_cf.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_d1);});})();}function _d2(e){return (e.keyCode===_cd.ENTER||e.keyCode===_cd.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};return function(_d3,_d4){if(/input|button/i.test(_d3.nodeName)){return on(_d3,"click",_d4);}else{var _d5=[on(_d3,"keydown",function(e){if(_d2(e)){_d0=e.target;e.preventDefault();}}),on(_d3,"keyup",function(e){if(_d2(e)&&e.target==_d0){_d0=null;on.emit(e.target,"click",{cancelable:true,bubbles:true});}}),on(_d3,"click",function(e){_d4.call(this,e);})];if(has("touch")){var _d6;_d5.push(on(_d3,"touchend",function(e){var _d7=e.target;_d6=setTimeout(function(){_d6=null;on.emit(_d7,"click",{cancelable:true,bubbles:true});},600);}),on(_d3,"click",function(e){if(_d6){clearTimeout(_d6);}}));}return {remove:function(){_cc.forEach(_d5,function(h){h.remove();});if(_d6){clearTimeout(_d6);_d6=null;}}};}};return ret;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_d8,_d9,_da,_db){_db.extend(_d9,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _da("dijit._FocusMixin",null,{_focusManager:_d8});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_dc,_dd,dom,_de,_df,_e0,_e1,on,_e2,has,_e3,_e4,win,_e5,_e6,_e7,_e8){var _e9;var _ea=_dd([_e3,_e0],{curNode:null,activeStack:[],constructor:function(){var _eb=_e1.hitch(this,function(_ec){if(dom.isDescendant(this.curNode,_ec)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,_ec)){this.set("prevNode",null);}});_dc.before(_df,"empty",_eb);_dc.before(_df,"destroy",_eb);},registerIframe:function(_ed){return this.registerWin(_ed.contentWindow,_ed);},registerWin:function(_ee,_ef){var _f0=this,_f1=_ee.document&&_ee.document.body;if(_f1){var mdh=on(_f1,"mousedown",function(evt){_f0._justMouseDowned=true;setTimeout(function(){_f0._justMouseDowned=false;},13);if(evt&&evt.target&&evt.target.parentNode==null){return;}_f0._onTouchNode(_ef||evt.target,"mouse");});var fih=on(_f1,"focusin",function(evt){_e9=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_e6.isFocusable(evt.target)){_f0._onFocusNode(_ef||evt.target);}else{_f0._onTouchNode(_ef||evt.target);}});var foh=on(_f1,"focusout",function(evt){if((new Date()).getTime()<_e9+100){return;}_f0._onBlurNode(_ef||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;_f1=null;}};}},_onBlurNode:function(_f2){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(_e1.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(_e1.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(_f3,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _f4=[];try{while(_f3){var _f5=_de.get(_f3,"dijitPopupParent");if(_f5){_f3=_e7.byId(_f5).domNode;}else{if(_f3.tagName&&_f3.tagName.toLowerCase()=="body"){if(_f3===win.body()){break;}_f3=_e5.get(_f3.ownerDocument).frameElement;}else{var id=_f3.getAttribute&&_f3.getAttribute("widgetId"),_f6=id&&_e7.byId(id);if(_f6&&!(by=="mouse"&&_f6.get("disabled"))){_f4.unshift(id);}_f3=_f3.parentNode;}}}}catch(e){}this._setStack(_f4,by);},_onFocusNode:function(_f7){if(!_f7){return;}if(_f7.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(_f7);if(_f7==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",_f7);},_setStack:function(_f8,by){var _f9=this.activeStack;this.set("activeStack",_f8);for(var _fa=0;_fa<Math.min(_f9.length,_f8.length);_fa++){if(_f9[_fa]!=_f8[_fa]){break;}}var _fb;for(var i=_f9.length-1;i>=_fa;i--){_fb=_e7.byId(_f9[i]);if(_fb){_fb._hasBeenBlurred=true;_fb.set("focused",false);if(_fb._focusManager==this){_fb._onBlur(by);}this.emit("widget-blur",_fb,by);}}for(i=_fa;i<_f8.length;i++){_fb=_e7.byId(_f8[i]);if(_fb){_fb.set("focused",true);if(_fb._focusManager==this){_fb._onFocus(by);}this.emit("widget-focus",_fb,by);}}},focus:function(_fc){if(_fc){try{_fc.focus();}catch(e){}}}});var _fd=new _ea();_e2(function(){var _fe=_fd.registerWin(_e5.get(win.doc));if(has("ie")){_e4.addOnWindowUnload(function(){if(_fe){_fe.remove();_fe=null;}});}});_e8.focus=function(_ff){_fd.focus(_ff);};for(var attr in _fd){if(!/^_/.test(attr)){_e8.focus[attr]=typeof _fd[attr]=="function"?_e1.hitch(_fd,attr):_fd[attr];}}_fd.watch(function(attr,_100,_101){_e8.focus[attr]=_101;});return _fd;});},"dojo/window":function(){define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_102,dom,geom,_103,_104){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_102.body(doc),_105=_104.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_104.create("div",{style:{overflow:"hidden",direction:"ltr"}},_105,"last"),ret=geom.position(div).x!=0;_105.removeChild(div);body.removeChild(_105);return ret;});has.add("position-fixed-support",function(win,doc){var body=_102.body(doc),_106=_104.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_107=_104.create("span",{style:{position:"fixed",left:"0",top:"0"}},_106,"last"),ret=geom.position(_107).x!=geom.position(_106).x;_106.removeChild(_107);body.removeChild(_106);return ret;});var _108={getBox:function(doc){doc=doc||_102.doc;var _109=(doc.compatMode=="BackCompat")?_102.body(doc):doc.documentElement,_10a=geom.docScroll(doc),w,h;if(has("touch")){var _10b=_108.get(doc);w=_10b.innerWidth||_109.clientWidth;h=_10b.innerHeight||_109.clientHeight;}else{w=_109.clientWidth;h=_109.clientHeight;}return {l:_10a.x,t:_10a.y,w:w,h:h};},get:function(doc){if(has("ie")&&_108!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_102.doc,body=_102.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _10c=doc.compatMode=="BackCompat",_10d=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_10e=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_10f=(isWK||_10c)?body:html,_110=pos||geom.position(node),el=node.parentNode,_111=function(el){return (isIE<=6||(isIE==7&&_10c))?false:(has("position-fixed-support")&&(_103.get(el,"position").toLowerCase()=="fixed"));},self=this,_112=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_111(node)){return;}while(el){if(el==body){el=_10f;}var _113=geom.position(el),_114=_111(el),rtl=_103.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_10f){_113.w=_10d;_113.h=_10e;if(_10f==html&&(isIE||has("trident"))&&rtl){_113.x+=_10f.offsetWidth-_113.w;}if(_113.x<0||!isIE||isIE>=9||has("trident")){_113.x=0;}if(_113.y<0||!isIE||isIE>=9||has("trident")){_113.y=0;}}else{var pb=geom.getPadBorderExtents(el);_113.w-=pb.w;_113.h-=pb.h;_113.x+=pb.l;_113.y+=pb.t;var _115=el.clientWidth,_116=_113.w-_115;if(_115>0&&_116>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_113.x+=_116;}_113.w=_115;}_115=el.clientHeight;_116=_113.h-_115;if(_115>0&&_116>0){_113.h=_115;}}if(_114){if(_113.y<0){_113.h+=_113.y;_113.y=0;}if(_113.x<0){_113.w+=_113.x;_113.x=0;}if(_113.y+_113.h>_10e){_113.h=_10e-_113.y;}if(_113.x+_113.w>_10d){_113.w=_10d-_113.x;}}var l=_110.x-_113.x,t=_110.y-_113.y,r=l+_110.w-_113.w,bot=t+_110.h-_113.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_10f||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_10c)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_112(el,s,0);s=el.scrollLeft-old;_110.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_10f||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_112(el,0,s);s=el.scrollTop-old;_110.y-=s;}el=(el!=_10f)&&!_114&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_108);return _108;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_117,dom,_118,_119,lang,has,_11a){var _11b;var a11y={_isElementShown:function(elem){var s=_119.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_118.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _118.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _11c=elem.contentDocument;if("designMode" in _11c&&_11c.designMode=="on"){return true;}body=_11c.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_118.get(elem,"disabled")){return _11b;}else{if(_118.has(elem,"tabIndex")){return +_118.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_11b;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _11d,last,_11e,_11f,_120,_121,_122={};function _123(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _124=a11y._isElementShown,_125=a11y.effectiveTabIndex;var _126=function(_127){for(var _128=_127.firstChild;_128;_128=_128.nextSibling){if(_128.nodeType!=1||(has("ie")<=9&&_128.scopeName!=="HTML")||!_124(_128)){continue;}var _129=_125(_128);if(_129>=0){if(_129==0){if(!_11d){_11d=_128;}last=_128;}else{if(_129>0){if(!_11e||_129<_11f){_11f=_129;_11e=_128;}if(!_120||_129>=_121){_121=_129;_120=_128;}}}var rn=_123(_128);if(_118.get(_128,"checked")&&rn){_122[rn]=_128;}}if(_128.nodeName.toUpperCase()!="SELECT"){_126(_128);}}};if(_124(root)){_126(root);}function rs(node){return _122[_123(node)]||node;};return {first:rs(_11d),last:rs(last),lowest:rs(_11e),highest:rs(_120)};},getFirstInTabbingOrder:function(root,doc){var _12a=a11y._getTabNavigable(dom.byId(root,doc));return _12a.lowest?_12a.lowest:_12a.first;},getLastInTabbingOrder:function(root,doc){var _12b=a11y._getTabNavigable(dom.byId(root,doc));return _12b.last?_12b.last:_12b.highest;}};1&&lang.mixin(_11a,a11y);return a11y;});},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_12c,lang,_12d,has,_12e){var html=_12e.doc.documentElement,ie=has("ie"),_12f=has("opera"),maj=Math.floor,ff=has("ff"),_130=_12c.boxModel.replace(/-/,""),_131={"dj_quirks":has("quirks"),"dj_opera":_12f,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_131["dj_ie"]=true;_131["dj_ie"+maj(ie)]=true;_131["dj_iequirks"]=has("quirks");}if(ff){_131["dj_ff"+maj(ff)]=true;}_131["dj_"+_130]=true;var _132="";for(var clz in _131){if(_131[clz]){_132+=clz+" ";}}html.className=lang.trim(html.className+" "+_132);_12d(90,function(){if(!_12c.isBodyLtr()){var _133="dj_rtl dijitRtl "+_132.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_133+"dj_rtl dijitRtl "+_132.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(_134,has,_135,win){_135(90,function(){if(has("highcontrast")){_134.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./ready","./_base/window"],function(_136,_137,_138,_139,has,_13a,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_137.blankGif||_136.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_139.getComputedStyle(div),_13b=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_13b&&(_13b=="none"||_13b=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_13a(90,function(){if(has("highcontrast")){_138.add(win.body(),"dj_a11y");}});return has;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(_13c,_13d,_13e){return _13d("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_13f,_140){var _141=this.containerNode;if(_140&&typeof _140=="number"){var _142=this.getChildren();if(_142&&_142.length>=_140){_141=_142[_140-1].domNode;_140="after";}}_13e.place(_13f.domNode,_141,_140);if(this._started&&!_13f._started){_13f.startup();}},removeChild:function(_143){if(typeof _143=="number"){_143=this.getChildren()[_143];}if(_143){var node=_143.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_144,dir){var _145=this.getChildren(),idx=_13c.indexOf(this.getChildren(),_144);return _145[idx+dir];},getIndexOfChild:function(_146){return _13c.indexOf(this.getChildren(),_146);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_147,_148,_149,_14a,_14b,lang,_14c,has,_14d,_14e,_14f){return _148("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _150=this.getParent();this._childOfLayoutWidget=_150&&_150.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_14e.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _151=[],_152=false;_14c("> *",this.containerNode).some(function(node){var _153=_14d.byNode(node);if(_153&&_153.resize){_151.push(_153);}else{if(node.offsetHeight){_152=true;}}});this._singleChild=_151.length==1&&!_152?_151[0]:null;_149.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_154,_155){this._resizeCalled=true;this._scheduleLayout(_154,_155);},_scheduleLayout:function(_156,_157){if(this._isShown()){this._layout(_156,_157);}else{this._needLayout=true;this._changeSize=_156;this._resultSize=_157;}},_layout:function(_158,_159){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_158){_14a.setMarginBox(this.domNode,_158);}var cn=this.containerNode;if(cn===this.domNode){var mb=_159||{};lang.mixin(mb,_158||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_14a.getMarginBox(cn),mb);}this._contentBox=_14f.marginBox2contentBox(cn,mb);}else{this._contentBox=_14a.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_14a.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_147.forEach(this.getChildren(),function(_15a){if(_15a.resize){_15a.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_15b=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_149.contains(node,"dijitHidden")&&_15b&&_15b.style&&(_15b.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/sniff","dojo/_base/window","dojo/window"],function(_15c,on,_15d,has,win,_15e){var _15f=new _15c();var _160;_15d(200,function(){var _161=_15e.getBox();_15f._rlh=on(win.global,"resize",function(){var _162=_15e.getBox();if(_161.h==_162.h&&_161.w==_162.w){return;}_161=_162;_15f.emit("resize");});if(has("ie")==8){var _163=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_163){_163=screen.deviceXDPI;_15f.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_160=evt.target;});on(document,"focusout",function(evt){_160=null;});}});_15f.getEffectiveBox=function(doc){var box=_15e.getBox(doc);var tag=_160&&_160.tagName&&_160.tagName.toLowerCase();if(has("ios")&&_160&&!_160.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_160.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_160.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _15f;});},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","../main"],function(_164,_165,_166,_167,lang,_168){var _169=lang.getObject("layout",true,_168);_169.marginBox2contentBox=function(node,mb){var cs=_167.getComputedStyle(node);var me=_166.getMarginExtents(node,cs);var pb=_166.getPadBorderExtents(node,cs);return {l:_167.toPixelValue(node,cs.paddingLeft),t:_167.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _16a(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_16b,dim){var _16c=_16b.resize?_16b.resize(dim):_166.setMarginBox(_16b.domNode,dim);if(_16c){lang.mixin(_16b,_16c);}else{lang.mixin(_16b,_166.getMarginBox(_16b.domNode));lang.mixin(_16b,dim);}};_169.layoutChildren=function(_16d,dim,_16e,_16f,_170){dim=lang.mixin({},dim);_165.add(_16d,"dijitLayoutContainer");_16e=_164.filter(_16e,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_164.filter(_16e,function(item){return item.region=="center"||item.layoutAlign=="client";}));_164.forEach(_16e,function(_171){var elm=_171.domNode,pos=(_171.region||_171.layoutAlign);if(!pos){throw new Error("No region setting for "+_171.id);}var _172=elm.style;_172.left=dim.l+"px";_172.top=dim.t+"px";_172.position="absolute";_165.add(elm,"dijitAlign"+_16a(pos));var _173={};if(_16f&&_16f==_171.id){_173[_171.region=="top"||_171.region=="bottom"?"h":"w"]=_170;}if(pos=="top"||pos=="bottom"){_173.w=dim.w;size(_171,_173);dim.h-=_171.h;if(pos=="top"){dim.t+=_171.h;}else{_172.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_173.h=dim.h;size(_171,_173);dim.w-=_171.w;if(pos=="left"){dim.l+=_171.w;}else{_172.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_171,dim);}}}});};return {marginBox2contentBox:_169.marginBox2contentBox,layoutChildren:_169.layoutChildren};});},"dojo/html":function(){define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_174,lang,_175,_176,dom,_177,_178){var html={};lang.setObject("dojo.html",html);var _179=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_177.empty;html._setNodeContent=function(node,cont){_177.empty(node);if(cont){if(typeof cont=="string"){cont=_177.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _17a=cont.length,i=0;i<cont.length;i=_17a==cont.length?i+1:0){_177.place(cont[i],node,"last");}}else{_177.place(cont,node,"last");}}return node;};html._ContentSetter=_176("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_174._scopeName,startup:true,constructor:function(_17b,node){lang.mixin(this,_17b||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_179++].join("_");}},set:function(cont,_17c){if(undefined!==cont){this.content=cont;}if(_17c){this._mixin(_17c);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _17d=this.onContentError(e);try{node.innerHTML=_17d;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_175.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_177.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _17e=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_17e){cont=_17e[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_17f){var _180={},key;for(key in _17f){if(key in _180){continue;}this[key]=_17f[key];}},_parse:function(){var _181=this.node;try{var _182={};_175.forEach(["dir","lang","textDir"],function(name){if(this[name]){_182[name]=this[name];}},this);var self=this;this.parseDeferred=_178.parse({rootNode:_181,noStart:!this.startup,inherited:_182,scope:this.parserScope}).then(function(_183){return self.parseResults=_183;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_184){var _185=this["on"+type+"Error"].call(this,err);if(_184){console.error(_184,err);}else{if(_185){html._setNodeContent(this.node,_185,true);}}}});html.set=function(node,cont,_186){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_186){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_186,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_187,dojo,_188,_189,_18a,_18b,_18c,_18d,_18e,_18f,_190,_191,has,_192,don,_193){new Date("X");var _194=0;_18f.after(_188,"extend",function(){_194++;},true);function _195(ctor){var map=ctor._nameCaseMap,_196=ctor.prototype;if(!map||map._extendCnt<_194){map=ctor._nameCaseMap={};for(var name in _196){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_194;}return map;};var _197={};function _198(_199){var ts=_199.join();if(!_197[ts]){var _19a=[];for(var i=0,l=_199.length;i<l;i++){var t=_199[i];_19a[_19a.length]=(_197[t]=_197[t]||(_188.getObject(t)||(~t.indexOf("/")&&_187(t))));}var ctor=_19a.shift();_197[ts]=_19a.length?(ctor.createSubclass?ctor.createSubclass(_19a):ctor.extend.apply(ctor,_19a)):ctor;}return _197[ts];};var _19b={_clearCache:function(){_194++;_197={};},_functionFromScript:function(_19c,_19d){var _19e="",_19f="",_1a0=(_19c.getAttribute(_19d+"args")||_19c.getAttribute("args")),_1a1=_19c.getAttribute("with");var _1a2=(_1a0||"").split(/\s*,\s*/);if(_1a1&&_1a1.length){_189.forEach(_1a1.split(/\s*,\s*/),function(part){_19e+="with("+part+"){";_19f+="}";});}return new Function(_1a2,_19e+_19c.innerHTML+_19f);},instantiate:function(_1a3,_1a4,_1a5){_1a4=_1a4||{};_1a5=_1a5||{};var _1a6=(_1a5.scope||dojo._scopeName)+"Type",_1a7="data-"+(_1a5.scope||dojo._scopeName)+"-",_1a8=_1a7+"type",_1a9=_1a7+"mixins";var list=[];_189.forEach(_1a3,function(node){var type=_1a6 in _1a4?_1a4[_1a6]:node.getAttribute(_1a8)||node.getAttribute(_1a6);if(type){var _1aa=node.getAttribute(_1a9),_1ab=_1aa?[type].concat(_1aa.split(/\s*,\s*/)):[type];list.push({node:node,types:_1ab});}});return this._instantiate(list,_1a4,_1a5);},_instantiate:function(_1ac,_1ad,_1ae){var _1af=_189.map(_1ac,function(obj){var ctor=obj.ctor||_198(obj.types);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_1ad,_1ae,obj.scripts,obj.inherited);},this);if(!_1ad._started&&!_1ae.noStart){_189.forEach(_1af,function(_1b0){if(typeof _1b0.startup==="function"&&!_1b0._started){_1b0.startup();}});}return _1af;},construct:function(ctor,node,_1b1,_1b2,_1b3,_1b4){var _1b5=ctor&&ctor.prototype;_1b2=_1b2||{};var _1b6={};if(_1b2.defaults){_188.mixin(_1b6,_1b2.defaults);}if(_1b4){_188.mixin(_1b6,_1b4);}var _1b7;if(has("dom-attributes-explicit")){_1b7=node.attributes;}else{if(has("dom-attributes-specified-flag")){_1b7=_189.filter(node.attributes,function(a){return a.specified;});}else{var _1b8=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_1b9=_1b8.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_1b7=_189.map(_1b9.split(/\s+/),function(name){var _1ba=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_1ba=="enctype"?node.getAttribute(_1ba):node.getAttributeNode(_1ba).value};});}}var _1bb=_1b2.scope||dojo._scopeName,_1bc="data-"+_1bb+"-",hash={};if(_1bb!=="dojo"){hash[_1bc+"props"]="data-dojo-props";hash[_1bc+"type"]="data-dojo-type";hash[_1bc+"mixins"]="data-dojo-mixins";hash[_1bb+"type"]="dojoType";hash[_1bc+"id"]="data-dojo-id";}var i=0,item,_1bd=[],_1be,_1bf;while(item=_1b7[i++]){var name=item.name,_1c0=name.toLowerCase(),_1c1=item.value;switch(hash[_1c0]||_1c0){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_1bf=_1c1;break;case "data-dojo-id":case "jsid":_1be=_1c1;break;case "data-dojo-attach-point":case "dojoattachpoint":_1b6.dojoAttachPoint=_1c1;break;case "data-dojo-attach-event":case "dojoattachevent":_1b6.dojoAttachEvent=_1c1;break;case "class":_1b6["class"]=node.className;break;case "style":_1b6["style"]=node.style&&node.style.cssText;break;default:if(!(name in _1b5)){var map=_195(ctor);name=map[_1c0]||name;}if(name in _1b5){switch(typeof _1b5[name]){case "string":_1b6[name]=_1c1;break;case "number":_1b6[name]=_1c1.length?Number(_1c1):NaN;break;case "boolean":_1b6[name]=_1c1.toLowerCase()!="false";break;case "function":if(_1c1===""||_1c1.search(/[^\w\.]+/i)!=-1){_1b6[name]=new Function(_1c1);}else{_1b6[name]=_188.getObject(_1c1,false)||new Function(_1c1);}_1bd.push(name);break;default:var pVal=_1b5[name];_1b6[name]=(pVal&&"length" in pVal)?(_1c1?_1c1.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_1c1==""?new Date(""):_1c1=="now"?new Date():_190.fromISOString(_1c1)):(pVal instanceof _18d)?(dojo.baseUrl+_1c1):_18e.fromJson(_1c1);}}else{_1b6[name]=_1c1;}}}for(var j=0;j<_1bd.length;j++){var _1c2=_1bd[j].toLowerCase();node.removeAttribute(_1c2);node[_1c2]=null;}if(_1bf){try{_1bf=_18e.fromJson.call(_1b2.propsThis,"{"+_1bf+"}");_188.mixin(_1b6,_1bf);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1bf+"'");}}_188.mixin(_1b6,_1b1);if(!_1b3){_1b3=(ctor&&(ctor._noScript||_1b5._noScript)?[]:_192("> script[type^='dojo/']",node));}var _1c3=[],_1c4=[],_1c5=[],ons=[];if(_1b3){for(i=0;i<_1b3.length;i++){var _1c6=_1b3[i];node.removeChild(_1c6);var _1c7=(_1c6.getAttribute(_1bc+"event")||_1c6.getAttribute("event")),prop=_1c6.getAttribute(_1bc+"prop"),_1c8=_1c6.getAttribute(_1bc+"method"),_1c9=_1c6.getAttribute(_1bc+"advice"),_1ca=_1c6.getAttribute("type"),nf=this._functionFromScript(_1c6,_1bc);if(_1c7){if(_1ca=="dojo/connect"){_1c3.push({method:_1c7,func:nf});}else{if(_1ca=="dojo/on"){ons.push({event:_1c7,func:nf});}else{_1b6[_1c7]=nf;}}}else{if(_1ca=="dojo/aspect"){_1c3.push({method:_1c8,advice:_1c9,func:nf});}else{if(_1ca=="dojo/watch"){_1c5.push({prop:prop,func:nf});}else{_1c4.push(nf);}}}}}var _1cb=ctor.markupFactory||_1b5.markupFactory;var _1cc=_1cb?_1cb(_1b6,node,ctor):new ctor(_1b6,node);if(_1be){_188.setObject(_1be,_1cc);}for(i=0;i<_1c3.length;i++){_18f[_1c3[i].advice||"after"](_1cc,_1c3[i].method,_188.hitch(_1cc,_1c3[i].func),true);}for(i=0;i<_1c4.length;i++){_1c4[i].call(_1cc);}for(i=0;i<_1c5.length;i++){_1cc.watch(_1c5[i].prop,_1c5[i].func);}for(i=0;i<ons.length;i++){don(_1cc,ons[i].event,ons[i].func);}return _1cc;},scan:function(root,_1cd){var list=[],mids=[],_1ce={};var _1cf=(_1cd.scope||dojo._scopeName)+"Type",_1d0="data-"+(_1cd.scope||dojo._scopeName)+"-",_1d1=_1d0+"type",_1d2=_1d0+"textdir",_1d3=_1d0+"mixins";var node=root.firstChild;var _1d4=_1cd.inherited;if(!_1d4){function _1d5(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1d5(node.parentNode,attr));};_1d4={dir:_1d5(root,"dir"),lang:_1d5(root,"lang"),textDir:_1d5(root,_1d2)};for(var key in _1d4){if(!_1d4[key]){delete _1d4[key];}}}var _1d6={inherited:_1d4};var _1d7;var _1d8;function _1d9(_1da){if(!_1da.inherited){_1da.inherited={};var node=_1da.node,_1db=_1d9(_1da.parent);var _1dc={dir:node.getAttribute("dir")||_1db.dir,lang:node.getAttribute("lang")||_1db.lang,textDir:node.getAttribute(_1d2)||_1db.textDir};for(var key in _1dc){if(_1dc[key]){_1da.inherited[key]=_1dc[key];}}}return _1da.inherited;};while(true){if(!node){if(!_1d6||!_1d6.node){break;}node=_1d6.node.nextSibling;_1d8=false;_1d6=_1d6.parent;_1d7=_1d6.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1d7&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1d7.push(node);}node=node.nextSibling;continue;}if(_1d8){node=node.nextSibling;continue;}var type=node.getAttribute(_1d1)||node.getAttribute(_1cf);var _1dd=node.firstChild;if(!type&&(!_1dd||(_1dd.nodeType==3&&!_1dd.nextSibling))){node=node.nextSibling;continue;}var _1de;var ctor=null;if(type){var _1df=node.getAttribute(_1d3),_1e0=_1df?[type].concat(_1df.split(/\s*,\s*/)):[type];try{ctor=_198(_1e0);}catch(e){}if(!ctor){_189.forEach(_1e0,function(t){if(~t.indexOf("/")&&!_1ce[t]){_1ce[t]=true;mids[mids.length]=t;}});}var _1e1=ctor&&!ctor.prototype._noScript?[]:null;_1de={types:_1e0,ctor:ctor,parent:_1d6,node:node,scripts:_1e1};_1de.inherited=_1d9(_1de);list.push(_1de);}else{_1de={node:node,scripts:_1d7,parent:_1d6};}node=_1dd;_1d7=_1e1;_1d8=ctor&&ctor.prototype.stopParser&&!(_1cd.template);_1d6=_1de;}var d=new _191();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}_187(mids,function(){d.resolve(_189.filter(list,function(_1e2){if(!_1e2.ctor){try{_1e2.ctor=_198(_1e2.types);}catch(e){}}var _1e3=_1e2.parent;while(_1e3&&!_1e3.types){_1e3=_1e3.parent;}var _1e4=_1e2.ctor&&_1e2.ctor.prototype;_1e2.instantiateChildren=!(_1e4&&_1e4.stopParser&&!(_1cd.template));_1e2.instantiate=!_1e3||(_1e3.instantiate&&_1e3.instantiateChildren);return _1e2.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_1e5){var hash=_18e.fromJson("{"+_1e5.innerHTML+"}"),vars=[],mids=[],d=new _191();for(var name in hash){vars.push(name);mids.push(hash[name]);}_187(mids,function(){for(var i=0;i<vars.length;i++){_188.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root){var _1e6=new _191(),_1e7=_1e6.promise;_1e6.resolve(true);var self=this;_192("script[type='dojo/require']",root).forEach(function(node){_1e7=_1e7.then(function(){return self._require(node);});node.parentNode.removeChild(node);});return _1e7;},parse:function(_1e8,_1e9){var root;if(!_1e9&&_1e8&&_1e8.rootNode){_1e9=_1e8;root=_1e9.rootNode;}else{if(_1e8&&_188.isObject(_1e8)&&!("nodeType" in _1e8)){_1e9=_1e8;}else{root=_1e8;}}root=root?_18b.byId(root):_18c.body();_1e9=_1e9||{};var _1ea=_1e9.template?{template:true}:{},_1eb=[],self=this;var p=this._scanAmd(root,_1e9).then(function(){return self.scan(root,_1e9);}).then(function(_1ec){return _1eb=_1eb.concat(self._instantiate(_1ec,_1ea,_1e9));}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_188.mixin(_1eb,p);return _1eb;}};if(1){dojo.parser=_19b;}if(_18a.parseOnLoad){_193(100,_19b,"parse");}return _19b;});},"dojo/_base/url":function(){define("dojo/_base/url",["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1ed=function(){var n=null,_1ee=arguments,uri=[_1ee[0]];for(var i=1;i<_1ee.length;i++){if(!_1ee[i]){continue;}var _1ef=new _1ed(_1ee[i]+""),_1f0=new _1ed(uri[0]+"");if(_1ef.path==""&&!_1ef.scheme&&!_1ef.authority&&!_1ef.query){if(_1ef.fragment!=n){_1f0.fragment=_1ef.fragment;}_1ef=_1f0;}else{if(!_1ef.scheme){_1ef.scheme=_1f0.scheme;if(!_1ef.authority){_1ef.authority=_1f0.authority;if(_1ef.path.charAt(0)!="/"){var path=_1f0.path.substring(0,_1f0.path.lastIndexOf("/")+1)+_1ef.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1ef.path=segs.join("/");}}}}uri=[];if(_1ef.scheme){uri.push(_1ef.scheme,":");}if(_1ef.authority){uri.push("//",_1ef.authority);}uri.push(_1ef.path);if(_1ef.query){uri.push("?",_1ef.query);}if(_1ef.fragment){uri.push("#",_1ef.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1ed.prototype.toString=function(){return this.uri;};return dojo._Url=_1ed;});},"dijit/nls/loading":function(){define("dijit/nls/loading",{root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n"}});define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1f1,_1f2,_1f3,keys,lang,_1f4,_1f5,_1f6,_1f7,_1f8,_1f9,_1fa){return _1f1("dijit.TooltipDialog",[_1f5,_1f8,_1f7,_1f6],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1f9,_setTitleAttr:function(_1fb){this.containerNode.title=_1fb;this._set("title",_1fb);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_1fc,_1fd){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1fc+"-"+_1fd];_1f2.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_1f4.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _1fe=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1fe.y+((_1fe.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1fe.x+((_1fe.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.containerNode);}var _1ff=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==keys.ESCAPE){this.defer("onCancel");_1f3.stop(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_1ff){_1f4.focus(this._lastFocusItem);}_1f3.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_1ff){_1f4.focus(this._firstFocusItem);}_1f3.stop(evt);}else{if(evt.charOrCode===keys.TAB){evt.stopPropagation();}}}}}});});},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_200,a11y){return _200("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _201=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_201.lowest||_201.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_201.last||_201.highest||this._firstFocusItem;}});});},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_202,_203,_204,lang,on,_205){return _203("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_206){var res=[];_202.forEach(_206||this.getChildren(),function(_207){if("value" in _207){res.push(_207);}else{res=res.concat(this._getDescendantFormWidgets(_207.getChildren()));}},this);return res;},reset:function(){_202.forEach(this._getDescendantFormWidgets(),function(_208){if(_208.reset){_208.reset();}});},validate:function(){var _209=false;return _202.every(_202.map(this._getDescendantFormWidgets(),function(_20a){_20a._hasBeenBlurred=true;var _20b=_20a.disabled||!_20a.validate||_20a.validate();if(!_20b&&!_209){_205.scrollIntoView(_20a.containerNode||_20a.domNode);_20a.focus();_209=true;}return _20b;}),function(item){return item;});},setValues:function(val){_204.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_202.forEach(this._getDescendantFormWidgets(),function(_20c){if(!_20c.name){return;}var _20d=map[_20c.name]||(map[_20c.name]=[]);_20d.push(_20c);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _20e=map[name],_20f=lang.getObject(name,false,obj);if(_20f===undefined){continue;}if(!lang.isArray(_20f)){_20f=[_20f];}if(typeof _20e[0].checked=="boolean"){_202.forEach(_20e,function(w){w.set("value",_202.indexOf(_20f,w.value)!=-1);});}else{if(_20e[0].multiple){_20e[0].set("value",_20f);}else{_202.forEach(_20e,function(w,i){w.set("value",_20f[i]);});}}}},getValues:function(){_204.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_202.forEach(this._getDescendantFormWidgets(),function(_210){var name=_210.name;if(!name||_210.disabled){return;}var _211=_210.get("value");if(typeof _210.checked=="boolean"){if(/Radio/.test(_210.declaredClass)){if(_211!==false){lang.setObject(name,_211,obj);}else{_211=lang.getObject(name,false,obj);if(_211===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_211!==false){ary.push(_211);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_211);}else{lang.setObject(name,[prev,_211],obj);}}else{lang.setObject(name,_211,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _212=_202.map(this._descendants,function(w){return w.get("state")||"";});return _202.indexOf(_212,"Error")>=0?"Error":_202.indexOf(_212,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_213){this._descendants=this._getDescendantFormWidgets();_202.forEach(this._descendants,function(_214){if(!_214._started){_214.startup();}});if(!_213){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_215,_216){this.onValidStateChange(_216=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/sniff","dojo/_base/unload"],function(lang,_217,_218,_219,_21a,_21b,_21c,_21d,has,_21e){var _21f=_21c("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _220=this.declaredClass,_221=this;return _219.substitute(tmpl,this,function(_222,key){if(key.charAt(0)=="!"){_222=lang.getObject(key.substr(1),false,_221);}if(typeof _222=="undefined"){throw new Error(_220+" template:"+key);}if(_222==null){return "";}return key.charAt(0)=="!"?_222:_222.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_21a(this.templatePath,{sanitize:true});}var _223=_21f.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_223)){node=_21d.toDom(this._stringRepl(_223),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_223);}}else{node=_223.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_224){var dest=this.containerNode;if(_224&&dest){while(_224.hasChildNodes()){dest.appendChild(_224.firstChild);}}},_attachTemplateNodes:function(_225,_226){var _227=lang.isArray(_225)?_225:(_225.all||_225.getElementsByTagName("*"));var x=lang.isArray(_225)?0:-1;for(;x<0||_227[x];x++){var _228=(x==-1)?_225:_227[x];if(this.widgetsInTemplate&&(_226(_228,"dojoType")||_226(_228,"data-dojo-type"))){continue;}var _229=_226(_228,"dojoAttachPoint")||_226(_228,"data-dojo-attach-point");if(_229){var _22a,_22b=_229.split(/\s*,\s*/);while((_22a=_22b.shift())){if(lang.isArray(this[_22a])){this[_22a].push(_228);}else{this[_22a]=_228;}this._attachPoints.push(_22a);}}var _22c=_226(_228,"dojoAttachEvent")||_226(_228,"data-dojo-attach-event");if(_22c){var _22d,_22e=_22c.split(/\s*,\s*/);var trim=lang.trim;while((_22d=_22e.shift())){if(_22d){var _22f=null;if(_22d.indexOf(":")!=-1){var _230=_22d.split(":");_22d=trim(_230[0]);_22f=trim(_230[1]);}else{_22d=trim(_22d);}if(!_22f){_22f=_22d;}this._attachEvents.push(this.connect(_228,_217[_22d]||_22d,_22f));}}}}},destroyRendering:function(){_21b.forEach(this._attachPoints,function(_231){delete this[_231];},this);this._attachPoints=[];_21b.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_21f._templateCache={};_21f.getCachedTemplate=function(_232,_233,doc){var _234=_21f._templateCache;var key=_232;var _235=_234[key];if(_235){try{if(!_235.ownerDocument||_235.ownerDocument==(doc||document)){return _235;}}catch(e){}_21d.destroy(_235);}_232=_219.trim(_232);if(_233||_232.match(/\$\{([^\}]+)\}/g)){return (_234[key]=_232);}else{var node=_21d.toDom(_232,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_232);}return (_234[key]=node);}};if(has("ie")){_21e.addOnWindowUnload(function(){var _236=_21f._templateCache;for(var key in _236){var _237=_236[key];if(typeof _237=="object"){_21d.destroy(_237);}delete _236[key];}});}lang.extend(_218,{dojoAttachEvent:"",dojoAttachPoint:""});return _21f;});},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_238,dom,on,has,_239,_23a,win){var _23b=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _23c;function _23d(_23e,_23f){if(_23b){return function(node,_240){var _241=on(node,_23f,_240),_242=on(node,_23e,function(evt){if(!_23c||(new Date()).getTime()>_23c+1000){_240.call(this,evt);}});return {remove:function(){_241.remove();_242.remove();}};};}else{return function(node,_243){return on(node,_23e,_243);};}};var _244,_245;if(_23b){_23a(function(){_245=win.body();win.doc.addEventListener("touchstart",function(evt){_23c=(new Date()).getTime();var _246=_245;_245=evt.target;on.emit(_246,"dojotouchout",{target:_246,relatedTarget:_245,bubbles:true});on.emit(_245,"dojotouchover",{target:_245,relatedTarget:_246,bubbles:true});},true);on(win.doc,"touchmove",function(evt){_23c=(new Date()).getTime();var _247=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_247&&_245!==_247){on.emit(_245,"dojotouchout",{target:_245,relatedTarget:_247,bubbles:true});on.emit(_247,"dojotouchover",{target:_247,relatedTarget:_245,bubbles:true});_245=_247;}});});_244=function(node,_248){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_245,node)){evt.target=_245;_248.call(this,evt);}});};}var _249={press:_23d("mousedown","touchstart"),move:_23d("mousemove",_244),release:_23d("mouseup","touchend"),cancel:_23d(_239.leave,"touchcancel"),over:_23d("mouseover","dojotouchover"),out:_23d("mouseout","dojotouchout"),enter:_239._eventHandler(_23d("mouseover","dojotouchover")),leave:_239._eventHandler(_23d("mouseout","dojotouchout"))};1&&(dojo.touch=_249);return _249;});},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_24a,has,xhr){var _24b;if(1){_24b=function(url,sync,load){xhr("GET",{url:url,sync:!!sync,load:load,headers:dojo.config.textPluginHeaders||{}});};}else{if(_24a.getText){_24b=_24a.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _24c={},_24d=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _24e=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_24e){text=_24e[1];}}else{text="";}return text;},_24f={},_250={};dojo.cache=function(_251,url,_252){var key;if(typeof _251=="string"){if(/\//.test(_251)){key=_251;_252=url;}else{key=_24a.toUrl(_251.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_251+"";_252=url;}var val=(_252!=undefined&&typeof _252!="string")?_252.value:_252,_253=_252&&_252.sanitize;if(typeof val=="string"){_24c[key]=val;return _253?_24d(val):val;}else{if(val===null){delete _24c[key];return null;}else{if(!(key in _24c)){_24b(key,true,function(text){_24c[key]=text;});}return _253?_24d(_24c[key]):_24c[key];}}};return {dynamic:true,normalize:function(id,_254){var _255=id.split("!"),url=_255[0];return (/^\./.test(url)?_254(url):url)+(_255[1]?"!"+_255[1]:"");},load:function(id,_256,load){var _257=id.split("!"),_258=_257.length>1,_259=_257[0],url=_256.toUrl(_257[0]),_25a="url:"+url,text=_24f,_25b=function(text){load(_258?_24d(text):text);};if(_259 in _24c){text=_24c[_259];}else{if(_25a in _256.cache){text=_256.cache[_25a];}else{if(url in _24c){text=_24c[url];}}}if(text===_24f){if(_250[url]){_250[url].push(_25b);}else{var _25c=_250[url]=[_25b];_24b(url,!_256.async,function(text){_24c[_259]=_24c[url]=text;for(var i=0;i<_25c.length;){_25c[i++](text);}delete _250[url];});}}else{_25b(text);}}};});},"url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_25d,_25e,_25f,_260){return _25d("dijit.form.Textarea",[_260,_25f],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_25e.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_261,_262,has,lang,on,win,_263){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_262.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _264=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _264;});return _261("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _265=this.textbox;_265.style.overflowY="hidden";this.own(on(_265,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_263.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _266=this.textbox;_266.rows=(_266.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _267=this.textbox;function _268(){var _269=false;if(_267.value===""){_267.value=" ";_269=true;}var sh=_267.scrollHeight;if(_269){_267.value="";}return sh;};if(_267.style.overflowY=="hidden"){_267.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_268()||_267.offsetHeight){var newH=_268()+Math.max(_267.offsetHeight-_267.clientHeight,0);var _26a=newH+"px";if(_26a!=_267.style.height){_267.style.height=_26a;_267.rows=1;}if(has("textarea-needs-help-shrinking")){var _26b=_268(),_26c=_26b,_26d=_267.style.minHeight,_26e=4,_26f,_270=_267.scrollTop;_267.style.minHeight=_26a;_267.style.height="auto";while(newH>0){_267.style.minHeight=Math.max(newH-_26e,4)+"px";_26f=_268();var _271=_26c-_26f;newH-=_271;if(_271<_26e){break;}_26c=_26f;_26e<<=1;}_267.style.height=newH+"px";_267.style.minHeight=_26d;_267.scrollTop=_270;}_267.style.overflowY=_268()>_267.clientHeight?"auto":"hidden";if(_267.style.overflowY=="hidden"){_267.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_272,_273,has,_274){return _272("dijit.form.SimpleTextarea",_274,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_273.add(this.textbox,"dijitTextAreaCols");}},filter:function(_275){if(_275){_275=_275.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _276=parseInt(this.maxLength);var _277=this.textbox.value.replace(/\r/g,"");var _278=_277.length-_276;if(_278>0){var _279=this.textbox;if(_279.selectionStart){var pos=_279.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_277.substring(0,pos-_278-cr)+_277.substring(pos-cr);_279.setSelectionRange(pos-_278,pos-_278);}else{if(this.ownerDocument.selection){_279.focus();var _27a=this.ownerDocument.selection.createRange();_27a.moveStart("character",-_278);_27a.text="";_27a.select();}}}}this.inherited(arguments);}});});},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_27b,_27c,_27d,_27e,lang,has,_27f,_280,_281,_282){var _283=_27b("dijit.form.TextBox",[_27f,_280],{templateString:_281,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_27d.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _284=this.domNode.getElementsByTagName("INPUT");if(_284){for(var i=0;i<_284.length;i++){_284[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_27c.create("span",{onmousedown:function(e){e.preventDefault();},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_285,_286,_287){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_27e.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_288){_27e.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_288);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_283.prototype._isTextSelected=function(){var _289=this.ownerDocument.selection.createRange();var _28a=_289.parentElement();return _28a==this.textbox&&_289.text.length>0;};_282._setSelectionRange=_280._setSelectionRange=function(_28b,_28c,stop){if(_28b.createTextRange){var r=_28b.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_28c);r.moveEnd("character",stop-_28c);r.select();}};}return _283;});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_28d,has,_28e,_28f){return _28d("dijit.form._FormValueWidget",[_28e,_28f],{_layoutHackIE7:function(){if(has("ie")==7){var _290=this.domNode;var _291=_290.parentNode;var _292=_290.firstChild||_290;var _293=_292.style.filter;var _294=this;while(_291&&_291.clientHeight==0){(function ping(){var _295=_294.connect(_291,"onscroll",function(){_294.disconnect(_295);_292.style.filter=(new Date()).getMilliseconds();_294.defer(function(){_292.style.filter=_293;});});})();_291=_291.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_296,has,_297,_298,_299,_29a,_29b,_29c){if(has("dijit-legacy-requires")){_298(0,function(){var _29d=["dijit/form/_FormValueWidget"];require(_29d);});}return _296("dijit.form._FormWidget",[_299,_29b,_29a,_29c],{setDisabled:function(_29e){_297.deprecated("setDisabled("+_29e+") is deprecated. Use set('disabled',"+_29e+") instead.","","2.0");this.set("disabled",_29e);},setValue:function(_29f){_297.deprecated("dijit.form._FormWidget:setValue("+_29f+") is deprecated.  Use set('value',"+_29f+") instead.","","2.0");this.set("value",_29f);},getValue:function(){_297.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/window","./registry"],function(_2a0,_2a1,dom,_2a2,has,lang,on,_2a3,win,_2a4){var _2a5=_2a1("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_2a0.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_2a6){if(!this.disabled){switch(_2a6.type){case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":this._set("active",true);break;case "mouseup":case "touchend":this._set("active",false);break;}}},_setStateClass:function(){var _2a7=this.baseClass.split(" ");function _2a8(_2a9){_2a7=_2a7.concat(_2a0.map(_2a7,function(c){return c+_2a9;}),"dijit"+_2a9);};if(!this.isLeftToRight()){_2a8("Rtl");}var _2aa=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_2a8(_2aa);}if(this.state){_2a8(this.state);}if(this.selected){_2a8("Selected");}if(this._opened){_2a8("Opened");}if(this.disabled){_2a8("Disabled");}else{if(this.readOnly){_2a8("ReadOnly");}else{if(this.active){_2a8("Active");}else{if(this.hovering){_2a8("Hover");}}}}if(this.focused){_2a8("Focused");}var tn=this.stateNode||this.domNode,_2ab={};_2a0.forEach(tn.className.split(" "),function(c){_2ab[c]=true;});if("_stateClasses" in this){_2a0.forEach(this._stateClasses,function(c){delete _2ab[c];});}_2a0.forEach(_2a7,function(c){_2ab[c]=true;});var _2ac=[];for(var c in _2ab){_2ac.push(c);}tn.className=_2ac.join(" ");this._stateClasses=_2a7;},_subnodeCssMouseEvent:function(node,_2ad,evt){if(this.disabled||this.readOnly){return;}function _2ae(_2af){_2a2.toggle(node,_2ad+"Hover",_2af);};function _2b0(_2b1){_2a2.toggle(node,_2ad+"Active",_2b1);};function _2b2(_2b3){_2a2.toggle(node,_2ad+"Focused",_2b3);};switch(evt.type){case "mouseover":_2ae(true);break;case "mouseout":_2ae(false);_2b0(false);break;case "mousedown":case "touchstart":_2b0(true);break;case "mouseup":case "touchend":_2b0(false);break;case "focus":case "focusin":_2b2(true);break;case "blur":case "focusout":_2b2(false);break;}},_trackMouseState:function(node,_2b4){node._cssState=_2b4;}});_2a3(function(){function _2b5(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target)){for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode){if(node._cssState){var _2b6=_2a4.getEnclosingWidget(node);if(_2b6){if(node==_2b6.domNode){_2b6._cssMouseEvent(evt);}else{_2b6._subnodeCssMouseEvent(node,node._cssState,evt);}}}}}};function _2b7(evt){evt.target=evt.srcElement;_2b5(evt);};var body=win.body(),_2b8=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);_2a0.forEach(_2b8,function(type){if(body.addEventListener){body.addEventListener(type,_2b5,true);}else{body.attachEvent("on"+type,_2b7);}});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _2b9=_2a4.getEnclosingWidget(node);_2b9._subnodeCssMouseEvent(node,node._cssState,evt);}});});return _2a5;});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/sniff","dojo/window","../a11y"],function(_2ba,_2bb,_2bc,_2bd,lang,_2be,has,_2bf,a11y){return _2bb("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_2c0){this._set("disabled",_2c0);_2bc.set(this.focusNode,"disabled",_2c0);if(this.valueNode){_2bc.set(this.valueNode,"disabled",_2c0);}this.focusNode.setAttribute("aria-disabled",_2c0?"true":"false");if(_2c0){this._set("hovering",false);this._set("active",false);var _2c1="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_2ba.forEach(lang.isArray(_2c1)?_2c1:[_2c1],function(_2c2){var node=this[_2c2];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _2c3=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_2c4);this.disconnect(_2c3);});var _2c4=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(_2c4);this.disconnect(_2c3);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_2bf.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_2bd.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_2c5,_2c6){if(this._lastValueReported==undefined&&(_2c6===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2c5;}this._pendingOnChange=this._pendingOnChange||(typeof _2c5!=typeof this._lastValueReported)||(this.compare(_2c5,this._lastValueReported)!=0);if((this.intermediateChanges||_2c6||_2c6===undefined)&&this._pendingOnChange){this._lastValueReported=_2c5;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_2c5);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(_2c7,_2c8,keys,has,_2c9){return _2c7("dijit.form._FormValueMixin",_2c9,{readOnly:false,_setReadOnlyAttr:function(_2ca){_2c8.set(this.focusNode,"readOnly",_2ca);this._set("readOnly",_2ca);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_2cb,_2cc){this._handleOnChange(_2cb,_2cc);},_handleOnChange:function(_2cd,_2ce){this._set("value",_2cd);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;node.fireEvent("onkeypress",te);}}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_2cf,_2d0,dom,_2d1,keys,lang,on,_2d2){var _2d3=_2d0("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_2d4,_2d5,_2d6){var _2d7;if(_2d4!==undefined){_2d7=this.filter(_2d4);if(typeof _2d6!="string"){if(_2d7!==null&&((typeof _2d7!="number")||!isNaN(_2d7))){_2d6=this.filter(this.format(_2d7,this.constraints));}else{_2d6="";}}}if(_2d6!=null&&((typeof _2d6)!="number"||!isNaN(_2d6))&&this.textbox.value!=_2d6){this.textbox.value=_2d6;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2d6);}this.inherited(arguments,[_2d7,_2d5]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_2d8){if(_2d8==null){_2d8="";}else{if(typeof _2d8!="string"){_2d8=String(_2d8);}}this.textbox.value=_2d8;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2d8);}},format:function(_2d9){return _2d9==null?"":(_2d9.toString?_2d9.toString():_2d9);},parse:function(_2da){return _2da;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _2db=function(e){var _2dc;if(e.type=="keydown"){_2dc=e.keyCode;switch(_2dc){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_2dc){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_2dc>=65&&_2dc<=90)||(_2dc>=48&&_2dc<=57)||_2dc==keys.SPACE){return;}var _2dd=false;for(var i in keys){if(keys[i]===e.keyCode){_2dd=true;break;}}if(!_2dd){return;}}}_2dc=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_2dc){_2dc=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_2dc){_2dc=229;}if(e.type=="keypress"){if(typeof _2dc!="string"){return;}if((_2dc>="a"&&_2dc<="z")||(_2dc>="A"&&_2dc<="Z")||(_2dc>="0"&&_2dc<="9")||(_2dc===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_2dc,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_2db)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;if(!this._isTextSelected()){_2d3.selectInputText(this.textbox);}});this.defer(function(){if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_2de){if(!this._created||this.textDir!=_2de){this._set("textDir",_2de);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_2d3._setSelectionRange=_2d2._setSelectionRange=function(_2df,_2e0,stop){if(_2df.setSelectionRange){_2df.setSelectionRange(_2e0,stop);}};_2d3.selectInputText=_2d2.selectInputText=function(_2e1,_2e2,stop){_2e1=dom.byId(_2e1);if(isNaN(_2e2)){_2e2=0;}if(isNaN(stop)){stop=_2e1.value?_2e1.value.length:0;}try{_2e1.focus();_2d3._setSelectionRange(_2e1,_2e2,stop);}catch(e){}};return _2d3;});},"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dojo/dnd/AutoSource":function(){define("dojo/dnd/AutoSource",["../_base/declare","./Source"],function(_2e3,_2e4){return _2e3("dojo.dnd.AutoSource",_2e4,{constructor:function(){this.autoSync=true;}});});},"dojo/dnd/Source":function(){define("dojo/dnd/Source",["../_base/array","../_base/connect","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_2e5,_2e6,_2e7,_2e8,lang,_2e9,_2ea,_2eb,_2ec,_2ed,dnd,_2ee,_2ef){if(!_2e8.isAsync){_2ec(0,function(){var _2f0=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_2f0);});}var _2f1=_2e7("dojo.dnd.Source",_2ee,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_2f2){lang.mixin(this,lang.mixin({},_2f2));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_2e9.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_2e9.add(this.node,"dojoDndTarget");}if(this.horizontal){_2e9.add(this.node,"dojoDndHorizontal");}this.topics=[_2ed.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_2ed.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_2ed.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_2ed.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_2f3,_2f4){if(this==_2f3){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_2f4.length;++i){var type=_2f3.getItem(_2f4[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_2f5,self){if(_2f5){return true;}if(arguments.length<2){self=this==_2ef.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_2f1.superclass.destroy.call(this);_2e5.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_2f1.superclass.onMouseMove.call(this,e);var m=_2ef.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _2f6=this.getSelectedNodes();if(_2f6.length){m.startDrag(this,_2f6,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _2f7=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_2ea.position(this.current,true);}if(this.horizontal){_2f7=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_2ea.isBodyLtr(this.current.ownerDocument);}else{_2f7=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_2f7!=this.before){this._markTargetAnchor(_2f7);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_2f1.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_2f1.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_2f8){if(this!==_2f8){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_2ef.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_2f9,_2fa,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_2f9?(copy?"Copied":"Moved"):"");}var _2fb=this.accept&&this.checkAcceptance(_2f9,_2fa);this._changeState("Target",_2fb?"":"Disabled");if(this==_2f9){_2ef.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_2fc,_2fd,copy,_2fe){if(this==_2fe){this.onDrop(_2fc,_2fd,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_2ff,_300,copy){if(this!=_2ff){this.onDropExternal(_2ff,_300,copy);}else{this.onDropInternal(_300,copy);}},onDropExternal:function(_301,_302,copy){var _303=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _303.call(this,_301.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_301.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_301.getItem(node.id);_301.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_301.selectNone();}this.insertNodes(true,_302,this.before,this.current);if(!copy&&this.creator){_301.deleteSelectedNodes();}this._normalizedCreator=_303;},onDropInternal:function(_304,copy){var _305=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _305.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_304,this.before,this.current);this._normalizedCreator=_305;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_2f1.superclass.onOverEvent.call(this);_2ef.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_2f1.superclass.onOutEvent.call(this);_2ef.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_306){if(this.current==this.targetAnchor&&this.before==_306){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_306;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_2eb.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_2e9.contains(node,"dojoDndHandle")){return true;}if(_2e9.contains(node,"dojoDndItem")||_2e9.contains(node,"dojoDndIgnore")){break;}}return false;}});return _2f1;});},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(_307,_308,lang,dom){var _309=lang.getObject("dojo.dnd",true);_309.getCopyKeyState=_307.isCopyKey;_309._uniqueId=0;_309.getUniqueId=function(){var id;do{id=_308._scopeName+"Unique"+(++_309._uniqueId);}while(dom.byId(id));return id;};_309._empty={};_309.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _309;});},"dojo/dnd/Selector":function(){define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_30a,_30b,_30c,_30d,lang,dom,_30e,_30f,_310,on,_311,dnd,_312){var _313=_30b("dojo.dnd.Selector",_312,{constructor:function(node,_314){if(!_314){_314={};}this.singular=_314.singular;this.autoSync=_314.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_311.press,lang.hitch(this,"onMouseDown")),on(this.node,_311.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _310();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_30e.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_30d.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_313.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_30a.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_315,data,_316,_317){var _318=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_318.call(this,item,hint);if(_315){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_313.superclass.insertNodes.call(this,data,_316,_317);this._normalizedCreator=_318;return this;},destroy:function(){_313.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_30f.isLeft(e)){_30c.stop(e);}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}_30c.stop(e);},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_311.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _313;});},"dojo/dnd/Container":function(){define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../ready","../touch","./common"],function(_319,_31a,_31b,_31c,lang,win,dom,_31d,_31e,_31f,has,on,_320,_321,_322,dnd){var _323=_31a("dojo.dnd.Container",_31f,{skipForm:false,allowNested:false,constructor:function(node,_324){this.node=dom.byId(node);if(!_324){_324={};}this.creator=_324.creator||null;this.skipForm=_324.skipForm;this.parent=_324.dropParent&&dom.byId(_324.dropParent);this.map={};this.current=null;this.containerState="";_31d.add(this.node,"dojoDndContainer");if(!(_324&&_324._skipStartup)){this.startup();}this.events=[on(this.node,_322.over,lang.hitch(this,"onMouseOver")),on(this.node,_322.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_31c.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _320((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_325,_326){if(!this.parent.firstChild){_326=null;}else{if(_325){if(!_326){_326=this.parent.firstChild;}}else{if(_326){_326=_326.nextSibling;}}}var i,t;if(_326){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_326.parentNode.insertBefore(t.node,_326);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_319.forEach(this.events,function(_327){_327.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_328,node,Ctor){_328._skipStartup=true;return new Ctor(node,_328);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){_31b.stop(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_329){var _32a="dojoDnd"+type;var _32b=type.toLowerCase()+"State";_31d.replace(this.node,_32a+_329,_32a+this[_32b]);this[_32b]=_329;},_addItemClass:function(node,type){_31d.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_31d.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _32c=node.parentNode;_32c;node=_32c,_32c=node.parentNode){if((_32c==this.parent||this.allowNested)&&_31d.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_31d.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _31e.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_31e.create("tr");_31e.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _31e.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _32d=item&&lang.isObject(item),data,type,n;if(_32d&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_32d&&item.data)?item.data:item;type=(_32d&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _323;});},"dojo/dnd/Manager":function(){define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/event","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_32e,_32f,_330,lang,win,_331,_332,has,keys,on,_333,_334,dnd,_335,_336){var _337=_32f("dojo.dnd.Manager",[_332],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_338){if(this.avatar){this.target=(_338&&_338.targetState!="Disabled")?_338:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_333.publish("/dnd/source/over",_338);},outSource:function(_339){if(this.avatar){if(this.target==_339){this.target=null;this.canDropFlag=false;this.avatar.update();_333.publish("/dnd/source/over",null);}}else{_333.publish("/dnd/source/over",null);}},startDrag:function(_33a,_33b,copy){_335.autoScrollStart(win.doc);this.source=_33a;this.nodes=_33b;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_333.publish("/dnd/start",_33a,_33b,this.copy);this.events=[on(win.doc,_334.move,lang.hitch(this,"onMouseMove")),on(win.doc,_334.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_330.stop),on(win.body(),"selectstart",_330.stop)];var c="dojoDnd"+(copy?"Copy":"Move");_331.add(win.body(),c);},canDrop:function(flag){var _33c=Boolean(this.target&&flag);if(this.canDropFlag!=_33c){this.canDropFlag=_33c;this.avatar.update();}},stopDrag:function(){_331.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_32e.forEach(this.events,function(_33d){_33d.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _336(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_335.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_333.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_333.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_333.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_333.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_331.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_337.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _337();}return dnd._manager;};return _337;});},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_33e,_33f,_340){var _341={};lang.setObject("dojo.dnd.autoscroll",_341);_341.getViewport=_340.getBox;_341.V_TRIGGER_AUTOSCROLL=32;_341.H_TRIGGER_AUTOSCROLL=32;_341.V_AUTOSCROLL_VALUE=16;_341.H_AUTOSCROLL_VALUE=16;var _342,doc=win.doc,_343=Infinity,_344=Infinity;_341.autoScrollStart=function(d){doc=d;_342=_340.getBox(doc);var html=win.body(doc).parentNode;_343=Math.max(html.scrollHeight-_342.h,0);_344=Math.max(html.scrollWidth-_342.w,0);};_341.autoScroll=function(e){var v=_342||_340.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_341.H_TRIGGER_AUTOSCROLL){dx=-_341.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_341.H_TRIGGER_AUTOSCROLL){dx=Math.min(_341.H_AUTOSCROLL_VALUE,_344-html.scrollLeft);}}if(e.clientY<_341.V_TRIGGER_AUTOSCROLL){dy=-_341.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_341.V_TRIGGER_AUTOSCROLL){dy=Math.min(_341.V_AUTOSCROLL_VALUE,_343-html.scrollTop);}}window.scrollBy(dx,dy);};_341._validNodes={"div":1,"p":1,"td":1};_341._validOverflow={"auto":1,"scroll":1};_341.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_345,_346;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _341._validNodes)){var s=_33f.getComputedStyle(n),_347=(s.overflow.toLowerCase() in _341._validOverflow),_348=(s.overflowX.toLowerCase() in _341._validOverflow),_349=(s.overflowY.toLowerCase() in _341._validOverflow);if(_347||_348||_349){b=_33e.getContentBox(n,s);t=_33e.position(n,true);}if(_347||_348){w=Math.min(_341.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_345=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_347||_349){h=Math.min(_341.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_346=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_341.autoScroll(e);};return _341;});},"dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_34a,win,dom,_34b,_34c,_34d,has,_34e){return _34a("dojo.dnd.Avatar",null,{constructor:function(_34f){this.manager=_34f;this.construct();},construct:function(){var a=_34d.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_350=this.manager.source,node,b=_34d.create("tbody",null,a),tr=_34d.create("tr",null,b),td=_34d.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_34d.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_34d.create("span",{innerHTML:_350.generateText?this._generateText():""},td);_34b.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_350.creator){node=_350._normalizedCreator(_350.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _351=_34d.create("table"),_352=_34d.create("tbody",null,_351);_352.appendChild(node);node=_351;}}node.id="";tr=_34d.create("tr",null,b);td=_34d.create("td",null,tr);td.appendChild(node);_34b.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_34d.destroy(this.node);this.node=false;},update:function(){_34c.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_34e(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/dnd/Target":function(){define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(_353,_354,_355){return _353("dojo.dnd.Target",_355,{constructor:function(){this.isSource=false;_354.remove(this.node,"dojoDndSource");}});});},"dojo/fx/Toggler":function(){define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_356,_357,_358){return _356("dojo.fx.Toggler",null,{node:null,showFunc:_357.fadeIn,hideFunc:_357.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _359=this;lang.mixin(_359,args);_359.node=args.node;_359._showArgs=lang.mixin({},args);_359._showArgs.node=_359.node;_359._showArgs.duration=_359.showDuration;_359.showAnim=_359.showFunc(_359._showArgs);_359._hideArgs=lang.mixin({},args);_359._hideArgs.node=_359.node;_359._hideArgs.duration=_359.hideDuration;_359.hideAnim=_359.hideFunc(_359._hideArgs);_358.connect(_359.showAnim,"beforeBegin",lang.hitch(_359.hideAnim,"stop",true));_358.connect(_359.hideAnim,"beforeBegin",lang.hitch(_359.showAnim,"stop",true));},show:function(_35a){return this.showAnim.play(_35a||0);},hide:function(_35b){return this.hideAnim.play(_35b||0);}});});},"dojox/form/Uploader":function(){require({cache:{"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n"}});define("dojox/form/Uploader",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","dojox/form/uploader/Base","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_35c,_35d,lang,_35e,_35f,win,_360,_361,_362,_363,_364,_365,_366,_367,res,_368){_35c.experimental("dojox.form.Uploader");_35d("dojox.form.Uploader",[_367,_366],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",uploadType:"form",showInput:"",_nameIndex:0,templateString:_368,baseClass:"dijitUploader "+_366.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_360.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_362.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=dojo.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_369){var i=0,l=_369.length,f,r=[];while((f=_369[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_36a){},onBegin:function(_36b){},onProgress:function(_36c){},onComplete:function(_36d){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_36e){},upload:function(_36f){},submit:function(form){form=!!form?form.tagName?form:this.getForm():this.getForm();var data=_364.toObject(form);this.upload(data);},reset:function(){delete this._files;this._disconnectButton();_35e.forEach(this._inputs,_363.destroy,dojo);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _370=[];if(this.supports("multiple")){_35e.forEach(this._files,function(f,i){_370.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_35e.forEach(this._inputs,function(n,i){if(n.value){_370.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _370;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_371){console.error("Uploader value is read only");},_setDisabledAttr:function(_372){if(this.disabled==_372||!this.inputNode){return;}this.inherited(arguments);_360.set(this.inputNode,"display",_372?"none":"");},_getButtonStyle:function(node){this.btnSize={w:_360.get(node,"width"),h:_360.get(node,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_getFileFieldName:function(){var name;if(this.multiple&&this.supports("multiple")){name=this.name+"s[]";}else{name=this.name+(this.multiple?this._nameIndex:"");}return name;},_createInput:function(){if(this._inputs.length){_360.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var name=this._getFileFieldName();this.focusNode=this.inputNode=_363.create("input",{type:"file",name:name},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_362.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_360.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_35f.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_35f.connect(this.inputNode,"focus",this,function(){this.titleNode.style.outline="1px dashed #ccc";}));this._cons.push(_35f.connect(this.inputNode,"blur",this,function(){this.titleNode.style.outline="";}));}},_disconnectButton:function(){_35e.forEach(this._cons,_35f.disconnect);this._cons.splice(0,this._cons.length);}});dojox.form.UploaderOrg=dojox.form.Uploader;var _373=[dojox.form.UploaderOrg];dojox.form.addUploaderPlugin=function(plug){_373.push(plug);_35d("dojox.form.Uploader",_373,{});};return dojox.form.Uploader;});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_374,_375,_376,has,_377,lang,_378,_379,_37a,_37b){if(has("dijit-legacy-requires")){_378(0,function(){var _37c=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_374(_37c);});}return _375("dijit.form.Button",[_379,_37a],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_37b,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();e.stopPropagation();}}return ok;},_fillContent:function(_37d){if(_37d&&(!this.params||!("label" in this.params))){var _37e=lang.trim(_37d.innerHTML);if(_37e){this.label=_37e;}}},_setShowLabelAttr:function(val){if(this.containerNode){_376.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_37f){_377.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_37f);},_setLabelAttr:function(_380){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_381,dom,_382,_383){return _381("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_382.stop(e);return false;}var _384=this.onClick(e)===false;if(!_384&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _385=_383.byNode(node);if(_385&&typeof _385._onSubmit=="function"){_385._onSubmit(e);_384=true;break;}}}if(_384){e.preventDefault();}return !_384;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_386){this._set("label",_386);(this.containerNode||this.focusNode).innerHTML=_386;}});});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","dojox/form/uploader/Base":function(){define("dojox/form/uploader/Base",["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_387,_388,_389,_38a,has,_38b,_38c,_38d,_38e,_38f){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_38a.get(document.createElement("input",{type:"file"}),"multiple")]);});return _38b("dojox.form.uploader.Base",[_38d,_38e,_38f],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_38c.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case "multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case "FormData":return has(what);case "sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return "application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_390){var kb=Math.round(_390/1024*100000)/100000;var mb=Math.round(_390/1048576*100000)/100000;var gb=Math.round(_390/1073741824*100000)/100000;var _391=_390;if(kb>1){_391=kb.toFixed(1)+" kb";}if(mb>1){_391=mb.toFixed(1)+" mb";}if(gb>1){_391=gb.toFixed(1)+" gb";}return {kb:kb,mb:mb,gb:gb,bytes:_390,value:_391};}});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(_392,_393,_394){return _393("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_394.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));if(!cw.isFulfilled()){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_392.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"dojox/form/nls/Uploader":function(){define("dojox/form/nls/Uploader",{root:({label:"Select Files..."}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true});},"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n","dojox/form/uploader/plugins/HTML5":function(){define("dojox/form/uploader/plugins/HTML5",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_395,lang,_396,dojo){var _397=_395("dojox.form.uploader.plugins.HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postCreate:function(){this.connectForm();this.inherited(arguments);if(this.uploadOnSelect){this.connect(this,"onChange",function(data){this.upload(data[0]);});}},_drop:function(e){dojo.stopEvent(e);var dt=e.dataTransfer;this._files=dt.files;this.onChange(this.getFileList());},upload:function(_398){this.onBegin(this.getFileList());if(this.supports("FormData")){this.uploadWithFormData(_398);}else{if(this.supports("sendAsBinary")){this.sendAsBinary(_398);}}},addDropTarget:function(node,_399){if(!_399){this.connect(node,"dragenter",dojo.stopEvent);this.connect(node,"dragover",dojo.stopEvent);this.connect(node,"dragleave",dojo.stopEvent);}this.connect(node,"drop","_drop");},sendAsBinary:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var _39a="---------------------------"+(new Date).getTime();var xhr=this.createXhr();xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+_39a);var msg=this._buildRequestBody(data,_39a);if(!msg){this.onError(this.errMsg);}else{xhr.sendAsBinary(msg);}},uploadWithFormData:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var fd=new FormData(),_39b=this._getFileFieldName();_396.forEach(this._files,function(f,i){fd.append(_39b,f);},this);if(data){for(var nm in data){fd.append(nm,data[nm]);}}var xhr=this.createXhr();xhr.send(fd);},_xhrProgress:function(evt){if(evt.lengthComputable){var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};if(evt.type=="load"){o.percent="100%";o.decimal=1;}else{o.decimal=evt.loaded/evt.total;o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";}this.onProgress(o);}},createXhr:function(){var xhr=new XMLHttpRequest();var _39c;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_39c);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_39c);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_39c);try{this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));}catch(e){var msg="Error parsing server result:";console.error(msg,e);console.error(xhr.responseText);this.onError(msg,e);}}});xhr.open("POST",this.getUrl());_39c=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_39c);}}),250);return xhr;},_buildRequestBody:function(data,_39d){var EOL="\r\n";var part="";_39d="--"+_39d;var _39e=[],_39f=this._files,_3a0=this._getFileFieldName();_396.forEach(_39f,function(f,i){var _3a1=f.fileName;var _3a2;try{_3a2=f.getAsBinary()+EOL;part+=_39d+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+_3a0+"\"; ";part+="filename=\""+_3a1+"\""+EOL;part+="Content-Type: "+this.getMimeType()+EOL+EOL;part+=_3a2;}catch(e){_39e.push({index:i,name:_3a1});}},this);if(_39e.length){if(_39e.length>=_39f.length){this.onError({message:this.errMsg,filesInError:_39e});part=false;}}if(!part){return false;}if(data){for(var nm in data){part+=_39d+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+nm+"\""+EOL+EOL;part+=data[nm]+EOL;}}part+=_39d+"--"+EOL;return part;}});dojox.form.addUploaderPlugin(_397);return _397;});},"epi/shell/component/IFrameContextComponent":function(){define(["dojo","dijit","epi/shell/widget/Iframe","epi/shell/_ContextMixin"],function(dojo,_3a3,_3a4,_3a5){return dojo.declare([_3a4,_3a5],{reloadOnContextChange:true,keepUrlOnContextChange:false,postCreate:function(){dojo.when(this.getCurrentContext(),dojo.hitch(this,function(_3a6){this.contextChanged(_3a6);}));if(!this.reloadOnContextChange){this.load(this.get("urlTemplate"));}},_constructQuery:function(_3a7){return {uri:_3a7.uri,id:_3a7.id||""};},contextChanged:function(_3a8,_3a9){this.inherited(arguments);if(this.reloadOnContextChange){if(this.keepUrlOnContextChange){var url=this.get("url");if(url==="about:blank"){url=this.get("urlTemplate");}this.load(url,{query:this._constructQuery(_3a8)},true);}else{this.load(this.get("urlTemplate"),{query:this._constructQuery(_3a8)},true);}}}});});},"epi/shell/widget/Iframe":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-style","dojo/Deferred","dojo/io-query","dojo/on","dojo/sniff","dijit/_TemplatedMixin","dijit/_Widget","dijit/focus","epi","epi/Url","epi/shell/applicationSettings","epi/shell/DestroyableByKey","epi/shell/postMessage","epi/routes"],function(_3aa,lang,dom,_3ab,_3ac,_3ad,on,_3ae,_3af,_3b0,_3b1,epi,Url,_3b2,_3b3,_3b4,_3b5){return _3aa([_3b0,_3af,_3b3],{autoFit:false,isLoading:false,name:"",responseTimeout:15000,templateString:"<iframe data-dojo-attach-point=\"iframe\" class=\"dijitReset\" name=\"${name}\" src=\"${url}\" role=\"presentation\" frameborder=\"0\" style=\"width:100%; user-select: none;\"></iframe>",visible:true,url:"about:blank",_isInspectable:null,_loadDeferred:null,_triggeredExternally:false,onLoading:function(url){this._set("isLoading",true);},onUnload:function(url){this._set("isLoading",true);},onLoad:function(url,_3b6){this._set("isLoading",false);},buildRendering:function(){this.inherited(arguments);if(_3b2.previewTimeout){this.set("responseTimeout",_3b2.previewTimeout);}this.own(on(this.iframe,"load",function(){this._onIframeLoad();}.bind(this)),_3b4.subscribe(this.name+"/site/load",function(_3b7){this._onIframeLoad(_3b7.url);}.bind(this)),_3b4.subscribe(this.name+"/site/mouseup",function(){if(!this.isInspectable()){on.emit(this.domNode,"mouseup",{bubbles:true,cancelable:true});}}.bind(this)));},resize:function(size){if(this.autoFit){return;}if(size){_3ab.set(this.iframe,{width:size.w+"px",height:size.h+"px"});}},getDocument:function(){if(!this.isInspectable()){return null;}try{return this.iframe.contentWindow?this.iframe.contentWindow.document:null;}catch(ex){return null;}},getWindow:function(){return this.iframe.contentWindow;},_setVisibleAttr:function(_3b8){this._set("visible",_3b8);_3ab.set(this.domNode,"display",_3b8?"block":"none");},_onIframeLoad:function(url){var _3b9=this.isInspectable(true);if(!this.isLoading&&_3b9){return;}this.destroyByKey("loading");if(_3b9){url=url||this.getLocation().href;this.ownByKey("loaded",on(this.getWindow(),"unload",this._onUnload.bind(this,url)),_3b1.registerIframe(this.iframe),this.connect(this.getDocument(),"onmousedown",function(){on.emit(this.domNode,"mousedown",{bubbles:true,cancelable:true});}),this.connect(this.getDocument(),"onmouseup",function(){on.emit(this.domNode,"mouseup",{bubbles:true,cancelable:true});}));}this._set("url",url);if(url!=="about:blank"){if(this._loadDeferred){this._loadDeferred.resolve();this._loadDeferred=null;}this.onLoad(this.url,this._triggeredExternally);}if(this.url){this._triggeredExternally=false;}if(this.autoFit){this._adjustSize(this._calculateActualSize());}},_onUnload:function(url){this.destroyByKey("loaded");this.set("_isInspectable",false);this.onUnload(url);},isInspectable:function(_3ba){if(!_3ba&&this._isInspectable!==null){return this._isInspectable;}try{return this._isInspectable=!!this.getLocation().href;}catch(ex){}return this._isInspectable=false;},load:function(url,_3bb,_3bc,_3bd){var _3be=new _3ac(),_3bf=new Url(this.url),_3c0=new Url(url,_3bb,_3bc),_3c1=window.location.protocol.replace(":",""),_3c2=(_3c0.scheme==="http"&&_3c1==="https"),_3c3=function(url,_3c4){function _3c5(){var url=_3b5.getActionPath({moduleArea:"Shell",controller:"PreviewUnavailable",action:"Timeout"});_3c3(url,false);};if(_3c4){this.destroyByKey("loading");this.ownByKey("loading",this.defer(_3c5.bind(this),this.responseTimeout));}this.set("url",url.toString());}.bind(this);if(this._loadDeferred){this._loadDeferred.cancel();}if(!url){_3be.cancel();return _3be.promise;}this._loadDeferred=_3be;if(_3c2){_3c0=_3b5.getActionPath({moduleArea:"Shell",controller:"PreviewUnavailable"});}if(_3bd||!(_3c0.path===_3bf.path&&epi.areEqual(_3c0.query,_3bf.query))){_3c3(_3c0,true);}else{if(!this.isLoading){return _3be.resolve();}}return _3be.promise;},reload:function(){return this.load(this.get("url"),null,null,true);},getCurrentQuery:function(){return _3ad.queryToObject(this.getWindow().location.search.substring(1));},getLocation:function(){return this.getWindow().location;},_getUrlAttr:function(){return this.url;},_setUrlAttr:function(url){this._triggeredExternally=true;this.onLoading(url);if(this.iframe.contentWindow){this.iframe.contentWindow.location.replace(url);}else{this.iframe.src=url;}this._set("url",url);},_calculateActualSize:function(){var doc=this.getDocument();function _3c6(dir){if(doc&&doc.body&&doc.documentElement){return Math.max(doc.documentElement["client"+dir],doc.documentElement["scroll"+dir],doc.documentElement["offset"+dir],doc.body["scroll"+dir],doc.body["offset"+dir]);}return 0;};return {h:_3c6("Height"),w:_3c6("Width")};},_adjustSize:function(size){_3ab.set(this.iframe,"height",size.h+"px");_3ab.set(this.getWindow().document.body,"height","auto");}});});},"epi/Url":function(){define("epi/Url",["dojo/_base/declare","dojo/_base/lang","dojo/io-query"],function(_3c7,lang,_3c8){var _3c9,_3ca={strict:1,loose:2},ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");_3c9=_3c7(null,{scheme:null,authority:null,path:null,query:null,fragment:null,queryParseMode:_3ca.loose,_undecodeable:null,constructor:function(url,_3cb,_3cc,_3cd){var _3ce;this._undecodeable=[];this.queryParseMode=_3cd||this.queryParseMode;_3ce=this._extractParameters(url);if(_3cc&&_3cb&&_3cb.query){_3cb.query=lang.mixin(_3ce.query,_3cb.query);}_3c7.safeMixin(this,lang.mixin(_3ce,_3cb));},_extractParameters:function(url){var r,_3cf,_3d0;if(!url){return {};}r=url.match(ore);_3cf=r[7]||(r[6]?"":null);_3d0=this._withQueryParseMode(function(){return _3cf?_3c8.queryToObject(_3cf):{};});return {scheme:r[2]||(r[1]?"":null),authority:r[4]||(r[3]?"":null),path:r[5],query:_3d0,fragment:r[9]||(r[8]?"":null)};},getQueryParameterValue:function(_3d1){return this.query?this.query[_3d1]:undefined;},toString:function(){var url=[],_3d2=this.query,_3d3;if(this.scheme){url.push(this.scheme);if(this.scheme.lastIndexOf(":")!==this.scheme.length-1){url.push(":");}}if(this.authority){url.push("//",this.authority);}url.push(this.path);if(_3d2){_3d3=this._withQueryParseMode(function(){return _3c8.objectToQuery(_3d2);});if(_3d3!==""){url.push("?",_3d3);}}if(this.fragment){url.push("#",this.fragment);}return url.join("");},_withQueryParseMode:function(func){var _3d4,_3d5=this._undecodeable,_3d6=this.queryParseMode===_3c9.parseMode.loose,_3d7=encodeURIComponent,_3d8=decodeURIComponent;function _3d9(_3da){if(_3d5.indexOf(_3da)!==-1){return _3da;}else{return _3d7(_3da);}};function _3db(_3dc){try{_3dc=_3d8(_3dc);}catch(ex){_3d5.push(_3dc);}return _3dc;};if(_3d6){window["encodeURIComponent"]=_3d9;window["decodeURIComponent"]=_3db;try{_3d4=func();}finally{window["encodeURIComponent"]=_3d7;window["decodeURIComponent"]=_3d8;}}else{_3d4=func();}return _3d4;}});_3c9.parseMode=_3ca;return _3c9;});},"epi/shell/applicationSettings":function(){define("epi/shell/applicationSettings",[],function(){return {};});},"epi/shell/DestroyableByKey":function(){define("epi/shell/DestroyableByKey",["dojo/_base/array","dojo/_base/declare","dijit/Destroyable"],function(_3dd,_3de,_3df){return _3de([_3df],{_ownedByKey:null,constructor:function(){this._ownedByKey=[];},destroy:function(){var item;while(item=this._ownedByKey.pop()){item.handler.destroy();}this.inherited(arguments);},ownByKey:function(key,_3e0){var i;var _3e1=this._findOwnedByKey(key);if(!_3e1){_3e1={key:key,handler:new _3df()};this._ownedByKey.push(_3e1);}for(i=1;i<arguments.length;i++){_3e1.handler.own(arguments[i]);}return this;},destroyByKey:function(key){var _3e2=this._findOwnedByKey(key);var _3e3;if(!_3e2){return;}_3e2.handler.destroy();_3e3=_3dd.indexOf(this._ownedByKey,_3e2);this._ownedByKey.splice(_3e3,1);},_findOwnedByKey:function(key){var _3e4;_3dd.some(this._ownedByKey,function(item){if(item.key===key){_3e4=item;return false;}});return _3e4;}});});},"epi/shell/postMessage":function(){define("epi/shell/postMessage",["dojo/Evented","dojo/on"],function(_3e5,on){var hub=new _3e5(),_3e6,_3e7;function _3e8(){return _3e7||window.top;};function _3e9(){_3e6&&_3e6.remove();_3e6=on(_3e8(),"message",function(evt){var data=evt.data;data&&data.id&&hub.emit.apply(hub,[data.id,data.message]);},false);};var _3ea={setContext:function(ctx){_3e7=ctx;_3e9();},publish:function(_3eb,_3ec,_3ed){var i=0;if(_3ed){_3ed=_3ed instanceof Array?_3ed:[_3ed];}else{_3ed=_3e8().frames;}for(;i<_3ed.length;i++){try{_3ed[i].postMessage({id:_3eb,data:_3ec},"*");}catch(ex){console.error(ex);}}},subscribe:function(_3ee,_3ef){return hub.on.apply(hub,arguments);}};_3e9();return _3ea;});},"epi/shell/_ContextMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/topic","dijit/Destroyable"],function(_3f0,lang,_3f1,_3f2,_3f3){return _3f0([_3f3],{_currentContext:null,_waitingForContext:null,constructor:function(_3f4){var _3f5;function _3f6(ctx,_3f7){if(this._currentContext||!_3f7||_3f7.sender!==this){return;}_3f5.remove();_3f5=null;this._initialContextChanged(ctx);};this.own(_3f2.subscribe("/epi/shell/context/request",lang.hitch(this,this._contextRequest)),_3f2.subscribe("/epi/shell/context/changed",lang.hitch(this,this._contextChanged)),_3f2.subscribe("/epi/shell/context/updated",lang.hitch(this,this._contextUpdated)),_3f2.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,this._contextFailed)),_3f5=_3f2.subscribe("/epi/shell/context/current",lang.hitch(this,_3f6)));_3f2.publish("/epi/shell/context/requestcurrent",{sender:this});},getCurrentContext:function(){if(this._currentContext!==null){return this._currentContext;}if(!this._waitingForContext){this._waitingForContext=new _3f1();}return this._waitingForContext.promise;},contextChanged:function(ctx,_3f8){},contextUpdated:function(ctx,_3f9){},contextChangeFailed:function(ctx,_3fa){},_contextChanged:function(ctx,_3fb){if(!this._currentContext){this._initialContextChanged(ctx);}this._currentContext=ctx;this.contextChanged(ctx,_3fb);},_initialContextChanged:function(_3fc,_3fd){this._currentContext=_3fc;if(this._waitingForContext){this._waitingForContext.resolve(_3fc);this._waitingForContext=null;}},_contextRequest:function(){this._currentContext=null;},_contextUpdated:function(ctx,_3fe){this._currentContext=ctx;this.contextUpdated(ctx,_3fe);},_contextFailed:function(ctx,_3ff){if(!this._currentContext){this._initialContextChanged(ctx);}this._currentContext=ctx;this.contextChangeFailed(ctx,_3ff);}});});},"epi/shell/ContextService":function(){define("epi/shell/ContextService",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/topic","dojox/html/entities","dijit/Destroyable","epi","epi/dependency","epi/shell/DialogService","epi/UriParser","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ContextService"],function(dojo,_400,_401,lang,_402,all,_403,_404,_405,epi,_406,_407,_408,res){return _401([_405],{currentContext:null,_contextStore:null,_profile:null,_routes:{},res:res,_requestQueue:null,_requestInterceptors:null,_dialogService:null,constructor:function(_409,_40a,_40b){this._contextStore=_409;if(_40a===undefined){this._profile=_406.resolve("epi.shell.Profile");}this._requestInterceptors=[];this._requestQueue=[];this._dialogService=_40b||_407;this._initialize();},_initialize:function(){this.own(_403.subscribe("/epi/shell/context/request",lang.hitch(this,this._handleContextChangeRequest)),_403.subscribe("/epi/shell/context/updateRequest",lang.hitch(this,this._handleContextUpdateRequest)),_403.subscribe("/epi/shell/context/requestcurrent",lang.hitch(this,this._handleRequestCurrentContext)));},registerRoute:function(_40c,_40d){this._routes[_40c]=_40d;},registerRequestInterceptor:function(_40e){var _40f=_400.indexOf(this._requestInterceptors,_40e);if(_40f===-1){this._requestInterceptors.push(_40e);}return {remove:lang.hitch(this,function(){this.unregisterRequestInterceptor(_40e);})};},unregisterRequestInterceptor:function(_410){var _411=_400.indexOf(this._requestInterceptors,_410);if(_411!==-1){this._requestInterceptors.splice(_411,1);return _410;}return null;},query:function(_412){return this._executeInterceptors(_412,{}).then(lang.hitch(this,function(){return this._getContextStore().query(_412);}));},_handleContextChangeRequest:function(_413,_414){if(_413===null){this.currentContext={};this._publishContextChanged(this.currentContext);return;}this._executeInterceptors(_413,_414).then(lang.hitch(this,function(){this._loadNewContext(_413,_414,this._publishContextChanged);})).otherwise(lang.hitch(this,function(){this._publishRequestFailed(_413,_414);}));},_executeInterceptors:function(_415,_416){var _417=_400.map(this._requestInterceptors,function(item){return item(_415,_416);});return all(_417);},_handleContextUpdateRequest:function(_418,_419){if(_418===null){return;}this._loadNewContext(_418,_419,this._publishContextUpdated);},_handleRequestCurrentContext:function(_41a){if(this.currentContext){_403.publish("/epi/shell/context/current",this.currentContext,_41a);}},_loadNewContext:function(_41b,_41c,_41d){var item={success:null,request:null,response:null,contextParameters:_41b,callerData:_41c,callback:_41d};var _41e=lang.hitch(this,function(_41f){item.response=_41f;item.success=false;this._handleContextLoaded();});var _420=lang.hitch(this,function(_421){if(_421){item.response=_421;item.success=true;this._handleContextLoaded();}else{_41e(_421);}});this._requestQueue.push(item);var _422=this._getContextStore();var rq=_422.query(_41b);rq.then(_420,_41e);item.request=rq;},_handleContextLoaded:function(){var item=(this._requestQueue.length>0)?this._requestQueue[0]:null;while(item&&item.success!==null){this._requestQueue.shift();var _423=item.callback;var _424=item.response;var _425=item.contextParameters;var _426=item.callerData;var _427=item.success;var _428=item.request;if(_427){var uri=new _408(_424.uri);_424.type=uri.getType();_424.id=uri.getId();this.currentContext=item.response;if(this._routes&&this._routes[_424.type]){this._routes[_424.type](this.currentContext,_426,uri);}if(_423){_423(_424,_426,_428);}}else{if(_426&&!_426.suppressFailure){this._contextLoadFailed(_424,_425,_426);}else{this._publishRequestFailed(_425,_426);}}item=(this._requestQueue.length>0)?this._requestQueue[0]:null;}},_contextLoadFailed:function(_429,_42a,_42b){var _42c=this.res.errors.couldnotloadcontext.description,_42d=this.res.errors.couldnotloadcontext["descriptioncontent"+_429.status],_42e=this.res.errors.couldnotloadcontext["description"+_429.status];if(_42d&&_42b.sender&&_42b.sender.requestedContent){var _42f=_42b.sender.requestedContent;_42c=lang.replace(_42d,[_404.encode(_42f.typeName),_404.encode(_42f.name)]);}else{if(_42e){_42c=lang.replace(_42e,[_42a.uri||_42a.url]);}}this._dialogService.confirmation({title:this.res.errors.couldnotloadcontext.title,description:_42c,confirmActionText:this.res.errors.couldnotloadcontext.retry,cancelActionText:epi.resources.action.ignore}).then(function(){this._loadNewContext(_42a,_42b,this._publishContextChanged);}.bind(this)).otherwise(function(){this._publishRequestFailed(_42a,_42b);}.bind(this));},_getContextStore:function(){if(!this._contextStore){var _430=_406.resolve("epi.storeregistry");this._contextStore=_430.get("epi.shell.context");}return this._contextStore;},_publishContextChanged:function(_431,_432,_433){_403.publish("/epi/shell/context/changed",_431,_432,_433);},_publishContextUpdated:function(_434,_435,_436){_403.publish("/epi/shell/context/updated",_434,_435,_436);},_publishRequestFailed:function(_437,_438){_403.publish("/epi/shell/context/requestfailed",this.currentContext,_437,_438);}});});},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _439=function(str,map){var _43a,_43b;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_43a=map._encCache.mapper;_43b=map._encCache.regexp;}else{_43a={};_43b=["["];var i;for(i=0;i<map.length;i++){_43a[map[i][0]]="&"+map[i][1]+";";_43b.push(map[i][0]);}_43b.push("]");_43b=new RegExp(_43b.join(""),"g");map._encCache={mapper:_43a,regexp:_43b,length:map.length};}str=str.replace(_43b,function(c){return _43a[c];});return str;};var _43c=function(str,map){var _43d,_43e;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_43d=map._decCache.mapper;_43e=map._decCache.regexp;}else{_43d={};_43e=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_43e.push("|");}_43d[e]=map[i][0];_43e.push(e);}_43e.push(")");_43e=new RegExp(_43e.join(""),"g");map._decCache={mapper:_43d,regexp:_43e,length:map.length};}str=str.replace(_43e,function(c){return _43d[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];dhe.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","OElig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_439(str,dhe.html);str=_439(str,dhe.latin);}else{str=_439(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_43c(str,dhe.html);str=_43c(str,dhe.latin);}else{str=_43c(str,m);}}return str;};return dhe;});},"epi/shell/DialogService":function(){define("epi/shell/DialogService",["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/on","dgrid/List","dgrid/extensions/DijitRegistry","put-selector/put","epi/shell/widget/dialog/Alert","epi/shell/widget/dialog/Confirmation","epi/shell/widget/dialog/Dialog"],function(_43f,lang,_440,on,List,_441,put,_442,_443,_444){var _445=_43f([List,_441],{renderRow:function(_446,_447){return put("div","",{innerHTML:_446});}});return {show:function(type,_448){if(!this[type]){throw new Error("Dialog type "+type+" is not a valid DialogService option.");}return this[type].call(this,_448);},alert:function(_449){if(typeof _449==="string"){_449={description:_449};}return this.alertWithErrors(_449);},alertWithErrors:function(_44a,_44b){var _44c=new _440();if(_44b instanceof Array){var list=new _445({className:"epi-grid-max-height--300"});list.renderArray(_44b);list.startup();_44a.content=list;_44a.description=null;}this._callDialog(_442,_44a,_44c.resolve);return _44c.promise;},confirmation:function(_44d){var _44e=new _440();this._callDialog(_443,_44d,function(_44f){if(_44f){_44e.resolve();}else{_44e.reject();}});return _44e.promise;},dialog:function(_450){var _451=new _440();var _452=new _444(_450);on.once(_452,"execute",function(_453){_451.resolve(_453);});on.once(_452,"cancel",function(){_451.reject();});_452.show();return _451.promise;},_callDialog:function(_454,_455,_456){var _457=new _454(_455);_457.on("action",_456);_457.show();}};});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_458,_459,dom,_45a,has,_45b,_45c,_45d,put){_45d("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _45e="dgrid-row-odd",_45f="dgrid-row-even",_460,_461;function byId(id){return document.getElementById(id);};function _462(_463){_463.className="";document.body.removeChild(_463);};function _464(_465,_466){put(document.body,_465,".dgrid-scrollbar-measure");var size=_465["offset"+_466]-_465["client"+_466];_462(_465);return size;};has.add("dom-scrollbar-width",function(_467,doc,_468){return _464(_468,"Width");});has.add("dom-scrollbar-height",function(_469,doc,_46a){return _464(_46a,"Height");});has.add("dom-rtl-scrollbar-left",function(_46b,doc,_46c){var div=put("div"),_46d;put(document.body,_46c,".dgrid-scrollbar-measure[dir=rtl]");put(_46c,div);_46d=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_462(_46c);put(div,"!");_46c.removeAttribute("dir");return _46d;});var _46e=0;function _46f(){return "dgrid_"+_46e++;};var _470=/ +/g;function _471(cls){var _472=cls?"."+cls.replace(_470,"."):"";if(this._class){_472="!"+this._class.replace(_470,"!")+_472;}put(this.domNode,_472);this._class=cls;};function _473(){return this._class;};var _474=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _475(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _476(_477){if(typeof _477.x!=="undefined"){this.bodyNode.scrollLeft=_477.x;}if(typeof _477.y!=="undefined"){this.bodyNode.scrollTop=_477.y;}};return _459(has("touch")?_45c:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_478,_479){var grid=this;(this._Row=function(id,_47a,_47b){this.id=id;this.data=_47a;this.element=_47b;}).prototype.remove=function(){grid.removeRow(this.element);};if(_479){this.srcNodeRef=_479=_479.nodeType?_479:byId(_479);}this.create(_478,_479);},listType:"list",create:function(_47c,_47d){var _47e=this.domNode=_47d||put("div"),cls;if(_47c){this.params=_47c;_459.safeMixin(this,_47c);cls=_47c["class"]||_47c.className||_47e.className;this._sort=_47c.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_47e.id=_47e.id||this.id||_46f();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_471.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _47f=this.domNode,_480=this.addUiClasses,self=this,_481,_482,_483,_484,_485;_485=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_47f.className="";put(_47f,"[role=grid].dgrid.dgrid-"+this.listType+(_480?".ui-widget":""));_481=this.headerNode=put(_47f,"div.dgrid-header.dgrid-header-row"+(_480?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_482=put(_47f,"div.dgrid-spacer");}_483=this.bodyNode=put(_47f,"div.dgrid-scroller");if(has("ff")){_483.tabIndex=-1;}this.headerScrollNode=put(_47f,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_480?".ui-widget-header":""));_484=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_47f,_484);if(_485){_47f.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_45a(_483,"scroll",function(_486){if(self.showHeader){_481.scrollLeft=_486.scrollLeft||_483.scrollLeft;}_486.stopPropagation();_45a.emit(_47f,"scroll",{scrollTarget:_483});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_480?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_45a(window,"resize",_45b.throttleDelayed(_474,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _487=this.bodyNode,_488=this.headerNode,_489=this.footerNode,_48a=_488.offsetHeight,_48b=this.showFooter?_489.offsetHeight:0,_48c=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_487.style.marginTop=_48a+"px";_487.style.marginBottom=_48b+"px";if(_48c){_487.style.height="";_487.style.height=Math.max((this.domNode.offsetHeight-_48a-_48b),0)+"px";if(_48b){_489.style.bottom="1px";setTimeout(function(){_489.style.bottom="";},0);}}if(!_460){_460=has("dom-scrollbar-width");_461=has("dom-scrollbar-height");if(has("ie")){_460++;_461++;}_45b.addCssRule(".dgrid-scrollbar-width","width: "+_460+"px");_45b.addCssRule(".dgrid-scrollbar-height","height: "+_461+"px");if(_460!=17&&!_48c){_45b.addCssRule(".dgrid-header-row","right: "+_460+"px");_45b.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_460+"px");}}if(_48c){_488.style.width=_487.clientWidth+"px";setTimeout(function(){_488.scrollLeft=_487.scrollLeft;},0);}},addCssRule:function(_48d,css){var rule=_45b.addCssRule(_48d,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_48e,_48f){var _490=_45a(this.domNode,_48e,_48f);if(!has("dom-addeventlistener")){this._listeners.push(_490);}return _490;},cleanup:function(){var _491=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _492=byId(i);if(_492){this.removeRow(_492,true);}}}for(i=0;i<_491.length;i++){var _493=_491[i];_493&&_493.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_494,_495,_496,i,_497){if(_495){var row=this.insertRow(_494,_495,_496,i,_497);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_498){var next=_498;var _499=next.rowIndex;if(_499>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_499%2==1?_45e:_45f)+"!"+(_499%2==0?_45e:_45f));}}next.rowIndex=_499++;}}while((next=next.nextSibling)&&next.rowIndex!=_499);}},renderArray:function(_49a,_49b,_49c){_49c=_49c||{};var self=this,_49d=_49c.start||0,_49e=this.observers,rows,_49f,_4a0;if(!_49b){this._lastCollection=_49a;}if(_49a.observe){self._numObservers++;var _4a1=_49a.observe(function(_4a2,from,to){var row,_4a3,_4a4,_4a5;function _4a6(){_4a4=(_4a4.connected||_4a4).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_49f){_4a3=row.nextSibling;if(_4a3){if(from!=to){_4a3.rowIndex--;}}self.removeRow(row);}_49c.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_4a4=rows[to];_4a4=_4a4&&_4a7(_4a4);}else{_4a4=rows[to-1];if(_4a4){_4a4=_4a7(_4a4);_4a6();}}}else{_4a4=self._getFirstRowSibling&&self._getFirstRowSibling(_49f);}if(row&&_4a4&&row.id===_4a4.id){_4a6();}if(_4a4&&!_4a4.parentNode){_4a4=byId(_4a4.id);}_4a5=(_49b&&_49b.parentNode)||(_4a4&&_4a4.parentNode)||self.contentNode;row=self.newRow(_4a2,_4a5,_4a4,_49c.start+to,_49c);if(row){row.observerIndex=_4a0;rows.splice(to,0,row);if(!_4a3||to<from){var _4a8=row.previousSibling;_4a3=!_4a8||_4a8.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_4a8;}}_49c.count++;}if(from===0){_4a9(1,1);}else{if(from===_49a.length-(to===-1?0:1)){_4a9(0,0);}}from!=to&&_4a3&&self.adjustRowIndices(_4a3);self._onNotification(rows,_4a2,from,to);},true);_4a0=_49e.push(_4a1)-1;}var _4aa=document.createDocumentFragment(),_4ab;function _4a9(){var _4ac=arguments;if(_4a0>-1){for(var i=0;i<_4ac.length;i++){var top=_4ac[i];var _4ad=rows[top?0:rows.length-1];_4ad=_4ad&&_4a7(_4ad);if(_4ad){var row=_4ad[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_4ad){var _4ae=top?"unshift":"push";_49a[_4ae](row.data);rows[_4ae](row.element);_49c.count++;}}}}};function _4a7(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _4af(_4b0){_4ab=self.insertRow(_4b0,_4aa,null,_49d++,_49c);_4ab.observerIndex=_4a0;return _4ab;};function _4b1(_4b2){if(typeof _4a0!=="undefined"){_49e[_4a0].cancel();_49e[_4a0]=0;self._numObservers--;}if(_4b2){throw _4b2;}};var _4b3;function _4b4(_4b5){_4b3=_4b5.slice(0);_49f=_49b?_49b.parentNode:self.contentNode;if(_49f&&_49f.parentNode&&(_49f!==self.contentNode||_4b5.length)){_49f.insertBefore(_4aa,_49b||null);_4ab=_4b5[_4b5.length-1];_4ab&&self.adjustRowIndices(_4ab);}else{if(_49e[_4a0]&&self.cleanEmptyObservers){_4b1();}}rows=_4b5;if(_4a1){_4a1.rows=rows;}};if(_49a.map){rows=_49a.map(_4af,console.error);if(rows.then){return _49a.then(function(_4b6){_49a=_4b6;return rows.then(function(_4b7){_4b4(_4b7);_4a9(1,1,0,0);return _4b3;});});}}else{rows=[];for(var i=0,l=_49a.length;i<l;i++){rows[i]=_4af(_49a[i]);}}_4b4(rows);_4a9(1,1,0,0);return _4b3;},_onNotification:function(rows,_4b8,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_4b9,_4ba,_4bb,i,_4bc){var _4bd=_4bc.parentId,id=this.id+"-row-"+(_4bd?_4bd+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_4b9):this._autoId++),row=byId(id),_4be=row&&row.previousSibling;if(row){if(row===_4bb){_4bb=(_4bb.connected||_4bb).nextSibling;}this.removeRow(row);}row=this.renderRow(_4b9,_4bc);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_45e:_45f)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_4b9;_4ba.insertBefore(row,_4bb||null);if(_4be){this.adjustRowIndices(_4be);}row.rowIndex=i;return row;},renderRow:function(_4bf,_4c0){return put("div",""+_4bf);},removeRow:function(_4c1,_4c2){_4c1=_4c1.element||_4c1;delete this._rowIdToObject[_4c1.id];if(!_4c2){put(_4c1,"!");}},row:function(_4c3){var id;if(_4c3 instanceof this._Row){return _4c3;}if(_4c3.target&&_4c3.target.nodeType){_4c3=_4c3.target;}if(_4c3.nodeType){var _4c4;do{var _4c5=_4c3.id;if((_4c4=this._rowIdToObject[_4c5])){return new this._Row(_4c5.substring(this.id.length+5),_4c4,_4c3);}_4c3=_4c3.parentNode;}while(_4c3&&_4c3!=this.domNode);return;}if(typeof _4c3=="object"){id=this.store.getIdentity(_4c3);}else{id=_4c3;_4c3=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_4c3,byId(this.id+"-row-"+id));},cell:function(_4c6){return {row:this.row(_4c6)};},_move:function(item,_4c7,_4c8,_4c9){var _4ca,_4cb,_4cc;_4cc=_4cb=item.element;_4c7=_4c7||1;do{if((_4ca=_4cb[_4c7<0?"previousSibling":"nextSibling"])){do{_4cb=_4ca;if(_4cb&&(_4cb.className+" ").indexOf(_4c8+" ")>-1){_4cc=_4cb;_4c7+=_4c7<0?1:-1;break;}}while((_4ca=(!_4c9||!_4cb.hidden)&&_4cb[_4c7<0?"lastChild":"firstChild"]));}else{_4cb=_4cb.parentNode;if(!_4cb||_4cb===this.bodyNode||_4cb===this.headerNode){break;}}}while(_4c7);return _4cc;},up:function(row,_4cd,_4ce){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(_4cd||1),"dgrid-row",_4ce));},down:function(row,_4cf,_4d0){if(!row.element){row=this.row(row);}return this.row(this._move(row,_4cf||1,"dgrid-row",_4d0));},scrollTo:has("touch")?function(_4d1){return this.useTouchScroll?this.inherited(arguments):_476.call(this,_4d1);}:_476,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_475.call(this);}:_475,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for getting "+name);}return this[name];},set:function(name,_4d2){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for setting "+name);}this[name]=_4d2;}}return this;},_getClass:_473,_setClass:_471,_getClassName:_473,_setClassName:_471,_setSort:function(_4d3,_4d4){this._sort=typeof _4d3!="string"?_4d3:[{attribute:_4d3,descending:_4d4}];this.refresh();if(this._lastCollection){if(_4d3.length){if(typeof _4d3!="string"){_4d4=_4d3[0].descending;_4d3=_4d3[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_4d3],bVal=b[_4d3];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_4d4?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_4d5,_4d6){_458.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_4d5,_4d6);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _4d7=this.headerNode;this.showHeader=show;put(_4d7,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_4d7.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_458.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_4d8,doc,_4d9){return !!_4d9.contains;});var _4da=[],_4db,_4dc,_4dd,_4de=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _4df(_4e0){var _4e1=_4da[_4e0],i,l;if(_4e1===undefined){return;}_4db[_4dc](_4e1);_4da[_4e0]=undefined;for(i=_4e0+1,l=_4da.length;i<l;i++){if(_4da[i]>_4e1){_4da[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_4e2,_4e3){var ran=false;_4e3=_4e3||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_4e2,arguments);setTimeout(function(){ran=false;},_4e3);};},throttleDelayed:function(cb,_4e4,_4e5){var ran=false;_4e5=_4e5||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_4e4,a);},_4e5);};},debounce:function(cb,_4e6,_4e7){var _4e8;_4e7=_4e7||util.defaultDelay;return function(){if(_4e8){clearTimeout(_4e8);_4e8=null;}var a=arguments;_4e8=setTimeout(function(){cb.apply(_4e6,a);},_4e7);};},each:function(_4e9,_4ea,_4eb){var i,len;if(!_4e9){return;}if(typeof _4e9.length==="number"){for(i=0,len=_4e9.length;i<len;i++){_4ea.call(_4eb,_4e9[i],i,_4e9);}}else{for(i in _4e9){_4ea.call(_4eb,_4e9[i],i,_4e9);}}},contains:function(_4ec,node){if(has("dom-contains")){return _4ec.contains(node);}else{return _4ec.compareDocumentPosition(node)&8;}},addCssRule:function(_4ed,css){if(!_4db){_4db=put(document.getElementsByTagName("head")[0],"style");_4db=_4db.sheet||_4db.styleSheet;_4dc=_4db.deleteRule?"deleteRule":"removeRule";_4dd=_4db.cssRules?"cssRules":"rules";}var _4ee=_4da.length;_4da[_4ee]=(_4db.cssRules||_4db.rules).length;_4db.addRule?_4db.addRule(_4ed,css):_4db.insertRule(_4ed+"{"+css+"}",_4da[_4ee]);return {get:function(prop){return _4db[_4dd][_4da[_4ee]].style[prop];},set:function(prop,_4ef){if(typeof _4da[_4ee]!=="undefined"){_4db[_4dd][_4da[_4ee]].style[prop]=_4ef;}},remove:function(){_4df(_4ee);}};},escapeCssIdentifier:function(id,_4f0){return typeof id==="string"?id.replace(_4de,_4f0||"\\$1"):id;}};return util;});},"put-selector/put":function(){(function(_4f1){var _4f2,_4f3=/[-+,> ]/;_4f1([],_4f2=function(doc,_4f4){"use strict";_4f3=_4f4||_4f3;var _4f5=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_4f6,_4f7,_4f8=false,doc=doc||document,_4f9=typeof doc.createElement=="object";function _4fa(_4fb,text){_4fb.appendChild(doc.createTextNode(text));};function put(_4fc){var _4fd,_4fe,_4ff,_500,_501,args=arguments,_502=args[0];function _503(){if(_501&&_500&&_501!=_500){(_500==_4fc&&(_4fd||(_4fd=_4f3.test(_504)&&doc.createDocumentFragment()))?_4fd:_500).insertBefore(_501,_4ff||null);}};for(var i=0;i<args.length;i++){var _504=args[i];if(typeof _504=="object"){_4fe=false;if(_504 instanceof Array){_501=doc.createDocumentFragment();for(var key=0;key<_504.length;key++){_501.appendChild(put(_504[key]));}_504=_501;}if(_504.nodeType){_501=_504;_503();_500=_504;_4ff=0;}else{for(var key in _504){_501[key]=_504[key];}}}else{if(_4fe){_4fe=false;_4fa(_501,_504);}else{if(i<1){_4fc=null;}_4fe=true;var _505=_504.replace(_4f5,function(t,_506,_507,_508,_509,_50a){if(_506){_503();if(_506=="-"||_506=="+"){_500=(_4ff=(_501||_500)).parentNode;_501=null;if(_506=="+"){_4ff=_4ff.nextSibling;}}else{if(_506=="<"){_500=_501=(_501||_500).parentNode;}else{if(_506==","){_500=_4fc;}else{if(_501){_500=_501;}}_501=null;}_4ff=0;}if(_501){_500=_501;}}var tag=!_507&&_508;if(tag||(!_501&&(_507||_509))){if(tag=="$"){_4fa(_500,args[++i]);}else{tag=tag||put.defaultTag;var _50b=_4f9&&args[i+1]&&args[i+1].name;if(_50b){tag="<"+tag+" name=\""+_50b+"\">";}_501=_4f8&&~(_4f7=tag.indexOf("|"))?doc.createElementNS(_4f8[tag.slice(0,_4f7)],tag.slice(_4f7+1)):doc.createElement(tag);}}if(_507){if(_508=="$"){_508=args[++i];}if(_507=="#"){_501.id=_508;}else{var _50c=_501.className;var _50d=_50c&&(" "+_50c+" ").replace(" "+_508+" "," ");if(_507=="."){_501.className=_50c?(_50d+_508).substring(1):_508;}else{if(_504=="!"){var _50e;if(_4f9){put("div",_501,"<").innerHTML="";}else{if(_50e=_501.parentNode){_50e.removeChild(_501);}}}else{_50d=_50d.substring(1,_50d.length-1);if(_50d!=_50c){_501.className=_50d;}}}}}if(_509){if(_50a=="$"){_50a=args[++i];}if(_509=="style"){_501.style.cssText=_50a;}else{var _50f=_509.charAt(0)=="!"?(_509=_509.substring(1))&&"removeAttribute":"setAttribute";_50a=_50a===""?_509:_50a;_4f8&&~(_4f7=_509.indexOf("|"))?_501[_50f+"NS"](_4f8[_509.slice(0,_4f7)],_509.slice(_4f7+1),_50a):_501[_50f](_509,_50a);}}return "";});if(_505){throw new SyntaxError("Unexpected char "+_505+" in "+_504);}_503();_500=_502=_501||_500;}}}if(_4fc&&_4fd){_4fc.appendChild(_4fd);}return _502;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_4f8||(_4f8={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_4f2;return put;});})(function(id,deps,_510){_510=_510||deps;if(typeof define==="function"){define([],function(){return _510();});}else{if(typeof window=="undefined"){require("./node-html")(module,_510);}else{put=_510();}}});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _511={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_511[test]){_511[test]=true;var _512=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_513=has(_512[2]),_514=-_512[4];if((_514>0?_514<=_513&&(-_512[5]||_514)>=_513:!!_513)==!_512[1]){document.documentElement.className+=" has-"+test;}}}};});},"xstyle/css":function(){define(["require"],function(_515){"use strict";function _516(tag,id,_517){var _518=document.documentElement;var _519=_518.insertBefore(document.createElement(tag),_518.firstChild);_519.id=id;var _51a=(_519.currentStyle||getComputedStyle(_519,null)||{})[_517];_518.removeChild(_519);return _51a;};return {load:function(_51b,_51c,_51d,_51e){var url=_51c.toUrl(_51b);var _51f;if(url.match(/!$/)){_51f={wait:false};url=url.slice(0,-1);}var _520=_51c.cache&&_51c.cache["url:"+url];if(_520){if(_520.xCss){var _521=_520.parser;var xCss=_520.xCss;_520=_520.cssText;}_515(["./core/load-css"],function(load){_522(load.insertCss(_520));});if(xCss){}return;}function _522(_523){var _524=_516("x-parse",null,"content");var _525=_523&&(_523.sheet||_523.styleSheet);if(_524&&_524!="none"&&_524!="normal"){_51c([eval(_524)],function(_526){if(_523){_526.process(_523,_51d);}else{_526.processAll();_51d(_525);}});}else{_51d(_525);}};var _527=_516("div",_51b.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_527=="none"){return _522();}_515(["./core/load-css"],function(load){load(url,_522,_51f);});}};});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_528,_529,_52a){return _528(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_52a.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _52b=_52a.getEnclosingWidget(this.domNode.parentNode);if(_52b&&_52b.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_52a.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_52c){if(_52c){_529.setMarginBox(this.domNode,_52c);}this.inherited(arguments);},_set:function(prop,_52d){this[prop]=_52d;},watch:function(){},getParent:function(){return _52a.getEnclosingWidget(this.domNode.parentNode);}});});},"epi/shell/widget/dialog/Alert":function(){define(["epi","dojo","dijit/form/Button","epi/shell/widget/dialog/_DialogBase"],function(epi,dojo,_52e,_52f){return dojo.declare([_52f],{acknowledgeActionText:epi.resources.action.ok,closeIconVisible:false,dialogClass:"epi-dialog-alert",buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","alertdialog");this.descriptionNode.setAttribute("role","alert");var _530=new _52e({"class":"Salt",label:this.acknowledgeActionText,onClick:dojo.hitch(this,this._onAcknowledge)});dojo.place(_530.domNode,this.actionContainerNode);},_onAcknowledge:function(){this.hide();typeof this.onAction==="function"&&this.onAction();},onAction:function(){}});});},"epi/shell/widget/dialog/_DialogBase":function(){define(["epi","dojo","dojo/_base/declare","dojo/_base/array","dojo/dom-class","dojo/dom-style","dojo/query","dojo/text!./templates/Dialog.html","dojo/when","dijit/a11y","dijit/focus","dijit/Dialog","epi/shell/widget/dialog/_DialogMixin","epi/shell/widget/_FocusableMixin"],function(epi,dojo,_531,_532,_533,_534,_535,_536,when,a11y,_537,_538,_539,_53a){var _53b=_531([_538,_539,_53a],{templateString:_536,heading:"",description:"",dialogClass:"",iconClass:"dijitNoIcon",destroyOnHide:true,focusActionsOnLoad:false,postMixInProperties:function(){this.inherited(arguments);this.resources=epi.resources.action;},buildRendering:function(){this.inherited(arguments);if(this.dialogClass){_533.add(this.domNode,this.dialogClass);}this.set("closeIconVisible",this.closeIconVisible);this.set("iconClass",this.iconClass);this.set("heading",this.heading);this.set("description",this.description);},postCreate:function(){this.inherited(arguments);if(this.content&&this.content.executeDialog){this.connect(this.content,"executeDialog","onExecute");}if(this.content&&this.content.cancelDialog){this.connect(this.content,"cancelDialog","onCancel");}},hide:function(){var _53c=dojo.hitch(this,function(){if(this.destroyOnHide){this.destroyRecursive();}});return when(this.inherited(arguments),_53c);},_getFocusItems:function(){var node=this.focusActionsOnLoad?this.actionContainerNode:this.contentContainerNode,_53d=a11y._getTabNavigable(node);this.focusActionsOnLoad=false;this._firstFocusItem=_53d.lowest||_53d.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_53d.last||_53d.highest||this._firstFocusItem;},_setDialogContentNode:function(_53e,_53f){_53e.innerHTML=_53f;_534.set(_53e,"display",_53f?"":"none");var _540=_535("div",this.contentContainerNode);_540.removeClass("epi-firstVisible");_532.some(_540,function(_541){if(_534.get(_541,"display")!=="none"){_533.add(_541,"epi-firstVisible");return true;}});},_setHeadingAttr:function(_542){this._setDialogContentNode(this.headingNode,_542);},_setDescriptionAttr:function(_543){this._setDialogContentNode(this.descriptionNode,_543);},_setIconClassAttr:function(_544){_533.remove(this.iconNode,this.iconClass);this._set("iconClass",_544);_533.add(this.iconNode,this.iconClass);}});_53b.getDialogZindex=function(){var obj=_538._dialogStack?_538._dialogStack[_538._dialogStack.length-1]:null;if(obj&&obj.zIndex){return obj.zIndex+1;}return _538._DialogLevelManager._beginZIndex;};return _53b;});},"url:epi/shell/widget/dialog/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n    <div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n        <span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n        <span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${resources.close}\" role=\"button\" tabIndex=\"-1\">\r\n            <span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${resources.cancel}\">x</span>\r\n        </span>\r\n    </div>\r\n    <div data-dojo-attach-point=\"contentContainerNode\" class=\"epi-dialogPaneContent\">\r\n        <span data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitInline epi-dialogIcon\"></span>\r\n        <div data-dojo-attach-point=\"headingNode\" class=\"epi-dialogDescriptionHeader\"></div>\r\n        <div data-dojo-attach-point=\"descriptionNode\" class=\"epi-dialogDescriptionSummary\"></div>\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContentArea\"></div>\r\n        <div data-dojo-attach-point=\"actionContainerNode\" class=\"dijitDialogPaneActionBar\"></div>\r\n    </div>\r\n</div>","dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"}});define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","./main","dojo/i18n!./nls/common"],function(_545,_546,_547,_548,_549,dom,_54a,_54b,_54c,_54d,fx,i18n,keys,lang,on,_54e,has,_54f,_550,_551,_552,_553,_554,_555,_556,_557,_558,_559,_55a,_55b,_55c){var _55d=_548("dijit._DialogBase",[_555,_557,_558,_556],{templateString:_55b,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_553.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},"aria-describedby":"",maxRatio:0.9,postMixInProperties:function(){var _55e=i18n.getLocalization("dijit","common");lang.mixin(this,_55e);this.inherited(arguments);},postCreate:function(){_54c.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_55f.isTop(this)){this._getFocusItems(this.domNode);_552.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(){var _560=_54b.position(this.domNode),_561=_54f.getBox(this.ownerDocument);_560.y=Math.min(Math.max(_560.y,0),(_561.h-_560.h));_560.x=Math.min(Math.max(_560.x,0),(_561.w-_560.w));this._relativePosition=_560;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_551:_550)(node,{handle:this.titleBar});this.connect(this._moveable,"onMoveStop","_endDrag");}else{_54a.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_546.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_54c.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_54b.position(this.domNode);var _562=_54f.getBox(this.ownerDocument);_562.w*=this.maxRatio;_562.h*=this.maxRatio;if(bb.w>=_562.w||bb.h>=_562.h){var _563=_54b.position(this.containerNode),w=Math.min(bb.w,_562.w)-(bb.w-_563.w),h=Math.min(bb.h,_562.h)-(bb.h-_563.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_54c.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_54a.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_564=_54f.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_54b.position(node),l=Math.floor(_564.l+(p?p.x:(_564.w-bb.w)/2)),t=Math.floor(_564.t+(p?p.y:(_564.h-bb.h)/2));_54c.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _565=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_565){_552.focus(this._lastFocusItem);}_54d.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_565){_552.focus(this._firstFocusItem);}_54d.stop(evt);}else{while(node){if(node==this.domNode||_54a.contains(node,"dijitPopup")){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_54d.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_55f.hide(this);}var win=_54f.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,_547._keypress,lang.hitch(this,"_onKey")));_54c.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _566;this._fadeInDeferred=new _549(lang.hitch(this,function(){_566.stop();delete this._fadeInDeferred;}));_566=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_55f.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_55f.isTop(this)){this._getFocusItems(this.domNode);_552.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _567;this._fadeOutDeferred=new _549(lang.hitch(this,function(){_567.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));_567=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_55f.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},resize:function(){if(this.domNode.style.display!="none"){if(_559._singleton){_559._singleton.layout();}if(!has("touch")){this._position();}this._size();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_55f.hide(this);this.inherited(arguments);}});var _568=_548("dijit.Dialog",[_55a,_55d],{});_568._DialogBase=_55d;var _55f=_568._DialogLevelManager={_beginZIndex:950,show:function(_569,_56a){ds[ds.length-1].focus=_552.curNode;var _56b=_559._singleton;if(!_56b||_56b._destroyed){_56b=_55c._underlay=_559._singleton=new _559(_56a);}else{_56b.set(_569.underlayAttrs);}var _56c=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_568._DialogLevelManager._beginZIndex;if(ds.length==1){_56b.show();}_54c.set(_559._singleton.domNode,"zIndex",_56c-1);_54c.set(_569.domNode,"zIndex",_56c);ds.push({dialog:_569,underlayAttrs:_56a,zIndex:_56c});},hide:function(_56d){if(ds[ds.length-1].dialog==_56d){ds.pop();var pd=ds[ds.length-1];if(!_559._singleton._destroyed){if(ds.length==1){_559._singleton.hide();}else{_54c.set(_559._singleton.domNode,"zIndex",pd.zIndex-1);_559._singleton.set(pd.underlayAttrs);}}if(_56d.refocus){var _56e=pd.focus;if(pd.dialog&&(!_56e||!dom.isDescendant(_56e,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_56e=pd.dialog._firstFocusItem;}if(_56e){try{_56e.focus();}catch(e){}}}}else{var idx=_546.indexOf(_546.map(ds,function(elem){return elem.dialog;}),_56d);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_56f){return ds[ds.length-1].dialog==_56f;}};var ds=_568._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];if(has("dijit-legacy-requires")){_54e(0,function(){var _570=["dijit/TooltipDialog"];_545(_570);});}return _568;});},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/event","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_571,_572,_573,lang,dom,_574,_575,on,_576,_577,dnd,_578,win){var _579=_572("dojo.dnd.Moveable",[_575],{handle:"",delay:0,skip:false,constructor:function(node,_57a){this.node=dom.byId(node);if(!_57a){_57a={};}this.handle=_57a.handle?dom.byId(_57a.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_57a.delay>0?_57a.delay:0;this.skip=_57a.skip;this.mover=_57a.mover?_57a.mover:_578;this.events=[on(this.handle,_577.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_57b,node,Ctor){return new Ctor(node,_57b);},destroy:function(){_571.forEach(this.events,function(_57c){_57c.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_577.move,lang.hitch(this,"onMouseMove")),on(this.handle,_577.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}_573.stop(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}_573.stop(e);},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}_573.stop(e);},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){_573.stop(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_57d){_576.publish("/dnd/move/start",_57d);_574.add(win.body(),"dojoMove");_574.add(this.node,"dojoMoveItem");},onMoveStop:function(_57e){_576.publish("/dnd/move/stop",_57e);_574.remove(win.body(),"dojoMove");_574.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_57f,_580){this.onMoving(_57f,_580);var s=_57f.node.style;s.left=_580.l+"px";s.top=_580.t+"px";this.onMoved(_57f,_580);},onMoving:function(){},onMoved:function(){}});return _579;});},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/event","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_581,_582,_583,lang,has,win,dom,_584,_585,_586,on,_587,dnd,_588){return _582("dojo.dnd.Mover",[_586],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[on(d,_587.move,lang.hitch(this,"onFirstMove")),on(d,_587.move,lang.hitch(this,"onMouseMove")),on(d,_587.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_583.stop),on(d.body,"selectstart",_583.stop)];_588.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_588.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);_583.stop(e);},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}_583.stop(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_584.getMarginBox(this.node);var b=win.doc.body;var bs=_585.getComputedStyle(b);var bm=_584.getMarginBox(b,bs);var bc=_584.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_581.forEach(this.events,function(_589){_589.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(_58a,_58b){var _58c=_58b.prototype.onMove;return _58a("dojo.dnd.TimedMoveable",_58b,{timeout:40,constructor:function(node,_58d){if(!_58d){_58d={};}if(_58d.timeout&&typeof _58d.timeout=="number"&&_58d.timeout>=0){this.timeout=_58d.timeout;}},onMoveStop:function(_58e){if(_58e._timer){clearTimeout(_58e._timer);_58c.call(this,_58e,_58e._leftTop);}_58b.prototype.onMoveStop.apply(this,arguments);},onMove:function(_58f,_590){_58f._leftTop=_590;if(!_58f._timer){var _591=this;_58f._timer=setTimeout(function(){_58f._timer=null;_58c.call(_591,_58f,_58f._leftTop);},this.timeout);}}});});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_592,_593,lang,_594,_595){var _596={};_592.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_596[name]=_594[name];});lang.mixin(_596,{defaultDuration:_593["defaultDuration"]||200});lang.mixin(_595,_596);return _595;});},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_597,_598,_599,_59a,_59b,_59c){return _597("dijit.DialogUnderlay",[_59a,_59b],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){_598.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_59d){this.node.className="dijitDialogUnderlay "+_59d;this._set("class",_59d);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _59e=_599.getBox(this.ownerDocument);os.top=_59e.t+"px";os.left=_59e.l+"px";is.width=_59e.w+"px";is.height=_59e.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _59c(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window"],function(_59f,_5a0,_5a1,_5a2,_5a3,lang,on,has,win){has.add("bgIframe",has("ie")||has("mozilla"));var _5a4=new function(){var _5a5=[];this.pop=function(){var _5a6;if(_5a5.length){_5a6=_5a5.pop();_5a6.style.display="";}else{if(has("ie")<9){var burl=_5a1["dojoBlankHtmlUrl"]||_59f.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_5a6=win.doc.createElement(html);}else{_5a6=_5a2.create("iframe");_5a6.src="javascript:\"\"";_5a6.className="dijitBackgroundIframe";_5a6.setAttribute("role","presentation");_5a3.set(_5a6,"opacity",0.1);}_5a6.tabIndex=-1;}return _5a6;};this.push=function(_5a7){_5a7.style.display="none";_5a5.push(_5a7);};}();_5a0.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("bgIframe")){var _5a8=(this.iframe=_5a4.pop());node.appendChild(_5a8);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_5a3.set(_5a8,{width:"100%",height:"100%"});}}};lang.extend(_5a0.BackgroundIframe,{resize:function(node){if(this.iframe){_5a3.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_5a4.push(this.iframe);delete this.iframe;}}});return _5a0.BackgroundIframe;});},"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","dijit/nls/common":function(){define("dijit/nls/common",{root:({buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"epi/shell/widget/dialog/_DialogMixin":function(){define(["dojo","dojo/dom-style"],function(dojo,_5a9){return dojo.declare(null,{closeIconVisible:true,_setCloseIconVisibleAttr:function(){this._set("closeIconVisible",this.closeIconVisible);_5a9.set(this.closeButtonNode,"visibility",this.closeIconVisible?"visible":"hidden");_5a9.set(this.titleNode,"margin-right",this.closeIconVisible?"25px":"0");}});});},"epi/shell/widget/_FocusableMixin":function(){define(["dojo/dom-class","dojo/_base/declare","dijit/_FocusMixin"],function(_5aa,_5ab,_5ac){return _5ab(_5ac,{onFocus:function(){_5aa.add(this.domNode,"epi-focused");},onBlur:function(){_5aa.remove(this.domNode,"epi-focused");}});});},"epi/shell/widget/dialog/Confirmation":function(){define(["dojo/_base/declare","dojo/_base/lang","epi","epi/shell/widget/dialog/Dialog"],function(_5ad,lang,epi,_5ae){return _5ad([_5ae],{confirmActionText:epi.resources.action.yes,cancelActionText:epi.resources.action.no,closeIconVisible:false,dialogClass:"epi-dialog-confirm",getActions:function(){var _5af={name:this._okButtonName,label:this.confirmActionText,title:null,action:lang.hitch(this,this._onConfirm)},_5b0={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_5af.settings={"class":"Salt"};}return [_5af,_5b0];},_onConfirm:function(){this.hide();this.onAction(true);},_onCancel:function(){this.hide();this.onAction(false);},onAction:function(){}});});},"epi/shell/widget/dialog/Dialog":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/promise/all","epi","epi/shell/widget/dialog/_DialogBase","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarSet"],function(_5b1,_5b2,lang,_5b3,_5b4,_5b5,epi,_5b6,_5b7,_5b8,_5b9){return _5b2([_5b6,_5b7],{confirmActionText:epi.resources.action.ok,cancelActionText:epi.resources.action.cancel,contentClass:"",dialogClass:"epi-dialog-landscape",defaultActionsVisible:true,setFocusOnConfirmButton:true,_preferredHeight:0,_validators:null,_okButtonName:"ok",_cancelButtonName:"cancel",postMixInProperties:function(){this.inherited(arguments);this._validators=[];if(this.content&&this.content.onSubmit){this.connect(this.content,"onSubmit",this._onSubmit);}},postCreate:function(){this.inherited(arguments);this.set("definitionConsumer",new _5b9({baseClass:"dijitDialogPaneActionBar",layoutContainerClass:_5b8},this.actionContainerNode));},_size:function(){var _5ba=this.get("_preferredHeight");if(_5ba){_5b4.set(this.containerNode,{minHeight:_5ba+"px",maxHeight:_5ba+"px"});}this.inherited(arguments);_5b4.set(this.containerNode,{minHeight:"",maxHeight:""});_5b1.forEach(["height","width"],function(prop){if(this[prop]==="auto"){this[prop]="";}},this.containerNode.style);},addValidator:function(_5bb){this._validators.push(_5bb);},getActions:function(){var _5bc=this.inherited(arguments);if(this.defaultActionsVisible){var _5bd={name:this._okButtonName,label:this.confirmActionText,title:null,settings:{type:"submit"}},_5be={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_5bd.settings["class"]="Salt";}else{_5be.settings={"class":"Salt",firstFocusable:true};}_5bc.push(_5bd,_5be);}return _5bc;},_onCancel:function(){this.onCancel();},_onSubmit:function(){if(!this.validate()){return;}if(this._validators.length===0){this.inherited(arguments);return;}var _5bf=_5b1.map(this._validators,function(item){return item();});var _5c0=arguments;var _5c1=new _5b5(_5bf);_5c1.then(lang.hitch(this,function(_5c2){if(_5b1.some(_5c2,function(_5c3){return !_5c3[0];})){return;}this.inherited(_5c0);}));},_setContentClassAttr:function(_5c4){_5b3.remove(this.containerNode,this.contentClass);this._set("contentClass",_5c4);_5b3.add(this.containerNode,this.contentClass);},_get_preferredHeightAttr:function(){if(!!this.dialogClass&&this._preferredHeight<25){this._preferredHeight=_5b4.get(this.containerNode,"height");}return this._preferredHeight;}});});},"epi/shell/widget/_ActionConsumerWidget":function(){define(["dojo/_base/declare","./_ActionConsumer"],function(_5c5,_5c6){return _5c5(_5c6,{definitionConsumer:null,startup:function(){this.inherited(arguments);this._populateActions();},_setDefinitionConsumerAttr:function(_5c7){this._set("definitionConsumer",_5c7);if(this._started){this._populateActions();}},onActionAdded:function(_5c8){if(this.definitionConsumer){this.definitionConsumer.add(_5c8);}},onActionRemoved:function(_5c9){if(this.definitionConsumer){this.definitionConsumer.remove(_5c9.name);}},onActionPropertyChanged:function(_5ca,_5cb,_5cc){if(this.definitionConsumer){this.definitionConsumer.setItemProperty(_5ca.name,_5cb,_5cc);}},_populateActions:function(){if(this.definitionConsumer){this.definitionConsumer.add(this.getActions());}}});});},"epi/shell/widget/_ActionConsumer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/aspect","epi/shell/widget/_ActionProviderBase"],function(_5cd,lang,_5ce,_5cf,_5d0){return _5cd(_5d0,{_actionProviders:null,constructor:function(args){this._actionProviders=[];if(args&&lang.isArray(args.actionProviders)){args.actionProviders.forEach(function(_5d1){this.addProvider(_5d1);},this);}},isProviderRegistered:function(_5d2){if(!_5d2){return false;}return this._actionProviders.some(function(_5d3){return _5d3.provider===_5d2;});},addProvider:function(_5d4){if(!_5d4||this.isProviderRegistered(_5d4)){return;}this._actionProviders.push({provider:_5d4,connects:[_5cf.after(_5d4,"onActionAdded",lang.hitch(this,"onActionAdded"),true),_5cf.after(_5d4,"onActionRemoved",lang.hitch(this,"onActionRemoved"),true),_5cf.after(_5d4,"onActionPropertyChanged",lang.hitch(this,"onActionPropertyChanged"),this)]});},removeProvider:function(_5d5){if(!_5d5||!this.isProviderRegistered(_5d5)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider===_5d5){var _5d6=this._actionProviders.splice(i,1);_5ce.forEach(_5d6.connects,function(_5d7){_5d7.remove();});break;}}},getActions:function(){var _5d8=[];this._actionProviders.forEach(function(_5d9,_5da){_5d8=_5d8.concat(this._getProviderActions(_5d9.provider));},this);return _5d8;},_getProviderActions:function(_5db){if(_5db&&typeof (_5db.getActions)=="function"){return _5db.getActions();}else{return [];}}});});},"epi/shell/widget/_ActionProviderBase":function(){define(["epi","dojo"],function(epi,dojo){return dojo.declare(null,{getActions:function(){return [];},onActionAdded:function(_5dc){},onActionRemoved:function(_5dd){},onActionPropertyChanged:function(_5de,_5df,_5e0){}});});},"epi/shell/widget/Toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Toolbar","epi/shell/DestroyableByKey"],function(_5e1,lang,_5e2,_5e3){return _5e1([_5e2,_5e3],{_originalTabIndex:null,_focusable:null,_firstFocusableItem:null,postCreate:function(){this.inherited(arguments);this._originalTabIndex=this.get("tabIndex");this._correctTabIndex();},addChild:function(_5e4){this.inherited(arguments);if(_5e4.firstFocusable){this.set("_firstFocusableItem",_5e4);}this.destroyByKey(_5e4);this.ownByKey(_5e4,_5e4.watch("itemVisibility",lang.hitch(this,function(){this._correctTabIndex();})));this._correctTabIndex();},removeChild:function(_5e5){this.destroyByKey(_5e5);this.inherited(arguments);this._correctTabIndex();},_correctTabIndex:function(){this._focusable=(this._getFirstFocusableChild()!==null);this.set("tabIndex",this._focusable?this._originalTabIndex:-1);},_getFirstFocusableChild:function(){return this._firstFocusableItem||this.inherited(arguments);},_startupChild:function(_5e6){_5e6.set("tabIndex","-1");},_onChildBlur:function(_5e7){_5e7.set("tabIndex","-1");}});});},"dijit/Toolbar":function(){define("dijit/Toolbar",["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_5e8,_5e9,has,keys,_5ea,_5eb,_5ec,_5ed){if(has("dijit-legacy-requires")){_5ea(0,function(){var _5ee=["dijit/ToolbarSeparator"];_5e8(_5ee);});}return _5e9("dijit.Toolbar",[_5eb,_5ed,_5ec],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_5ef,_5f0,_5f1,_5f2,keys,_5f3,_5f4,_5f5,lang){return _5f3("dijit._KeyNavContainer",[_5f1,_5f0],{tabIndex:"0",connectKeyNavHandlers:function(_5f6,_5f7){var _5f8=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_5f2.forEach(_5f6,function(code){_5f8[code]=prev;});_5f2.forEach(_5f7,function(code){_5f8[code]=next;});_5f8[keys.HOME]=lang.hitch(this,"focusFirstChild");_5f8[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_5ef.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_5f2.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_5f9,_5fa){this.inherited(arguments);this._startupChild(_5f9);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_5fb,last){if(!_5fb){return;}if(this.focusedChild&&_5fb!==this.focusedChild){this._onChildBlur(this.focusedChild);}_5fb.set("tabIndex",this.tabIndex);_5fb.focus(last?"end":"start");this._set("focusedChild",_5fb);},_startupChild:function(_5fc){_5fc.set("tabIndex","-1");this.connect(_5fc,"_onFocus",function(){_5fc.set("tabIndex",this.tabIndex);});this.connect(_5fc,"_onBlur",function(){_5fc.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_5f5.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_5f5.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_5f4.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_5fd,dir){if(_5fd){_5fd=this._getSiblingOfChild(_5fd,dir);}var _5fe=this.getChildren();for(var i=0;i<_5fe.length;i++){if(!_5fd){_5fd=_5fe[(dir>0)?0:(_5fe.length-1)];}if(_5fd.isFocusable()){return _5fd;}_5fd=this._getSiblingOfChild(_5fd,dir);}return null;}});});},"epi/shell/widget/ToolbarSet":function(){define(["dojo/_base/declare","dijit/_WidgetBase","epi/shell/layout/ToolbarContainer","epi/shell/widget/_AddByDefinition"],function(_5ff,_600,_601,_602){return _5ff([_600,_602],{_layoutContainer:null,layoutContainerClass:null,postMixInProperties:function(){this.inherited(arguments);this.layoutContainerClass=this.layoutContainerClass||_601;},buildRendering:function(){this.inherited(arguments);this._layoutContainer=new this.layoutContainerClass();this._layoutContainer.placeAt(this.domNode);this.own(this._layoutContainer);},addChild:function(_603){return this._layoutContainer.addChild(_603);},_getLayoutContainerAttr:function(){return this._layoutContainer;}});});},"epi/shell/layout/ToolbarContainer":function(){define(["dojo/_base/declare","dojo/dom-style","dijit/_Container","dijit/_TemplatedMixin","dijit/_WidgetBase"],function(_604,_605,_606,_607,_608){return _604([_608,_607,_606],{cssClasses:{container:"epi-toolbarGroupContainer",leading:"epi-toolbarGroup epi-toolbarLeading",center:"epi-toolbarGroup epi-toolbarCenter",trailing:"epi-toolbarGroup epi-toolbarTrailing"},templateString:"<div class='${cssClasses.container}'>                            <div data-dojo-attach-point='leadingNode' class='${cssClasses.leading}'></div>                            <div data-dojo-attach-point='centerNode' class='${cssClasses.center}'></div>                            <div data-dojo-attach-point='trailingNode' class='${cssClasses.trailing}'></div>                        </div>",addChild:function(_609){_609.region=_609.region||"center";var _60a;switch(_609.region){case "leading":_60a=this.leadingNode;break;case "center":_60a=this.centerNode;break;case "trailing":_60a=this.trailingNode;break;}_609.placeAt(_60a);}});});},"epi/shell/widget/_AddByDefinition":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/when","dijit","dijit/_Widget","dijit/ToolbarSeparator","dijit/Menu","dijit/MenuSeparator","epi/shell/widget/WidgetFactory","dijit/CheckedMenuItem","dijit/MenuItem","dijit/form/Button","dijit/form/ComboButton","dijit/form/DropDownButton","dijit/form/RadioButton","epi/shell/widget/PopupMenuItem","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarDropDownButton"],function(_60b,_60c,lang,_60d,dom,_60e,_60f,when,_610,_611,_612,Menu,_613,_614){return _60c(null,{_widgetTypeTemplates:{checkedmenuitem:{widgetType:"dijit/CheckedMenuItem"},menu:{widgetType:"dijit/Menu"},menuitem:{widgetType:"dijit/MenuItem"},popupmenu:{widgetType:"epi/shell/widget/PopupMenuItem"},button:{widgetType:"dijit/form/Button"},combo:{widgetType:"dijit/form/ComboButton"},dropdown:{widgetType:"epi/shell/widget/ToolbarDropDownButton"},radio:{widgetType:"dijit/form/RadioButton"},toolbargroup:{widgetType:"epi/shell/widget/Toolbar"},label:{widgetType:"epi/shell/widget/ToolbarLabel"}},constructor:function(){this._widgetFactory=new _614();this._widgetMap={};},postMixInProperties:function(){this.connect(this._widgetFactory,"onWidgetHierarchyCreated",lang.hitch(this,function(_615,_616){this._widgetMap[_616.name]=_615;if(_616.firstChildIsContainer){_615.containerWidget=_615.getChildren()[0];}}));var _617=function(_618,_619){var _61a=_618.get("dropDown");if(!_61a){_61a=new Menu();_618.set("dropDown",_61a);}_61a.addChild(_619);if(!_619.separator){_619.set("separator","dijit/MenuSeparator");}};this._widgetFactory.addHandler("dijit/form/ComboButton",_617);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},_toComponentDefinition:function(_61b){var _61c=this._getComponentDefinitionTemplate(_61b);_61c.name=_61b.name;_61c.settings=lang.mixin({label:_61b.label||"",showLabel:_61b.label,title:_61b.title||"",disabled:_61b.disabled||false},_61b.settings);if(_61b.iconClass){_61c.settings.iconClass=_61b.iconClass;}var _61d={onClick:_61b.action};_61c.connections=lang.mixin(_61d,_61b.connections);return _61c;},_getComponentDefinitionTemplate:function(_61e){var _61f=lang.mixin({},this._widgetTypeTemplates[_61e.type]||this._widgetTypeTemplates["button"]);if(_61e.widgetType){_61f.widgetType=_61e.widgetType;}return _61f;},_getWidget:function(name){return this._widgetMap[name];},_addSingle:function(_620){if(this._getWidget(_620.name)){return;}var _621=this._getWidget(_620.parent)||this;var _622=this._toComponentDefinition(_620);var def=new _60d();when(this._widgetFactory.createWidgets(_621,_622),lang.hitch(this,function(_623){var _624=_623[0];if(_620.tooltip){var html=_620.tooltip;var show=function(e){_610.showTooltip(html,e.target);};var hide=function(e){_610.hideTooltip(e.target);};this.connect(_624.domNode,"onmouseenter",show);this.connect(_624.domNode,"onmouseleave",hide);}this._addSeparators(_624);def.resolve();}),function(e){console.error(e.stack||e);def.reject(e);});return def.promise;},_addSeparators:function(_625){var _626=_625.getParent();if(!_626){return;}var _627=_626.getChildren();var i=_60b.indexOf(_627,_625);var _628=(i>0)?_627[i-1]:null;if(_628&&!this._isSeparator(_628)){if(_625.separate){this.addSeparator(_625,"before");}else{if(_628.separate){this.addSeparator(_628,"after");}}}var next=(_627.length>i)?_627[i+1]:null;if(next&&!this._isSeparator(next)&&(_625.separate||next.separate)){this.addSeparator(_625,"after");}},_getSiblingOfWidget:function(_629,dir){var node=_629.domNode;do{node=node[dir];}while(node&&(node.nodeType!==1||!_610.byNode(node)));return node&&_610.byNode(node);},add:function(_62a){var self=this;var _62b=function(_62c){var item=_62c.shift();if(!item){return null;}return when(self._addSingle(item),function(){return _62b(_62c);});};if(lang.isArray(_62a)){return _62b(_62a);}else{this._addSingle(_62a);}},addSeparator:function(_62d,_62e){var _62f=function(){if(_62d.separator){var _630=_62d.separator.replace(/\./g,"/"),_631=new _60d();require([_630],function(_632){_631.resolve(new _632());});return _631.promise;}return new _612();};when(_62f(),lang.hitch(this,function(_633){var _634=_62d?_62d.domNode:this.domNode;_60e.place(_633.domNode,_634,_62e);}));},_removeSingle:function(name){var _635=this._widgetMap[name];delete this._widgetMap[name];if(_635){this._removeSeparators(_635);_635.destroy();}},_removeSeparators:function(_636){if(!_636.domNode){return;}var _637=_636.getParent();if(!_637){return;}var _638;var _639=_637.getChildren();var i=_60b.indexOf(_639,_636);var next=(_639.length>i)?_639[i+1]:null;var _63a=(i>0)?_639[i-1]:null;if(next&&this._isSeparator(next)&&_639.length>=i+2){_638=next;next=_639[i+2];if(next.separate&&i>0){if(_63a&&this._isSeparator(_63a)){_63a.destroy();return;}}else{_638.destroy();}}if(_63a&&this._isSeparator(_63a)&&i-2>=0){_638=_63a;_63a=_639[i-2];if(!_63a.separate){_638.destroy();}}},_isSeparator:function(_63b){return _63b instanceof _612||_63b instanceof _613;},remove:function(_63c){if(lang.isArray(_63c)){_60b.forEach(_63c,lang.hitch(this,this._removeSingle));}else{this._removeSingle(_63c);}},clear:function(){for(var name in this._widgetMap){this._removeSingle(name);}},destroy:function(){this.clear();this.inherited(arguments);},setItemProperty:function(_63d,_63e,_63f){if(lang.isArray(_63d)){_60b.forEach(_63d,function(name){this._setInternal(name,_63e,_63f);});}else{this._setInternal(_63d,_63e,_63f);}},setItemVisibility:function(name,_640){var _641=this._widgetMap[name];if(_641){_60f.set(_641.domNode,{display:(_640?"":"none")});_641.set("itemVisibility",_640);}},_setInternal:function(name,_642,_643){var _644=this._widgetMap[name];if(_644){_644.set(_642,_643);}}});});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_645,dom,_646,_647){return _645("dijit.ToolbarSeparator",[_646,_647],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_648,_649,_64a,_64b,dom,_64c,_64d,_64e,keys,lang,on,has,win,_64f,pm,_650,_651){if(has("dijit-legacy-requires")){_651(0,function(){var _652=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_648(_652);});}return _64a("dijit.Menu",_650,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_649.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_653){return _64f.get(this._iframeContentDocument(_653))||this._iframeContentDocument(_653)["__parent__"]||(_653.name&&win.doc.frames[_653.name])||null;},_iframeContentDocument:function(_654){return _654.contentDocument||(_654.contentWindow&&_654.contentWindow.document)||(_654.name&&win.doc.frames[_654.name]&&win.doc.frames[_654.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _655=node,_656=this._iframeContentWindow(_655);cn=win.body(_656.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _657={node:node,iframe:_655};_64c.set(node,"_dijitMenu"+this.id,this._bindings.push(_657));var _658=lang.hitch(this,function(cn){var _659=this.selector,_65a=_659?function(_65b){return on.selector(_659,_65b);}:function(_65c){return _65c;},self=this;return [on(cn,_65a(this.leftClickToOpen?"click":"contextmenu"),function(evt){_64b.stop(evt);if((new Date()).getTime()<this._lastKeyDown+500){return;}self._scheduleOpen(this,_655,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_65a("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(this.leftClickToOpen&&evt.keyCode==keys.SPACE)){_64b.stop(evt);self._scheduleOpen(this,_655,null,evt.target);this._lastKeyDown=(new Date()).getTime();}})];});_657.connects=cn?_658(cn):[];if(_655){_657.onloadHandler=lang.hitch(this,function(){var _65d=this._iframeContentWindow(_655);cn=win.body(_65d.document);_657.connects=_658(cn);});if(_655.addEventListener){_655.addEventListener("load",_657.onloadHandler,false);}else{_655.attachEvent("onload",_657.onloadHandler);}}},unBindDomNode:function(_65e){var node;try{node=dom.byId(_65e,this.ownerDocument);}catch(e){return;}var _65f="_dijitMenu"+this.id;if(node&&_64c.has(node,_65f)){var bid=_64c.get(node,_65f)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _660=b.iframe;if(_660){if(_660.removeEventListener){_660.removeEventListener("load",b.onloadHandler,false);}else{_660.detachEvent("onload",b.onloadHandler);}}_64c.remove(node,_65f);delete this._bindings[bid];}},_scheduleOpen:function(_661,_662,_663,_664){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_664,delegatedTarget:_661,iframe:_662,coords:_663});},1);}},_openMyself:function(args){var _665=args.target,_666=args.iframe,_667=args.coords;this.currentTarget=args.delegatedTarget;if(_667){if(_666){var ifc=_64d.position(_666,true),_668=this._iframeContentWindow(_666),_669=_64d.docScroll(_668.document);var cs=_64e.getComputedStyle(_666),tp=_64e.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_666,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_666,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_666,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_666,cs.borderTopWidth):0);_667.x+=ifc.x+left-_669.x;_667.y+=ifc.y+top-_669.y;}}else{_667=_64d.position(_665,true);_667.x+=10;_667.y+=10;}var self=this;var _66a=this._focusManager.get("prevNode");var _66b=this._focusManager.get("curNode");var _66c=!_66b||(dom.isDescendant(_66b,this.domNode))?_66a:_66b;function _66d(){if(self.refocus&&_66c){_66c.focus();}pm.close(self);};pm.open({popup:this,x:_667.x,y:_667.y,onExecute:_66d,onCancel:_66d,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_649.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./main"],function(_66e,_66f,_670,_671,dom,_672,_673,_674,_675,_676,has,keys,lang,on,_677,_678,_679){function _67a(){if(this._popupWrapper){_673.destroy(this._popupWrapper);delete this._popupWrapper;}};var _67b=_671(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_67c){var _67d=_67c._popupWrapper,node=_67c.domNode;if(!_67d){_67d=_673.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_67c["aria-label"]||_67c.label||_67c.name||_67c.id},_67c.ownerDocumentBody);_67d.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_67c._popupWrapper=_67d;_66f.after(_67c,"destroy",_67a,true);}return _67d;},moveOffScreen:function(_67e){var _67f=this._createWrapper(_67e);_675.set(_67f,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_680){var _681=this._createWrapper(_680);_675.set(_681,"display","none");},getTopPopup:function(){var _682=this._stack;for(var pi=_682.length-1;pi>0&&_682[pi].parent===_682[pi-1].widget;pi--){}return _682[pi];},open:function(args){var _683=this._stack,_684=args.popup,_685=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_674.isBodyLtr(_684.ownerDocument),_686=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_683.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_683[_683.length-1].widget.domNode))){this.close(_683[_683.length-1].widget);}var _687=this._createWrapper(_684);_672.set(_687,{id:id,style:{zIndex:this._beginZIndex+_683.length},"class":"dijitPopup "+(_684.baseClass||_684["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("bgIframe")&&!_684.bgIframe){_684.bgIframe=new _678(_687);}var best=_686?_677.around(_687,_686,_685,ltr,_684.orient?lang.hitch(_684,"orient"):null):_677.at(_687,args,_685=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_687.style.display="";_687.style.visibility="visible";_684.domNode.style.visibility="visible";var _688=[];_688.push(on(_687,_670._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_676.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_676.stop(evt);var _689=this.getTopPopup();if(_689&&_689.onCancel){_689.onCancel();}}}})));if(_684.onCancel&&args.onCancel){_688.push(_684.on("cancel",args.onCancel));}_688.push(_684.on(_684.onExecute?"execute":"change",lang.hitch(this,function(){var _68a=this.getTopPopup();if(_68a&&_68a.onExecute){_68a.onExecute();}})));_683.push({widget:_684,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_688});if(_684.onOpen){_684.onOpen(best);}return best;},close:function(_68b){var _68c=this._stack;while((_68b&&_66e.some(_68c,function(elem){return elem.widget==_68b;}))||(!_68b&&_68c.length)){var top=_68c.pop(),_68d=top.widget,_68e=top.onClose;if(_68d.onClose){_68d.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_68d&&_68d.domNode){this.hide(_68d);}if(_68e){_68e();}}}});return (_679.popup=new _67b());});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_68f,_690,_691,_692,win,_693,_694){function _695(node,_696,_697,_698){var view=_693.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_68f.some(_696,function(_699){var _69a=_699.corner;var pos=_699.pos;var _69b=0;var _69c={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_69a.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_69a.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_697){var res=_697(node,_699.aroundCorner,_69a,_69c,_698);_69b=typeof res=="undefined"?0:res;}var _69d=node.style;var _69e=_69d.display;var _69f=_69d.visibility;if(_69d.display=="none"){_69d.visibility="hidden";_69d.display="";}var bb=_690.position(node);_69d.display=_69e;_69d.visibility=_69f;var _6a0={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_69a.charAt(1)],_6a1={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_69a.charAt(0)],_6a2=Math.max(view.l,_6a0),_6a3=Math.max(view.t,_6a1),endX=Math.min(view.l+view.w,_6a0+bb.w),endY=Math.min(view.t+view.h,_6a1+bb.h),_6a4=endX-_6a2,_6a5=endY-_6a3;_69b+=(bb.w-_6a4)+(bb.h-_6a5);if(best==null||_69b<best.overflow){best={corner:_69a,aroundCorner:_699.aroundCorner,x:_6a2,y:_6a3,w:_6a4,h:_6a5,overflow:_69b,spaceAvailable:_69c};}return !_69b;});if(best.overflow&&_697){_697(node,best.aroundCorner,best.corner,best.spaceAvailable,_698);}var s=node.style;s.top=best.y+"px";s.left=best.x+"px";s.right="auto";return best;};var _6a6={at:function(node,pos,_6a7,_6a8){var _6a9=_68f.map(_6a7,function(_6aa){var c={corner:_6aa,pos:{x:pos.x,y:pos.y}};if(_6a8){c.pos.x+=_6aa.charAt(1)=="L"?_6a8.x:-_6a8.x;c.pos.y+=_6aa.charAt(0)=="T"?_6a8.y:-_6a8.y;}return c;});return _695(node,_6a9);},around:function(node,_6ab,_6ac,_6ad,_6ae){var _6af=(typeof _6ab=="string"||"offsetWidth" in _6ab||"ownerSVGElement" in _6ab)?_690.position(_6ab,true):_6ab;if(_6ab.parentNode){var _6b0=_691.getComputedStyle(_6ab).position=="absolute";var _6b1=_6ab.parentNode;while(_6b1&&_6b1.nodeType==1&&_6b1.nodeName!="BODY"){var _6b2=_690.position(_6b1,true),pcs=_691.getComputedStyle(_6b1);if(/relative|absolute/.test(pcs.position)){_6b0=false;}if(!_6b0&&/hidden|auto|scroll/.test(pcs.overflow)){var _6b3=Math.min(_6af.y+_6af.h,_6b2.y+_6b2.h);var _6b4=Math.min(_6af.x+_6af.w,_6b2.x+_6b2.w);_6af.x=Math.max(_6af.x,_6b2.x);_6af.y=Math.max(_6af.y,_6b2.y);_6af.h=_6b3-_6af.y;_6af.w=_6b4-_6af.x;}if(pcs.position=="absolute"){_6b0=true;}_6b1=_6b1.parentNode;}}var x=_6af.x,y=_6af.y,_6b5="w" in _6af?_6af.w:(_6af.w=_6af.width),_6b6="h" in _6af?_6af.h:(_692.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_6af.height+", width:"+_6b5+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_6af.height+", w:"+_6b5+" }","","2.0"),_6af.h=_6af.height);var _6b7=[];function push(_6b8,_6b9){_6b7.push({aroundCorner:_6b8,corner:_6b9,pos:{x:{"L":x,"R":x+_6b5,"M":x+(_6b5>>1)}[_6b8.charAt(1)],y:{"T":y,"B":y+_6b6,"M":y+(_6b6>>1)}[_6b8.charAt(0)]}});};_68f.forEach(_6ac,function(pos){var ltr=_6ad;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _6ba=_695(node,_6b7,_6ae,{w:_6b5,h:_6b6});_6ba.aroundNodePos=_6af;return _6ba;}};return _694.place=_6a6;});},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_6bb,_6bc,keys,_6bd,_6be,_6bf){return _6bb("dijit.DropDownMenu",[_6bf,_6be],{templateString:_6bd,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_6bc.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_6bc.stop(evt);}break;}}});});},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","dijit/_MenuBase":function(){define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./popup","./registry","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_6c0,_6c1,dom,_6c2,_6c3,lang,_6c4,on,_6c5,_6c6,pm,_6c7,_6c8,_6c9,_6ca){return _6c1("dijit._MenuBase",[_6c8,_6ca,_6c9],{parentMenu:null,popupDelay:500,autoFocus:false,childSelector:function(node){var _6cb=_6c7.byNode(node);return node.parentNode==this.containerNode&&_6cb&&_6cb.focus;},postCreate:function(){var self=this,_6cc=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_6cc,_6c4.enter),function(){self.onItemHover(_6c7.byNode(this));}),on(this.containerNode,on.selector(_6cc,_6c4.leave),function(){self.onItemUnhover(_6c7.byNode(this));}),on(this.containerNode,on.selector(_6cc,_6c6),function(evt){self.onItemClick(_6c7.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _6cd=this._getTopMenu();if(_6cd&&_6cd._isMenuBar){_6cd.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _6ce=this.currentPopup.parentMenu;if(_6ce.focusedChild){_6ce.focusedChild._setSelected(false);}_6ce.focusedChild=this.currentPopup.from_item;_6ce.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;item._set("hovering",true);},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _6cf=item.popup;if(_6cf){this._stopPendingCloseTimer(_6cf);_6cf._pendingClose_timer=this.defer(function(){_6cf._pendingClose_timer=null;if(_6cf.parentMenu){_6cf.parentMenu.currentPopup=null;}pm.close(_6cf);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_6d0){if(_6d0._pendingClose_timer){_6d0._pendingClose_timer=_6d0._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup(evt.type=="keypress");}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openPopup:function(_6d1){this._stopPopupTimer();var _6d2=this.focusedChild;if(!_6d2){return;}var _6d3=_6d2.popup;if(!_6d3.isShowingNow){if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_6d3.parentMenu=this;_6d3.from_item=_6d2;var self=this;pm.open({parent:this,popup:_6d3,around:_6d2.domNode,orient:this._orient||["after","before"],onCancel:function(){self.focusChild(_6d2);self._cleanUp();_6d2._setSelected(true);self.focusedChild=_6d2;},onExecute:lang.hitch(this,"_cleanUp")});this.currentPopup=_6d3;if(this.popupHoverHandle){this.popupHoverHandle.remove();}this.own(this.popupHoverHandle=on.once(_6d3.domNode,"mouseover",lang.hitch(self,"_onPopupHover")));}if(_6d1&&_6d3.focus){_6d3._focus_timer=this.defer(lang.hitch(_6d3,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_6c3.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_6c3.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_6c0.indexOf(this._focusManager.activeStack,this.id)>=0){_6c2.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.onItemUnhover(this.focusedChild);this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_6d4,dom,_6d5,_6d6,_6d7,_6d8){return _6d4("dijit.MenuSeparator",[_6d5,_6d6,_6d7],{templateString:_6d8,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_6d9,_6da){return _6d9("dijit._Contained",null,{_getSibling:function(_6db){var node=this.domNode;do{node=node[_6db+"Sibling"];}while(node&&node.nodeType!=1);return node&&_6da.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","epi/shell/widget/WidgetFactory":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/promise/all","dojo/when","epi/dependency","dijit/_Widget","dijit/_Container","dojox/layout/GridContainerLite","epi/shell/widget/ToolbarDropDownButton","epi/shell/widget/ToolbarSet"],function(_6dc,_6dd,_6de,lang,win,dom,all,when,_6df){return _6de(null,{_domNodeName:"[domnode]",_handlers:null,moduleManager:null,messageService:undefined,onWidgetHierarchyCreated:null,onWidgetCreated:null,constructor:function(_6e0){_6de.safeMixin(this,_6e0);this._handlers=[];this._addDefaultHandlers();this.messageService=this.messageService||_6df.resolve("epi.shell.MessageService");this.moduleManager=this.moduleManager||_6df.resolve("epi.ModuleManager");},createWidgets:function(root,_6e1,_6e2){var _6e3,_6e4,_6e5=[],_6e6=[],_6e7=new _6dd(),_6e8;_6e2===false?_6e2=false:_6e2=true;if(typeof (root)==="string"){root=dom.byId(root);}if(_6e1&&!lang.isArray(_6e1)){_6e1=[_6e1];}if(this.getHandler(root).type===this._domNodeName){_6e3=win.doc.createDocumentFragment();_6e3.tagName="documentFragment";}_6e4=lang.hitch(this,function(_6e9){if(_6e9 instanceof Array){for(var i in _6e9){_6e4(_6e9[i]);}}if(_6e9.components instanceof Array){_6e4(_6e9.components);}if(_6e9.moduleName){_6e6.push(this.moduleManager.startModules(_6e9.moduleName));}if(_6e9.widgetPackage){_6e5.push(_6e9.widgetPackage);}else{if(_6e9.widgetType){_6e5.push(_6e9.widgetType);}}});_6e4(_6e1);_6e8=require.on("error",function(_6ea){console.error(_6ea.stack||_6ea);_6e8.remove();_6e7.reject(_6ea);});all(_6e6).then(lang.hitch(this,function(){require(_6e5,lang.hitch(this,function(){_6e8.remove();this._createWidgets(_6e3||root,_6e1).then(function(_6eb){try{_6e3&&root.appendChild(_6e3);if(_6e2){_6dc.forEach(_6eb,function(w){!w._started&&w.startup&&w.startup();});}_6e7.resolve(_6eb);}catch(err){_6e7.reject(err);}},_6e7.reject);}));}));return _6e7;},_createWidgets:function(root,_6ec){var dfd=new _6dd(),_6ed=[],_6ee=this.getHandler(root),_6ef;if(!_6ee||!lang.isArray(_6ec)){dfd.resolve(_6ed);return dfd;}_6ef=_6dc.map(_6ec,lang.hitch(this,function(_6f0){var done=new _6dd(),_6f1=this._createInternal(root,_6f0,_6ee);_6f1.then(function(_6f2){if(_6f2){_6ed.push(_6f2);}done.resolve(_6f2);},function(e){console.error(e.stack||e);done.reject(e);});return done;}));all(_6ef).then(function(){dfd.resolve(_6ed);},function(_6f3){console.error("WidgetFactory: Could not resolve one or more widgets");dfd.reject(_6f3);});return dfd;},_createInternal:function(root,_6f4,_6f5){var _6f6=new _6dd();when(_6f5.instantiateWidgetFunction(_6f4),lang.hitch(this,function(_6f7){if(_6f7){try{if(typeof this.onWidgetCreated=="function"){this.onWidgetCreated(_6f7,_6f4);}_6f5.addWidgetToRootFunction(root,_6f7);}catch(e){_6f6.reject(e);return;}var _6f8=new _6dd();if(_6f4.components&&lang.isArray(_6f4.components)&&_6f4.components.length>0){_6f8=this._createWidgets(_6f7,_6f4.components);}else{_6f8.resolve();}_6f8.then(lang.hitch(this,function(){try{if(typeof this.onWidgetHierarchyCreated=="function"){this.onWidgetHierarchyCreated(_6f7,_6f4);}_6f6.resolve(_6f7);}catch(e){_6f6.reject(e);}}),_6f6.reject);}else{_6f6.reject();}}),function(_6f9){console.error(_6f9.stack||_6f9);_6f6.reject(_6f9);});return _6f6;},defaultWidgetInstantiator:function(_6fa){var def=new _6dd();var _6fb=lang.mixin({},_6fa.settings,{componentId:_6fa.id});var _6fc=_6fa.widgetType;var _6fd=_6fa.widgetPackage&&lang.getObject(_6fa.widgetType);var _6fe=require.on("error",function(_6ff){console.error(_6ff.stack||_6ff);_6fe.remove();def.reject(_6ff);});function _700(ctor){var _701=new ctor(_6fb);if(_6fa.connections){for(var evt in _6fa.connections){if(_6fa.connections[evt]){_701.connect(_701,evt,_6fa.connections[evt]);}}}_6fe.remove();def.resolve(_701);};if(_6fd){_700(_6fd);}else{require([_6fc],lang.hitch(this,_700));}return def;},_notifyError:function(msg){if(this.messageService){this.messageService.put("error",msg);}},_addDefaultHandlers:function(){this.addHandler(this._domNodeName,function(_702,_703){_703.placeAt(_702);},null,function(){return true;});this.addHandler("dijit/_Widget",function(_704,_705){_704.set("content",_705);});this.addHandler("dijit/_Container",function(_706,_707){_706.addChild(_707);});this.addHandler("dojox/layout/GridContainerLite",function(_708,_709){_708.addChild(_709,_709.params.column);});this.addHandler("epi/shell/widget/ToolbarDropDownButton",function(_70a,_70b){_70a.addChild(_70b);});this.addHandler("epi/shell/widget/ToolbarSet",function(_70c,_70d){_70c.addChild(_70d);});},addHandler:function(_70e,_70f,_710,_711){var _712=function(_713,_714){return _714&&lang.isFunction(_713.isInstanceOf)&&_713.isInstanceOf(_714);};var _715=lang.hitch(this,function(type){var _716=this.getHandlerByTypeName(_70e);var _717=_711||_712;var _718=_716?true:false;if(!_718){_716={};}var _719=_710||lang.hitch(this,this.defaultWidgetInstantiator);_716.type=_70e;_716.instantiateWidgetFunction=_719;_716.addWidgetToRootFunction=_70f;_716.widgetConstructor=type;_716.canHandle=_717;if(!_718){this._handlers.push(_716);}});if(_70e!==this._domNodeName){require([_70e],_715);}else{_715();}},getHandler:function(root){var _71a=this._handlers;for(var i=_71a.length-1;i>=0;i--){if(_71a[i].canHandle(root,_71a[i].widgetConstructor)){return _71a[i];}}return null;},getHandlerByTypeName:function(_71b){var _71c=this._handlers;for(var i=0;i<_71c.length;i++){if(_71c[i].type===_71b){return _71c[i];}}return null;},removeHandler:function(_71d){var _71e=this._handlers;for(var i=0;i<_71e.length;i++){if(_71e[i].type===_71d){_71e.splice(i,1);}}},listHandlers:function(){var _71f=this._handlers;return _6dc.map(_71f,function(_720){return _720.type;});}});});},"dojox/layout/GridContainerLite":function(){require({cache:{"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>"}});define("dojox/layout/GridContainerLite",["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/_base/declare","dojo/query","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/keys","dojo/topic","dijit/registry","dijit/focus","dijit/_base/focus","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dojo/_base/NodeList","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll"],function(dojo,_721,_722,_723,has,_724,_725,geom,_726,_727,_728,lang,_729,keys,_72a,_72b,_72c,_72d,_72e,_72f,_730,_731){var gcl=_722("dojox.layout.GridContainerLite",[_730,_72f],{autoRefresh:true,templateString:_721,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_732,node){this.acceptTypes=(_732||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={h:has("ie")?geom.getBorderExtents(this.gridContainerTable).h:0,w:(has("ie")==6)?1:0};}else{_725.set(this.domNode,"overflowY","hidden");_725.set(this.gridContainerTable,"height","auto");}},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}_728.forEach(this.getChildren(),function(_733){_733.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_734,_735){if(this._disabled){return false;}if(_72b.getEnclosingWidget(_734.node)==this){var _736=_72b.byNode(node);if(_736.resize&&lang.isFunction(_736.resize)){_736.resize();}_736.set("column",node.parentNode.cellIndex);if(this.doLayout){var _737=this._contentBox.h,_738=geom.getContentBox(this.gridContainerDiv).h;if(_738>=_737){_725.set(this.gridContainerTable,"height",(_737-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_739,_73a){if(this._disabled){return false;}if(_72b.getEnclosingWidget(_739.node)==this){this._draggedNode=node;if(this.doLayout){geom.getMarginBox(this.gridContainerTable,{h:geom.getContentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _73b=new _731();_728.forEach(this._grid,function(_73c){_723("> [widgetId]",_73c.node).map(_72b.byNode).forEach(function(item){_73b.push(item);});});return _73b;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_724.contains(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _73d=this._contentBox;geom.getMarginBox(this.gridContainerTable,{h:_73d.h-this._border.h});geom.getContentBox(this.domNode,{w:_73d.w-this._border.w});}_728.forEach(this.getChildren(),function(_73e){if(_73e.resize&&lang.isFunction(_73e.resize)){_73e.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _73f=this.acceptTypes.join(","),i=0;var _740=this.colWidths||[];var _741=[];var _742;var _743=0;for(i=0;i<this.nbZones;i++){if(_741.length<_740.length){_743+=_740[i];_741.push(_740[i]);}else{if(!_742){_742=(100-_743)/(this.nbZones-i);}_741.push(_742);}}i=0;while(i<this.nbZones){this._grid.push({node:_726.create("td",{"class":"gridContainerZone",accept:_73f,id:this.id+"_dz"+i,style:{"width":_741[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return _723(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;_728.forEach(this._grid,function(_744){m.registerByNode(_744.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;_728.forEach(this._grid,function(_745){m.unregister(_745.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _746=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _747=this.nbZones,_748=Math.floor(_746.length/_747),mod=_746.length%_747,i=0;for(var z=0;z<_747;z++){for(var r=0;r<_748;r++){this._insertChild(_746[i],z);i++;}if(mod>0){try{this._insertChild(_746[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_748===0){break;}}}},_organizeChildrenManually:function(){var _749=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_74a=_749.length,_74b;for(var i=0;i<_74a;i++){_74b=_749[i];try{this._insertChild(_74b,_74b.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_74c,_74d,p){var zone=this._grid[_74d].node,_74e=zone.childNodes.length;if(typeof p==="undefined"||p>_74e){p=_74e;}if(this._disabled){_726.place(_74c.domNode,zone,p);_727.set(_74c.domNode,"tabIndex","0");}else{if(!_74c.dragRestriction){this._dragManager.addDragItem(zone,_74c.domNode,p,true);}else{_726.place(_74c.domNode,zone,p);_727.set(_74c.domNode,"tabIndex","0");}}_74c.set("column",_74d);return _74c;},removeChild:function(_74f){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_74f.domNode.parentNode,_74f.domNode);}},addService:function(_750,_751,p){kernel.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_750,_751,p);},addChild:function(_752,_753,p){_752.domNode.id=_752.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_752,0);if(_753<0||_753==undefined){_753=0;}if(p<=0){p=0;}try{return this._insertChild(_752,_753,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_754){this.colWidths=lang.isString(_754)?_754.split(","):(lang.isArray(_754)?_754:[_754]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_755){var _756=this._grid.length;var _757=this.colWidths||[];var _758=[];var _759;var _75a=0;var i;for(i=0;i<_756;i++){if(_758.length<_757.length){_75a+=_757[i]*1;_758.push(_757[i]);}else{if(!_759){_759=(100-_75a)/(this.nbZones-i);if(_759<0){_759=100/this.nbZones;}}_758.push(_759);_75a+=_759*1;}}if(_75a>100){var _75b=100/_75a;for(i=0;i<_758.length;i++){_758[i]*=_75b;}}for(i=0;i<_756;i++){this._grid[i].node.style.width=_758[i]+"%";}},_selectFocus:function(_75c){if(this._disabled){return;}var key=_75c.keyCode,k=keys,zone=null,_75d=_72d.getFocus(),_75e=_75d.node,m=this._dragManager,_75f,i,j,r,_760,area,_761;if(_75e==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_75f=false;for(i=0;i<area.length;i++){_760=area[i].childNodes;for(j=0;j<_760.length;j++){zone=_760[j];if(zone!=null&&zone.style.display!="none"){_72c.focus(zone);_729.stop(_75c);_75f=true;break;}}if(_75f){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_75f=false;for(i=area.length-1;i>=0;i--){_760=area[i].childNodes;for(j=_760.length;j>=0;j--){zone=_760[j];if(zone!=null&&zone.style.display!="none"){_72c.focus(zone);_729.stop(_75c);_75f=true;break;}}if(_75f){break;}}break;}}else{if(_75e.parentNode.parentNode==this.gridNode){var _762=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:_729.stop(_75c);_75f=false;var _763=_75e;while(!_75f){_760=_763.parentNode.childNodes;var num=0;for(i=0;i<_760.length;i++){if(_760[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_763[pos]==null){zone=_763.parentNode[_762];}else{zone=_763[pos];}if(zone.style.display==="none"){_763=zone;}else{_75f=true;}}if(_75c.shiftKey){var _764=_75e.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_764==this.gridNode.childNodes[i]){break;}}_760=this.gridNode.childNodes[i].childNodes;for(j=0;j<_760.length;j++){if(zone==_760[j]){break;}}if(has("mozilla")||has("webkit")){i--;}_761=_72b.byNode(_75e);if(!_761.dragRestriction){r=m.removeDragItem(_764,_75e);this.addChild(_761,i,j);_727.set(_75e,"tabIndex","0");_72c.focus(_75e);}else{_72a.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{_72c.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:_729.stop(_75c);if(_75c.shiftKey){var z=0;if(_75e.parentNode[pos]==null){if(has("ie")&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_75e.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_75e.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(has("mozilla")||has("webkit")){z--;}}}_761=_72b.byNode(_75e);var _765=_75e.getAttribute("dndtype");if(_765==null){if(_761&&_761.dndType){_765=_761.dndType.split(/\s*,\s*/);}else{_765=["text"];}}else{_765=_765.split(/\s*,\s*/);}var _766=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_765.length;j++){if(_765[j]==this.acceptTypes[i]){_766=true;break;}}}if(_766&&!_761.dragRestriction){var _767=_75e.parentNode,_768=0;if(k.LEFT_ARROW==key){var t=z;if(has("mozilla")||has("webkit")){t=z+1;}_768=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_767,_75e);this.addChild(_761,z,_768);_727.set(r,"tabIndex","0");_72c.focus(r);}else{_72a.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{var node=_75e.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=node.parentNode.childNodes[has("ie")?0:1];}}zone=node[_762];if(zone&&zone.style.display=="none"){_760=zone.parentNode.childNodes;var _769=null;if(pos=="previousSibling"){for(i=_760.length-1;i>=0;i--){if(_760[i].style.display!="none"){_769=_760[i];break;}}}else{for(i=0;i<_760.length;i++){if(_760[i].style.display!="none"){_769=_760[i];break;}}}if(!_769){_75e=zone;node=_75e.parentNode;zone=null;}else{zone=_769;}}}_72c.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;_728.forEach(this._grid,function(_76a){m.unregister(_76a.node);});this.inherited(arguments);}});gcl.ChildWidgetProperties={column:"1",dragRestriction:false};lang.extend(_72e,gcl.ChildWidgetProperties);return gcl;});},"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>","dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../main"],function(_76b,dom,lang,_76c,win,_76d,_76e){var _76f={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _76e.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_76d.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_770){var _771=win.doc,mark=_770.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_771.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_771.body.createControlRange();_76b.forEach(mark,function(n){rg.addElement(n);});}else{rg=_771.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_772){var node=!_76d.curNode||(menu&&dom.isDescendant(_76d.curNode,menu.domNode))?_76e._prevFocus:_76d.curNode;return {node:node,bookmark:node&&(node==_76d.curNode)&&win.withGlobal(_772||win.global,_76e.getBookmark),openedForWindow:_772};},_activeStack:[],registerIframe:function(_773){return _76d.registerIframe(_773);},unregisterIframe:function(_774){_774&&_774.remove();},registerWin:function(_775,_776){return _76d.registerWin(_775,_776);},unregisterWin:function(_777){_777&&_777.remove();}};_76d.focus=function(_778){if(!_778){return;}var node="node" in _778?_778.node:_778,_779=_778.bookmark,_77a=_778.openedForWindow,_77b=_779?_779.isCollapsed:false;if(node){var _77c=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_77c&&_77c.focus){try{_77c.focus();}catch(e){}}_76d._onFocusNode(node);}if(_779&&win.withGlobal(_77a||win.global,_76e.isCollapsed)&&!_77b){if(_77a){_77a.focus();}try{win.withGlobal(_77a||win.global,_76e.moveToBookmark,null,[_779]);}catch(e2){}}};_76d.watch("curNode",function(name,_77d,_77e){_76e._curFocus=_77e;_76e._prevFocus=_77d;if(_77e){_76c.publish("focusNode",_77e);}});_76d.watch("activeStack",function(name,_77f,_780){_76e._activeStack=_780;});_76d.on("widget-blur",function(_781,by){_76c.publish("widgetBlur",_781,by);});_76d.on("widget-focus",function(_782,by){_76c.publish("widgetFocus",_782,by);});lang.mixin(_76e,_76f);return _76e;});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_783,_784,_785,_786,_787,_788,_789,_78a){return _787("dijit.layout._LayoutWidget",[_783,_784,_785],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_788.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _78b=this.getParent&&this.getParent();if(!(_78b&&_78b.isLayoutContainer)){this.resize();this.own(_786.on("resize",lang.hitch(this,"resize")));}},resize:function(_78c,_78d){var node=this.domNode;if(_78c){_789.setMarginBox(node,_78c);}var mb=_78d||{};lang.mixin(mb,_78c||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_789.getMarginBox(node),mb);}var cs=_78a.getComputedStyle(node);var me=_789.getMarginExtents(node,cs);var be=_789.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_789.getPadExtents(node,cs);this._contentBox={l:_78a.toPixelValue(node,cs.paddingLeft),t:_78a.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_78e){var cls=this.baseClass+"-child "+(_78e.baseClass?this.baseClass+"-"+_78e.baseClass:"");_788.add(_78e.domNode,cls);},addChild:function(_78f,_790){this.inherited(arguments);if(this._started){this._setupChild(_78f);}},removeChild:function(_791){var cls=this.baseClass+"-child"+(_791.baseClass?" "+this.baseClass+"-"+_791.baseClass:"");_788.remove(_791.domNode,cls);this.inherited(arguments);}});});},"dojox/mdnd/AreaManager":function(){define("dojox/mdnd/AreaManager",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/_base/sniff","dojo/_base/lang","dojo/query","dojo/topic","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/registry","dijit/_Widget","./Moveable"],function(dojo,_792,_793,win,_794,_795,lang,_796,_797,_798,geom,_799,_79a,_79b,_79c){var am=_792("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=_793.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_79d){var _79e=this._getIndexArea(area);if(area&&_79e==-1){var _79f=area.getAttribute("accept");var _7a0=(_79f)?_79f.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_7a0,"initItems":false};_794.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_79d){this._dropMode.updateAreas(this._areaList);}_793.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){_796("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _7a1=this._getIndexArea(area);if(_7a1!=-1){_794.forEach(this._areaList[_7a1].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_7a1,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _7a2=this._searchDragHandle(node);var _7a3=new _79c({"handle":_7a2,"skip":true},node);_798.add(_7a2||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_7a3,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[_793.connect(_7a3,"onDragStart",this,"onDragStart")]};if(_79a&&_79a.byNode){var _7a4=_79a.byNode(node);if(_7a4){item.type=_7a4.dndType?_7a4.dndType.split(/\s*,\s*/):["text"];item.handlers.push(_793.connect(_7a4,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_7a3.node);}));}}return item;},_deleteMoveableItem:function(_7a5){_794.forEach(_7a5.handlers,function(_7a6){_793.disconnect(_7a6);});var node=_7a5.item.node,_7a7=this._searchDragHandle(node);_798.remove(_7a7||node,"dragHandle");_7a5.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _7a8=this.dragHandleClass.split(" "),_7a9=_7a8.length,_7aa="";_794.forEach(_7a8,function(css,i){_7aa+="."+css;if(i!=_7a9-1){_7aa+=", ";}});return _796(_7aa,node)[0];}},addDragItem:function(area,node,_7ab,_7ac){var add=true;if(!_7ac){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _7ad=this._getIndexArea(area);if(_7ad!==-1){var item=this._addMoveableItem(node),_7ae=this._areaList[_7ad].items;if(0<=_7ab&&_7ab<_7ae.length){var _7af=_7ae.slice(0,_7ab),_7b0=_7ae.slice(_7ab,_7ae.length);_7af[_7af.length]=item;this._areaList[_7ad].items=_7af.concat(_7b0);area.insertBefore(node,_7ae[_7ab].item.node);}else{this._areaList[_7ad].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_7ad],node);this._areaList[_7ad].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _7b1=this._getIndexArea(area);if(area&&_7b1!==-1){var _7b2=this._areaList[_7b1].items;for(var j=0;j<_7b2.length;j++){if(_7b2[j].item.node===node){this._deleteMoveableItem(_7b2[j]);_7b2.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _7b3=[];_794.forEach(area.childNodes,function(_7b4){if(_7b4.nodeType==1){if(_79a&&_79a.byNode){var _7b5=_79a.byNode(_7b4);if(_7b5){if(!_7b5.dragRestriction){_7b3.push(_7b4);}}else{_7b3.push(_7b4);}}else{_7b3.push(_7b4);}}});return _7b3;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=geom.getMarginExtents(node);}},findCurrentIndexArea:function(_7b6,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_7b6,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_7b6,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_7b6,size);}}return this._currentIndexArea;},_isAccepted:function(type,_7b7){this._accept=false;for(var i=0;i<_7b7.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_7b7[i]){this._accept=true;break;}}}},onDragStart:function(node,_7b8,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _7b9=(_795("webkit"))?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=_799.create("div",{"class":"dndCover"});this._cover2=lang.clone(this._cover);_798.add(this._cover2,"dndCover2");}var h=_7b9.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=_793.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _7ba=this._areaList[this._sourceIndexArea];var _7bb=_7ba.items;for(var i=0;i<_7bb.length;i++){if(_7bb[i].item.node==node){this._dragItem=_7bb[i];this._dragItem.handlers.push(_793.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(_793.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_7bb.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _7bc=null;if(this._sourceDropIndex!==_7ba.items.length){_7bc=_7ba.items[this._sourceDropIndex].item.node;}if(_795("ie")>7){this._eventsIE7=[_793.connect(this._cover,"onmouseover",dojo,"stopEvent"),_793.connect(this._cover,"onmouseout",dojo,"stopEvent"),_793.connect(this._cover,"onmouseenter",dojo,"stopEvent"),_793.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_7b8.x+"px";s.top=_7b8.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_7ba.node,_7bc,size);_798.add(node,"dragNode");this._accept=true;_793.publish("/dojox/mdnd/drag/start",[node,_7ba,this._sourceDropIndex]);},onDragEnter:function(_7bd,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_7be,size){this._accept=false;},onDrag:function(node,_7bf,size,_7c0){var _7c1=this._dropMode.getDragPoint(_7bf,size,_7c0);this.findCurrentIndexArea(_7c1,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_7c1,size);}},placeDropIndicator:function(_7c2,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_7c2);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _7c3=this._areaList[this._lastValidIndexArea];var _7c4=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_7c3,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_7c4.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_7c4.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_7c4,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _7c5=this._getIndexArea(this._dropIndicator.node.parentNode);if(_7c5!=-1){this._currentIndexArea=_7c5;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _7c6=this._areaList[this._currentIndexArea];_798.remove(node,"dragNode");var _7c7=node.style;_7c7.position="relative";_7c7.left="0";_7c7.top="0";_7c7.width="auto";if(_7c6.node==this._dropIndicator.node.parentNode){_7c6.node.insertBefore(node,this._dropIndicator.node);}else{_7c6.node.appendChild(node);this._currentDropIndex=_7c6.items.length;}var _7c8=this._currentDropIndex;if(_7c8==-1){_7c8=_7c6.items.length;}var _7c9=_7c6.items;var _7ca=_7c9.slice(0,_7c8);var _7cb=_7c9.slice(_7c8,_7c9.length);_7ca[_7ca.length]=this._dragItem;_7c6.items=_7ca.concat(_7cb);this._setMarginArea(_7c6,node);_794.forEach(this._areaList,function(obj){obj.initItems=false;});_793.disconnect(this._dragItem.handlers.pop());_793.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}_793.publish("/dojox/mdnd/drop",[node,_7c6,_7c8]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){_793.disconnect(this._dragStartHandler);}if(_795("ie")>7){_794.forEach(this._eventsIE7,_793.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}_793.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){_793.unsubscribe(this.refreshListener);}if(this._cover){_799.destroy(this._cover);_799.destroy(this._cover2);delete this._cover;delete this._cover2;}}});if(_79b){lang.extend(_79b,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/mdnd/Moveable":function(){define("dojox/mdnd/Moveable",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/_base/window"],function(dojo,_7cc,_7cd,_7ce,_7cf,_7d0,dom,geom,_7d1){return _7cc("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_7d2,node){this.node=dom.byId(node);this.d=this.node.ownerDocument;if(!_7d2){_7d2={};}this.handle=_7d2.handle?dom.byId(_7d2.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_7d2.skip;this.events=[_7ce.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _7d3=(e.which||e.button)==1;if(!_7d3){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(_7ce.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(_7ce.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=_7ce.connect(dojo.body(),"onselectstart",_7cf.stop);this._firstX=e.clientX;this._firstY=e.clientY;_7cf.stop(e);},onFirstMove:function(e){_7cf.stop(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;_7ce.disconnect(this.events.pop());_7d1.set(this.node,"width",geom.getContentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(_7ce.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _7d4=geom.position(this.node,true);this.offsetDrag.l=_7d4.x-this.offsetDrag.l;this.offsetDrag.t=_7d4.y-this.offsetDrag.t;var _7d5={"x":_7d4.x,"y":_7d4.y};this.size={"w":_7d4.w,"h":_7d4.h};this.onDragStart(this.node,_7d5,this.size);},onMove:function(e){_7cf.stop(e);if(_7d0("ie")==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _7d6={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_7d6.x+"px";s.top=_7d6.y+"px";this.onDrag(this.node,_7d6,this.size,{"x":e.pageX,"y":e.pageY});if(_7d0("ie")==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){_7cf.stop(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);this.node.focus();}_7ce.disconnect(this.events.pop());_7ce.disconnect(this.events.pop());},onDragStart:function(node,_7d7,size){},onDragEnd:function(node){},onDrag:function(node,_7d8,size,_7d9){},destroy:function(){_7cd.forEach(this.events,_7ce.disconnect);this.events=this.node=null;}});});},"dojox/mdnd/DropIndicator":function(){define("dojox/mdnd/DropIndicator",["dojo/_base/kernel","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./AreaManager"],function(dojo,_7da,_7db,_7dc){var di=_7da("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _7dd=document.createElement("div");var _7de=document.createElement("div");_7dd.appendChild(_7de);_7db.add(_7dd,"dropIndicator");this.node=_7dd;},place:function(area,_7df,size){if(size){this.node.style.height=size.h+"px";}try{if(_7df){area.insertBefore(this.node,_7df);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}_7dc.destroy(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"dojox/mdnd/dropMode/OverDropMode":function(){define("dojox/mdnd/dropMode/OverDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_7e0,_7e1,_7e2,geom){var odm=_7e0("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_7e1.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_7e3,size){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_7e4,_7e5){var _7e6=_7e4.length,_7e7=geom.position(_7e5.node,true);_7e5.coords={"x":_7e7.x,"y":_7e7.y};if(_7e6==0){_7e4.push(_7e5);}else{var x=_7e5.coords.x;for(var i=0;i<_7e6;i++){if(x<_7e4[i].coords.x){for(var j=_7e6-1;j>=i;j--){_7e4[j+1]=_7e4[j];}_7e4[i]=_7e5;break;}}if(i==_7e6){_7e4.push(_7e5);}}return _7e4;},updateAreas:function(_7e8){var _7e9=_7e8.length;for(var i=0;i<_7e9;i++){this._updateArea(_7e8[i]);}},_updateArea:function(area){var _7ea=geom.position(area.node,true);area.coords.x=_7ea.x;area.coords.x2=_7ea.x+_7ea.w;area.coords.y=_7ea.y;},initItems:function(area){_7e2.forEach(area.items,function(obj){var node=obj.item.node;var _7eb=geom.position(node,true);var y=_7eb.y+_7eb.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_7ec,size,_7ed){if(_7ec==-1){return;}else{if(area&&size&&size.h){var _7ee=size.h;if(area.margin){_7ee+=area.margin.t;}var _7ef=area.items.length;for(var i=_7ec;i<_7ef;i++){var item=area.items[i];if(_7ed){item.y+=_7ee;}else{item.y-=_7ee;}}}}},getDragPoint:function(_7f0,size,_7f1){return {"x":_7f1.x,"y":_7f1.y};},getTargetArea:function(_7f2,_7f3,_7f4){var _7f5=0;var x=_7f3.x;var y=_7f3.y;var end=_7f2.length;var _7f6=0,_7f7="right",_7f8=false;if(_7f4==-1||arguments.length<3){_7f8=true;}else{if(this._checkInterval(_7f2,_7f4,x,y)){_7f5=_7f4;}else{if(this._oldXPoint<x){_7f6=_7f4+1;}else{_7f6=_7f4-1;end=0;_7f7="left";}_7f8=true;}}if(_7f8){if(_7f7==="right"){for(var i=_7f6;i<end;i++){if(this._checkInterval(_7f2,i,x,y)){_7f5=i;break;}}if(i==end){_7f5=-1;}}else{for(var i=_7f6;i>=end;i--){if(this._checkInterval(_7f2,i,x,y)){_7f5=i;break;}}if(i==end-1){_7f5=-1;}}}this._oldXPoint=x;return _7f5;},_checkInterval:function(_7f9,_7fa,x,y){var area=_7f9[_7fa];var node=area.node;var _7fb=area.coords;var _7fc=_7fb.x;var endX=_7fb.x2;var _7fd=_7fb.y;var endY=_7fd+node.offsetHeight;if(_7fc<=x&&x<=endX&&_7fd<=y&&y<=endY){return true;}return false;},getDropIndex:function(_7fe,_7ff){var _800=_7fe.items.length;var _801=_7fe.coords;var y=_7ff.y;if(_800>0){for(var i=0;i<_800;i++){if(y<_7fe.items[i].y){return i;}else{if(i==_800-1){return -1;}}}}return -1;},destroy:function(){_7e2.forEach(this._dragHandler,_7e1.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/mdnd/AutoScroll":function(){define("dojox/mdnd/AutoScroll",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/ready","dojo/_base/window"],function(dojo,_802,lang,_803,_804,_805){var as=_802("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=_803.connect(dojo.global,"onresize",this,function(){this.getViewport();});_805(lang.hitch(this,"init"));},init:function(){this._html=(_804("webkit"))?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){_803.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"epi/shell/widget/ToolbarDropDownButton":function(){define(["dojo","dojo/dom-style","dijit/form/DropDownButton","dijit/Menu"],function(dojo,_806,_807,Menu){return dojo.declare([_807],{constructor:function(){this.dropDown=new Menu();},buildRendering:function(){this.inherited(arguments);this._setVisibility();},addChild:function(_808,_809){if(!_808.separator){_808.set("separator","dijit/MenuSeparator");}var _80a=this.dropDown.addChild(_808,_809);this._setVisibility();return _80a;},getChildren:function(){return this.dropDown.getChildren();},removeChild:function(_80b){var _80c=this.dropDown.removeChild(_80b);this._setVisibility();return _80c;},_setVisibility:function(){if(this.hasChildren()){_806.set(this.domNode,"display","");}else{_806.set(this.domNode,"display","none");}}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_80d,lang,_80e,_80f,_810,_811,_812,_813,_814){return _80d("dijit.form.DropDownButton",[_811,_812,_813],{baseClass:"dijitDropDownButton",templateString:_814,_fillContent:function(){if(this.srcNodeRef){var _815=_80e("*",this.srcNodeRef);this.inherited(arguments,[_815[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _816=_80e("[widgetId]",this.dropDownContainer)[0];this.dropDown=_80f.byNode(_816);delete this.dropDownContainer;}if(this.dropDown){_810.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _817=this.dropDown;return (!!_817&&(!_817.href||_817.isLoaded));},loadDropDown:function(_818){var _819=this.dropDown;var _81a=_819.on("load",lang.hitch(this,function(){_81a.remove();_818();}));_819.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./registry","./focus","./popup","./_FocusMixin","./Viewport"],function(_81b,_81c,_81d,dom,_81e,_81f,_820,_821,has,keys,lang,on,_822,_823,_824,_825,_826){return _81b("dijit._HasDropDown",_825,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _827=this.dropDown,_828=false;if(e&&this._opened){var c=_820.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_828){if(_81f.contains(t,"dijitPopup")){_828=true;}else{t=t.parentNode;}}if(_828){t=e.target;if(_827.onItemClick){var _829;while(t&&!(_829=_822.byNode(t))){t=t.parentNode;}if(_829&&_829.onClick&&_829.getParent){_829.getParent().onItemClick(_829,e);}}return;}}}if(this._opened){if(_827.focus&&(_827.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_827.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}if(has("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("touch")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_81d.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _82a={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_81f.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_82a+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _82b=this.focusNode||this.domNode;this.own(on(this._buttonNode,"mousedown",lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_82b,"keydown",lang.hitch(this,"_onKey")),on(_82b,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_82c=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_81d.stop(e);return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();_81d.stop(e);}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&((_82c.tagName||"").toLowerCase()!=="input"||(_82c.type&&_82c.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_81d.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){var _82d=_823.curNode&&this.dropDown&&dom.isDescendant(_823.curNode,this.dropDown.domNode);this.closeDropDown(_82d);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_82e){_82e();},loadAndOpenDropDown:function(){var d=new _81c(),_82f=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_82f);}else{_82f();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _830=this.dropDown,_831=_830.domNode,_832=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_831.style.width){this._explicitDDWidth=true;}if(_831.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _833={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_833.width="";}if(!this._explicitDDHeight){_833.height="";}_821.set(_831,_833);var _834=this.maxHeight;if(_834==-1){var _835=_826.getEffectiveBox(this.ownerDocument),_836=_820.position(_832,false);_834=Math.floor(Math.max(_836.y,_835.h-(_836.y+_836.h)));}_824.moveOffScreen(_830);if(_830.startup&&!_830._started){_830.startup();}var mb=_820.getMarginSize(_831);var _837=(_834&&mb.h>_834);_821.set(_831,{overflow:_837?"auto":"visible"});if(_837){mb.h=_834;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_832.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_832.offsetWidth);}else{delete mb.w;}}if(lang.isFunction(_830.resize)){_830.resize(mb);}else{_820.setMarginBox(_831,mb);}}var _838=_824.open({parent:this,popup:_830,around:_832,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_81e.set(self._popupStateNode,"popupActive",false);_81f.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});_81e.set(this._popupStateNode,"popupActive","true");_81f.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_830.id);if(_831.getAttribute("role")!=="presentation"&&!_831.getAttribute("aria-labelledby")){_831.setAttribute("aria-labelledby",this.id);}return _838;},closeDropDown:function(_839){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_839){this.focus();}_824.close(this.dropDown);this._opened=false;}}});});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_83a,_83b,_83c,_83d){return _83a("dijit.CheckedMenuItem",_83c,{templateString:_83d,checked:false,_setCheckedAttr:function(_83e){_83b.toggle(this.domNode,"dijitCheckedMenuItemChecked",_83e);this.domNode.setAttribute("aria-checked",_83e?"true":"false");this._set("checked",_83e);},iconClass:"",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_83f,dom,_840,_841,_842,has,_843,_844,_845,_846,_847){return _83f("dijit.MenuItem",[_843,_844,_845,_846],{templateString:_847,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this.containerNode.innerHTML=val;this._set("label",val);if(this.textDir==="auto"){this.applyTextDir(this.focusNode,this.label);}},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_848){if(_848&&!("label" in this.params)){this.set("label",_848.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _849=this.id+"_text";_840.set(this.containerNode,"id",_849);if(this.accelKeyNode){_840.set(this.accelKeyNode,"id",this.id+"_accel");_849+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_849);dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_84a){_841.toggle(this.domNode,"dijitMenuItemSelected",_84a);},setLabel:function(_84b){_842.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_84b);},setDisabled:function(_84c){_842.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_84c);},_setDisabledAttr:function(_84d){this.focusNode.setAttribute("aria-disabled",_84d?"true":"false");this._set("disabled",_84d);},_setAccelKeyAttr:function(_84e){this.accelKeyNode.style.display=_84e?"":"none";this.accelKeyNode.innerHTML=_84e;_840.set(this.containerNode,"colSpan",_84e?"1":"2");this._set("accelKey",_84e);},_setTextDirAttr:function(_84f){if(!this._created||this.textDir!=_84f){this._set("textDir",_84f);this.applyTextDir(this.focusNode,this.label);}}});});},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n"}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_850,_851,keys,_852,_853,_854){return _850("dijit.form.ComboButton",_853,{templateString:_854,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_852.focus(this._popupStateNode);_851.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_852.focus(this.titleNode);_851.stop(evt);}},focus:function(_855){if(!this.disabled){_852.focus(_855=="start"?this.titleNode:this._popupStateNode);}}});});},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_856,_857,_858){return _856("dijit.form.RadioButton",[_857,_858],{baseClass:"dijitRadio"});});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_859,_85a,_85b,has,_85c,_85d,_85e,_85f,_860){if(has("dijit-legacy-requires")){_85d(0,function(){var _861=["dijit/form/RadioButton"];_859(_861);});}return _85a("dijit.form.CheckBox",[_85e,_85f],{templateString:_860,baseClass:"dijitCheckBox",_setValueAttr:function(_862,_863){if(typeof _862=="string"){this.inherited(arguments);_862=true;}if(this._created){this.set("checked",_862,_863);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_85c("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_85c("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_864,_865,_866,_867){return _864("dijit.form.ToggleButton",[_866,_867],{baseClass:"dijitToggleButton",setChecked:function(_868){_865.deprecated("setChecked("+_868+") is deprecated. Use set('checked',"+_868+") instead.","","2.0");this.set("checked",_868);}});});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_869,_86a){return _869("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _86b=this.checked;this._set("checked",!_86b);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_86b);return ret;},_setCheckedAttr:function(_86c,_86d){this._set("checked",_86c);var node=this.focusNode||this.domNode;if(this._created){if(_86a.get(node,"checked")!=!!_86c){_86a.set(node,"checked",!!_86c);}}node.setAttribute(this._aria_attr,String(_86c));this._handleOnChange(_86c,_86d);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_86e,_86f,_870){return _86e("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_871){this._set("readOnly",_871);_86f.set(this.focusNode,"readOnly",_871);},_setLabelAttr:undefined,_getSubmitValue:function(_872){return (_872==null||_872==="")?"on":_872;},_setValueAttr:function(_873){_873=this._getSubmitValue(_873);this._set("value",_873);_86f.set(this.focusNode,"value",_873);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_86f.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_870.stop(e);return false;}return this.inherited(arguments);}});});},"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","../registry"],function(_874,_875,_876,_877,lang,_878,_879){return _875("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_878("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_87a){if(_87a.name==this.name&&_87a.form==this.focusNode.form){var _87b=_879.getEnclosingWidget(_87a);if(_87b){ary.push(_87b);}}}));return ary;},_setCheckedAttr:function(_87c){this.inherited(arguments);if(!this._created){return;}if(_87c){_874.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_87d){if(_87d!=this&&_87d.checked){_87d.set("checked",false);}}));}},_getSubmitValue:function(_87e){return _87e==null?"on":_87e;},_onClick:function(e){if(this.checked||this.disabled){_877.stop(e);return false;}if(this.readOnly){_877.stop(e);_874.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_87f){_876.set(this.focusNode||this.domNode,"checked",_87f.checked);}));return false;}return this.inherited(arguments);}});});},"epi/shell/widget/PopupMenuItem":function(){define(["dojo/_base/declare","dijit/_Container","dijit/Menu","dijit/PopupMenuItem"],function(_880,_881,Menu,_882){return _880([_882,_881],{constructor:function(){this.popup=new Menu();},addChild:function(_883,_884){return this.popup.addChild(_883,_884);},getChildren:function(){return this.popup.getChildren();},removeChild:function(_885){return this.popup.removeChild(_885);}});});},"dijit/PopupMenuItem":function(){define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","./registry","./MenuItem","./hccss"],function(_886,_887,_888,_889,_88a){return _886("dijit.PopupMenuItem",_88a,{_fillContent:function(){if(this.srcNodeRef){var _88b=_888("*",this.srcNodeRef);this.inherited(arguments,[_88b[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_888("[widgetId]",this.dropDownContainer)[0];this.popup=_889.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_887.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_88c){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_88c);}delete this.popup;}this.inherited(arguments);}});});},"epi/shell/widget/ToolbarLabel":function(){define(["dojo","dojo/dom-construct","dijit/_WidgetBase"],function(dojo,_88d,_88e){return dojo.declare([_88e],{baseClass:"epi-breadCrumbsCurrentItem dijitInline",label:null,buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_88d.create("h1");}this.inherited(arguments);},_setLabelAttr:{node:"domNode",type:"innerText"}});});},"epi/UriParser":function(){define("epi/UriParser",["dojo","epi"],function(dojo,epi){return dojo.declare(null,{constructor:function(uri){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=uri.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}},getModuleArea:function(){return this.scheme.split(".")[1];},getStoreName:function(){return this.scheme.split(".")[2];},getType:function(){return this.scheme;},getId:function(){return this.path.substr(1);},toString:function(){return this.scheme+"://"+this.authority+this.path;}});});},"epi/shell/conversion/ObjectConverterRegistry":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_88f,lang){return {_converterMappings:{},clear:function(){this._converterMappings={};},registerConverter:function(_890,_891,_892){var _893=this._converterMappings[_890];if(!_893){_893={};this._converterMappings[_890]=_893;}_893[_891]=_892;},getConverters:function(_894){var _895;if(lang.isArray(_894)){_895=_88f.map(_894,function(name){if(name in this._converterMappings){return this._converterMappings[name];}},this);_895=_88f.filter(_895,function(item){return item!==undefined;},this);return _895;}else{if(this._converterMappings[_894]===undefined){return undefined;}return [this._converterMappings[_894]];}},getConverter:function(_896,_897){var _898=this.getConverters(_896);var _899;if(_898===undefined){return null;}_88f.some(_898,function(item,i){if((item[_897])){_899=item[_897];return true;}});return _899;}};});},"epi/shell/dnd/Target":function(){define(["dojo/_base/declare","dojo/dom-class","./Source"],function(_89a,_89b,_89c){return _89a([_89c],{allowMultipleItems:false,checkAcceptance:function(_89d,_89e){if(!this.allowMultipleItems&&_89e.length>1){return false;}else{return this.inherited(arguments);}},constructor:function(node,_89f){this.isSource=false;_89b.remove(this.node,"dojoDndSource");}});});},"epi/shell/dnd/Source":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/dnd/Source","./_DndDataMixin","epi/shell/TypeDescriptorManager"],function(_8a0,_8a1,lang,_8a2,_8a3,_8a4,_8a5,_8a6){return _8a1([_8a4,_8a5],{alwaysCopy:true,createItemOnDrop:true,singular:true,generateText:false,_dummyDropItemContainer:null,readOnly:null,postscript:function(){this.inherited(arguments);if(!this.createItemOnDrop){this.parent=this._dummyDropItemContainer=_8a3.create("div");}var _8a7=this.reject;if(_8a7){var _8a8=[];for(var key in this.accept){_8a8.push(key);}this.accept={};_8a8=_8a6.removeIntersectingTypes(_8a8,this.reject);_8a0.forEach(_8a8,function(_8a9){this.accept[_8a9]=1;},this);for(var i=0;i<_8a7.length;++i){this.accept[_8a7[i]]=0;}}},destroy:function(){if(this._dummyDropItemContainer){_8a3.destroy(this._dummyDropItemContainer);this._dummyDropItemContainer=null;}this.inherited(arguments);},checkAcceptance:function(_8aa,_8ab){if(this.readOnly){return false;}var _8ac=_8a0.map(_8ab,function(node){return _8aa.getItem(node.id);});return this._checkAcceptanceForItems(_8ac,this.accept);},getOrderedItems:function(){return _8a0.map(this.getAllNodes(),function(node){return this.getItem(node.id);},this);},onDndItemRemoved:function(_8ad,_8ae,_8af,copy,_8b0){},onDropData:function(_8b1,_8b2,_8b3,copy){},onDrop:function(_8b4,_8b5,copy){var _8b6=_8a0.map(_8b5,function(node){return this._getDndData(_8b4.getItem(node.id),this.accept,this===_8b4);},this);this.inherited(arguments,[_8b4,_8b5,this.alwaysCopy||copy]);if(!this.createItemOnDrop){_8a3.empty(this._dummyDropItemContainer);}this.onDropData(_8b6,_8b4,_8b5,this.alwaysCopy||copy);if(!copy&&this!==_8b4&&_8b4.onDndItemRemoved){_8b4.onDndItemRemoved(_8b6,_8b4,_8b5,copy,this);}_8a2.publish("/epi/dnd/dropdata",_8b6,_8b4,_8b5,this.alwaysCopy||copy);}});});},"epi/shell/dnd/_DndDataMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/dependency","epi/shell/conversion/ObjectConverterRegistry"],function(_8b7,_8b8,_8b9,_8ba){return _8b8(null,{_checkAcceptanceForItems:function(_8bb,_8bc){return _8b7.every(_8bb,function(item){return this._acceptsTypeWithoutConversion(item.type,_8bc)||this._converterExistsForAnyType(item.type,_8bc);},this);},_acceptsTypeWithoutConversion:function(_8bd,_8be){var flag=false;for(var j=0;j<_8bd.length;++j){if(_8bd[j] in _8be){flag=!!_8be[_8bd[j]];break;}}return flag;},_converterExistsForAnyType:function(_8bf,_8c0){for(var j=0;j<_8bf.length;++j){for(var type in _8c0){if(_8ba.getConverter(_8bf[j],type)){return !!_8c0[type];}}}return false;},_getDndData:function(item,_8c1,_8c2){if(!item||!item.data){return null;}var _8c3=null;var data=item.data.dndData||item.data;var _8c4=null;if(this._acceptsTypeWithoutConversion(item.type,_8c1)){_8c4={type:item.type,data:data,options:item.options};_8c3=_8c4;}else{for(var type in _8c1){var _8c5=_8ba.getConverter(item.type,type);if(_8c5){_8c4={type:[type]};_8c4.data=_8c5.convert(item.type,type,data);_8c4.options=item.options;_8c3=_8c4;break;}}}if(!_8c2){item.data.getNormalizedData=function(){return _8c4;};}return _8c3;}});});},"epi/shell/TypeDescriptorManager":function(){define("epi/shell/TypeDescriptorManager",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/when","epi/dependency","epi/i18n!epi/shell/ui/nls/contenttypes"],function(_8c6,_8c7,lang,all,when,_8c8,_8c9){return {_uiDescriptors:{},resources:_8c9,store:null,initialize:function(){this.store=this.store||_8c8.resolve("epi.storeregistry").get("epi.shell.uidescriptor");return when(this.store.query()).then(this.registerTypeSettings.bind(this));},clear:function(){this._uiDescriptors={};},registerTypeSettings:function(_8ca){var _8cb=this._uiDescriptors={};function _8cc(_8cd){var type=_8cb[_8cd],_8ce=type.descriptor,_8cf=_8ce.baseTypes||[];if(type.ctor){return type.ctor;}if(type.visited){throw new Error("Cyclic dependency detected in descriptor: "+_8cd);}type.visited=true;type.ctor=_8c7(_8cf.map(_8cc),_8ce);type.instance=new type.ctor();return type.ctor;};_8ca.forEach(function(_8d0){_8cb[_8d0.typeIdentifier]=this._prepareDescriptor(_8d0);},this);Object.keys(_8cb).forEach(_8cc);return _8cb;},registerTypeSetting:function(name,_8d1){_8d1.typeIdentifier=name;this.registerTypeSettings([_8d1]);},getValue:function(type,_8d2){var _8d3=this._uiDescriptors[type];return _8d3?_8d3.instance[_8d2]:undefined;},getResourceValue:function(type,_8d4,_8d5){var _8d6=this._uiDescriptors[type];return _8d6?_8d6.instance.getResource(_8d4,_8d5):undefined;},getAndConcatenateValues:function(type,_8d7){var _8d8=[],_8d9=this._uiDescriptors[type];_8d9&&_8d9.instance.getRecursive(_8d7,_8d8);return _8d8;},getInheritanceChain:function(type){var _8da=[],_8db=this._uiDescriptors[type];if(!_8db){return _8da;}_8db.instance.constructor._meta.bases.forEach(function(base){_8da.push(base._meta.hidden.typeIdentifier);});return _8da;},isBaseTypeIdentifier:function(_8dc,_8dd){_8dc=this._uiDescriptors[_8dc];_8dd=this._uiDescriptors[_8dd];if(!_8dc||!_8dd){return false;}return _8dc.instance.isInstanceOf(_8dd.ctor);},removeIntersectingTypes:function(_8de,_8df){var _8e0=[];if(_8de){_8de.forEach(function(_8e1){if(_8c6.indexOf(_8df,_8e1)===-1&&_8c6.some(_8df,function(_8e2){return this.isBaseTypeIdentifier(_8e1,_8e2);},this)===false){_8e0.push(_8e1);}},this);}return _8e0;},getValidAcceptedTypes:function(_8e3,_8e4,_8e5){var _8e6=_8e4||[];var _8e7=_8e5||[];var _8e8=_8e3||[];if(_8e6.length===0&&_8e7.length===0){return _8e8;}var _8e9=function(_8ea,_8eb){return _8c6.some(_8eb,function(_8ec){return this.isBaseTypeIdentifier(_8ea,_8ec);},this);};var _8ed=_8c6.filter(_8e8,function(_8ee){return (!(_8e9.call(this,_8ee,_8e7))&&_8e9.call(this,_8ee,_8e6));},this);return _8ed;},_prepareDescriptor:function(_8ef){var _8f0,_8f1=_8ef.languageKey;Object.keys(_8ef).forEach(function(key){var prop=_8ef[key];if(prop===null||prop===undefined){delete _8ef[key];}});if(_8f1){_8f0=this.resources[_8f1];}lang.mixin(_8ef,{getRecursive:function(key,_8f2){var _8f3=_8ef[key];if(_8f3){if(_8f3 instanceof Array){_8f3.forEach(function(v){_8f2.push(v);});}else{_8f2.push(_8f3);}}this.inherited(arguments);},getResource:function(key,_8f4){var _8f5=_8ef.resource,_8f0;if(_8f5){if(!_8f4||(_8f4&&_8ef.isPrimaryType)){try{_8f0=lang.getObject(key,false,_8f5);}catch(error){}if(_8f0!==undefined){return _8f0;}}}return this.inherited(arguments);},resource:_8f0});return {instance:null,ctor:null,descriptor:_8ef,visited:false};}};});},"epi/shell/form/AutoCompleteSelectionEditor":function(){define(["dojo/_base/declare","epi/shell/store/JsonRest","dijit/form/FilteringSelect"],function(_8f6,_8f7,_8f8){return _8f6([_8f8],{required:false,postMixInProperties:function(){var _8f9=new _8f7({target:this.storeurl});this.set("store",_8f9);this.inherited(arguments);},destroy:function(){this.displayMessage();this.inherited(arguments);}});});},"epi/shell/store/JsonRest":function(){define(["dojo/_base/declare","dojo/_base/json","dojo/_base/lang","dojo/io-query","dojo/store/JsonRest","dojo/store/util/QueryResults","epi/shell/XhrWrapper"],function(_8fa,json,lang,_8fb,_8fc,_8fd,_8fe){return _8fa([_8fc],{xhrHandler:null,idAttribute:"id",preventCache:false,defaultRequestParams:null,constructor:function(_8ff){this.defaultRequestParams=_8ff&&_8ff.defaultRequestParams;if(!this.xhrHandler){this.xhrHandler=new _8fe({preventLocalizationHeader:_8ff&&_8ff.preventLocalizationHeader});}},get:function(id,_900){var _901=_900||{};_901.Accept="application/javascript, application/json";var _902=typeof id!="undefined";var _903={url:_902?this.target+id:this.target,handleAs:"json",headers:_901,preventCache:this.preventCache};return this.xhrHandler.xhrGet(this._mixinDefaultParams(_903));},put:function(_904,_905){_905=_905||{};var _906={"Content-Type":"application/json","If-Match":_905.overwrite===true?"*":null,"If-None-Match":_905.overwrite===false?"*":null,Accept:"application/javascript, application/json"};var id=("id" in _905)?_905.id:this.getIdentity(_904);var _907=typeof id!="undefined";if(_907&&!_905.incremental){_906["X-Http-Method-Override"]="PUT";}var _908={url:_907?this.target+id:this.target,postData:json.toJson(_904),handleAs:"json",headers:_906};return this.xhrHandler.xhr("POST",this._mixinDefaultParams(_908));},patch:function(_909,_90a){var _90b=_90a||{};_90b.Accept="application/javascript, application/json";_90b["X-Http-Method-Override"]="PATCH";_90b["Content-Type"]="application/json";var id=("id" in _90a)?_90a.id:this.getIdentity(_909);var _90c=typeof id!="undefined";var _90d={url:_90c?this.target+id:this.target,postData:json.toJson(_909),handleAs:"json",headers:_90b};return this.xhrHandler.xhr("POST",this._mixinDefaultParams(_90d));},remove:function(id,_90e){var _90f={};_90f.Accept="application/javascript, application/json";_90f["Content-Type"]="application/json";_90f["X-Http-Method-Override"]="DELETE";_90e=_90e||{};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_90f,postData:json.toJson(_90e),handleAs:"json"}));},query:function(_910,_911){var _912={Accept:"application/javascript, application/json"};var _913;_911=_911||{};if(_911.start>=0||_911.count>=0){_912.Range="items="+(_911.start||"0")+"-"+(("count" in _911&&_911.count!==Infinity)?(_911.count+(_911.start||0)-1):"");}if(lang.isObject(_910)){_910=lang.mixin({},_910);if(_910[this.idAttribute]){_913=_910[this.idAttribute];_910[this.idAttribute]=null;}_910=_8fb.objectToQuery(_910);_910=_910?"?"+_910:"";}if(_911&&_911.sort){_910+=(_910?"&":"?")+"sort(";for(var i=0;i<_911.sort.length;i++){var sort=_911.sort[i];_910+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}_910+=")";}var _914=this.xhrHandler.xhrGet(this._mixinDefaultParams({url:this.target+(_913||"")+(_910||""),handleAs:"json",headers:_912,preventCache:this.preventCache}));_914.total=_914.then(function(){var _915=_914.ioArgs.xhr.getResponseHeader("Content-Range");return _915&&(_915=_915.match(/\/(.*)/))&&+_915[1];});return _8fd(_914);},move:function(id,_916,_917){return this._send("MOVE",id,_916,_917);},copy:function(id,_918,_919){return this._send("COPY",id,_918,_919);},executeMethod:function(_91a,id,data,_91b){var _91c=id!==null&&typeof id!=="undefined",url=this.target+(_91c?id:""),_91d=_91b||{};_91d.Accept="application/javascript, application/json";_91d["Content-Type"]="application/json";_91d["X-Http-Method-Override"]=_91a;data=data||{};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:url,headers:_91d,postData:json.toJson(data),handleAs:"json"}));},getAllResponsesWithError:function(_91e){var _91f=[];if(_91e.statusCode!==200&&!(_91e.extraInformation instanceof Array)){_91f.push(_91e);}if(_91e.extraInformation&&typeof _91e.extraInformation!=="string"){Object.keys(_91e.extraInformation).forEach(function(prop){this.getAllResponsesWithError(_91e.extraInformation[prop]).forEach(function(res){_91f.push(res);});},this);}return _91f;},_send:function(_920,id,_921,_922){var _923=_922||{};_923.Accept="application/javascript, application/json";_923["X-Http-Method-Override"]=_920;var _924=lang.isObject(_921)?_921:{targetId:_921};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_923,content:_924,handleAs:"json"}));},_mixinDefaultParams:function(_925){return lang.mixin({},this.defaultRequestParams,_925);}});});},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_926,_927){var base=null;return _926("dojo.store.JsonRest",base,{constructor:function(_928){this.headers={};_926.safeMixin(this,_928);},headers:{},target:"",idProperty:"id",get:function(id,_929){_929=_929||{};var _92a=lang.mixin({Accept:this.accepts},this.headers,_929.headers||_929);return xhr("GET",{url:this.target+id,handleAs:"json",headers:_92a});},accepts:"application/javascript, application/json",getIdentity:function(_92b){return _92b[this.idProperty];},put:function(_92c,_92d){_92d=_92d||{};var id=("id" in _92d)?_92d.id:this.getIdentity(_92c);var _92e=typeof id!="undefined";return xhr(_92e&&!_92d.incremental?"PUT":"POST",{url:_92e?this.target+id:this.target,postData:JSON.stringify(_92c),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_92d.overwrite===true?"*":null,"If-None-Match":_92d.overwrite===false?"*":null},this.headers,_92d.headers)});},add:function(_92f,_930){_930=_930||{};_930.overwrite=false;return this.put(_92f,_930);},remove:function(id,_931){_931=_931||{};return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_931.headers)});},query:function(_932,_933){_933=_933||{};var _934=lang.mixin({Accept:this.accepts},this.headers,_933.headers);if(_933.start>=0||_933.count>=0){_934.Range=_934["X-Range"]="items="+(_933.start||"0")+"-"+(("count" in _933&&_933.count!=Infinity)?(_933.count+(_933.start||0)-1):"");}var _935=this.target.indexOf("?")>-1;if(_932&&typeof _932=="object"){_932=xhr.objectToQuery(_932);_932=_932?(_935?"&":"?")+_932:"";}if(_933&&_933.sort){var _936=this.sortParam;_932+=(_932||_935?"&":"?")+(_936?_936+"=":"sort(");for(var i=0;i<_933.sort.length;i++){var sort=_933.sort[i];_932+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}if(!_936){_932+=")";}}var _937=xhr("GET",{url:this.target+(_932||""),handleAs:"json",headers:_934});_937.total=_937.then(function(){var _938=_937.ioArgs.xhr.getResponseHeader("Content-Range");return _938&&(_938=_938.match(/\/(.*)/))&&+_938[1];});return _927(_937);}});});},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_939,lang,_93a){var _93b=function(_93c){if(!_93c){return _93c;}var _93d=!!_93c.then;if(_93d){_93c=lang.delegate(_93c);}function _93e(_93f){_93c[_93f]=function(){var args=arguments;var _940=_93a.when(_93c,function(_941){Array.prototype.unshift.call(args,_941);return _93b(_939[_93f].apply(_939,args));});if(_93f!=="forEach"||_93d){return _940;}};};_93e("forEach");_93e("filter");_93e("map");if(_93c.total==null){_93c.total=_93a.when(_93c,function(_942){return _942.length;});}return _93c;};lang.setObject("dojo.store.util.QueryResults",_93b);return _93b;});},"epi/shell/XhrWrapper":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/when","epi/shell/applicationSettings","epi/shell/request/xhr","epi/shell/DialogService","epi/i18n!epi/nls/episerver.shared","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.reloaddialog"],function(_943,_944,_945,lang,_946,when,_947,xhr,_948,_949,_94a){var _94b;var cls=_945(null,{xhrHandler:null,_dialogService:null,_headerKeys:{loginScreen:"X-EPiLogOnScreen",postUrl:"X-EPiLogOnScreen-PostUrl",readOnlyMode:"X-EPiReadOnlyMode",readOnlyModeRedirectUrl:"X-EPiReadOnlyMode-RedirectUrl"},constructor:function(_94c){_945.safeMixin(this,_94c);this.xhrHandler=this.xhrHandler||xhr;this._dialogService=this._dialogService||_948;},_readValidationToken:function(){if(cls.sharedXsrfHeader){return cls.sharedXsrfHeader;}cls.sharedXsrfHeader=document.getElementsByName(_947.antiforgeryTokenFieldName)[0].value;return cls.sharedXsrfHeader;},xhr:function(_94d,args){args.headers=args.headers||{};args.headers[_947.antiforgeryTokenHeaderName]=this._readValidationToken();var _94e=lang.delegate({method:_94d,data:args.content||args.postData},args);var _94f=this.xhrHandler(_94e.url,_94e,true);var _950=new _946();_950.ioArgs=_94f.ioArgs;when(_94f,lang.hitch(this,function(data){_950.ioArgs=_94f.ioArgs;_950.resolve(data);}),lang.hitch(this,function(err){var _951=_94f.ioArgs.xhr.getResponseHeader(this._headerKeys.loginScreen);if(_951==="true"||_94f.ioArgs.xhr.status===401){this._showReloadDialog().then(_950.resolve);}else{if(_94f.ioArgs.xhr.status===503){var _952=_94f.ioArgs.xhr.getResponseHeader(this._headerKeys.readOnlyMode);var _953=_94f.ioArgs.xhr.getResponseHeader(this._headerKeys.readOnlyModeRedirectUrl);if(_952&&_953){this._redirect(_953);}else{_950.reject(err);}}else{_950.reject(err);}}}));return _950;},xhrDelete:function(args){return this.xhr("DELETE",args);},xhrGet:function(args){return this.xhr("GET",args);},xhrPost:function(args){return this.xhr("POST",args,true);},xhrPut:function(args){return this.xhr("PUT",args,true);},_redirect:function(url){window.top.location=url;},_showReloadDialog:function(){if(this._isShowingReloadDialog()){return _94b;}_94b=this._dialogService.alert({acknowledgeActionText:_949.action.login,description:_94a.loggedout,onAction:function(){_94b=null;window.top.location.reload();}});return _94b;},_isShowingReloadDialog:function(){return _94b&&!_94b.isResolved();}});cls.sharedXsrfHeader=undefined;return cls;});},"epi/shell/request/xhr":function(){define(["dojo/_base/xhr","dojo/request/util","./Extender","./mutators"],function(_954,util,_955,_956){var _957=new _955(_954,_956);var xhr=function(url,_958){return _957.xhr.apply(_957,arguments);};util.addCommonMethods(xhr);return xhr;});},"epi/shell/request/Extender":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],function(_959,lang,_95a){return _959([],{_mutators:null,_request:null,constructor:function(_95b,_95c){this._request=_95b;this._mutators=_95c;},xhr:function(url,_95d,_95e){var _95f=new _95a(),_960=this._mutators;_95d=_95d||{};_95d.headers=_95d.headers||{};_960.execute("beforeSend",{url:url,options:_95d}).then(lang.hitch(this,function(_961){var _962=this._sendRequest(_961);_95f.response=_962.response||this._response(_962.ioArgs);_95f.ioArgs=_962.ioArgs;return _962.promise;})).then(function(data){return _960.execute("afterReceive",{response:_95f.response,data:data});}).then(function(_963){_95f.resolve(_963.data);}).otherwise(_95f.reject);return _95e?_95f:_95f.promise;},_sendRequest:function(_964){var _965=_964.options;_965.url=_964.url;return this._request(_965.method,_965);},_response:function(_966){return {getHeader:function getHeader(name){return this.xhr.getResponseHeader(name);},options:_966.args,url:_966.url,xhr:_966.xhr};}});});},"epi/shell/request/mutators":function(){define(["dojo/when"],function(when){var _967=[];var _968=function(){return _967.concat();};_968.add=function(_969){_967.push(_969);};_968.remove=function(_96a){var _96b=_967.indexOf(_96a);if(_96b!==-1){return _967.splice(_96b,1)[0];}return null;};_968.execute=function(_96c,data){var _96d=when(data);_967.forEach(function(_96e){var _96f=_96e[_96c];_96d=_96f?_96d.then(_96f.bind(_96e)):_96d;});return _96d;};return _968;});},"dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_970,_971,lang,when,_972,_973){return _971("dijit.form.FilteringSelect",[_972,_973],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_974,_975,_976,_977){if((_975&&_975[this.searchAttr]!==this._lastQuery)||(!_975&&_974.length&&this.store.getIdentity(_974[0])!=this._lastQuery)){return;}if(!_974.length){this.set("value","",_977||(_977===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_974[0],_977);}},_openResultList:function(_978,_979,_97a){if(_979[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_97b,_97c,_97d,item){if(!this._onChangeActive){_97c=null;}if(item===undefined){if(_97b===null||_97b===""){_97b="";if(!lang.isString(_97d)){this._setDisplayedValueAttr(_97d||"",_97c);return;}}var self=this;this._lastQuery=_97b;when(this.store.get(_97b),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_97c);});}else{this.valueNode.value=_97b;this.inherited(arguments);}},_setItemAttr:function(item,_97e,_97f){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_980,_981){if(_980==null){_980="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_981=false;}if(this.store){this.closeDropDown();var _982=lang.clone(this.query);var qs=this._getDisplayQueryString(_980),q;if(this.store._oldAPI){q=qs;}else{q=_970.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_982[this.searchAttr]=q;this.textbox.value=_980;this._lastDisplayedValue=_980;this._set("displayedValue",_980);var _983=this;var _984={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_984,this.fetchProperties);this._fetchHandle=this.store.query(_982,_984);when(this._fetchHandle,function(_985){_983._fetchHandle=null;_983._callbackSetLabel(_985||[],_982,_984,_981);},function(err){_983._fetchHandle=null;if(!_983._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/data/util/filter":function(){define("dojo/data/util/filter",["../../_base/lang"],function(lang){var _986={};lang.setObject("dojo.data.util.filter",_986);_986.patternToRegExp=function(_987,_988){var rxp="^";var c=null;for(var i=0;i<_987.length;i++){c=_987.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_987.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_988){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _986;});},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_989,_98a,_98b){return _989("dijit.form.MappedTextBox",_98b,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_98a.place("<input type='hidden'"+(this.name?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_98c,_98d,i18n,_98e,_98f,_990){var _991;return _991=_98c("dijit.form.ValidationTextBox",_98e,{templateString:_990,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_992){if(_992!=_991.prototype[attr]){_98d.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_992);}},_setRegExpGenAttr:function(_993){this._deprecateRegExp("regExpGen",_993);this.regExpGen=this._getPatternAttr;},_setRegExpAttr:function(_994){this._deprecateRegExp("regExp",_994);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_995,_996){return (new RegExp("^(?:"+this._getPatternAttr(_996)+")"+(this.required?"":"?")+"$")).test(_995)&&(!this.required||!this._isEmpty(_995))&&(this._isEmpty(_995)||this.parse(_995,_996)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_997){return (this.trim?/^\s*$/:/^$/).test(_997);},getErrorMessage:function(){var _998=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _999=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_998:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_999:_998;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_99a){var _99b="";var _99c=this.disabled||this.isValid(_99a);if(_99c){this._maskValidSubsetError=true;}var _99d=this._isEmpty(this.textbox.value);var _99e=!_99c&&_99a&&this._isValidSubset();this._set("state",_99c?"":(((((!this._hasBeenBlurred||_99a)&&_99d)||_99e)&&(this._maskValidSubsetError||(_99e&&!this._hasBeenBlurred&&_99a)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_99c?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_99a&&_99e;_99b=this.getErrorMessage(_99a);}else{if(this.state=="Incomplete"){_99b=this.getPromptMessage(_99a);this._maskValidSubsetError=!this._hasBeenBlurred||_99a;}else{if(_99d){_99b=this.getPromptMessage(_99a);}}}this.set("message",_99b);return _99c;},displayMessage:function(_99f){if(_99f&&this.focused){_98f.show(_99f,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_98f.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_9a0){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_9a1){if(!_9a1.locale&&this.lang){_9a1.locale=this.lang;}this._set("constraints",_9a1);this._refreshState();},_setPatternAttr:function(_9a2){this._set("pattern",_9a2);this._refreshState();},_getPatternAttr:function(_9a3){var p=this.pattern;var type=(typeof p).toLowerCase();if(type=="function"){p=this.pattern(_9a3||this.constraints);}if(p!=this._lastRegExp){var _9a4="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_9a4+=re;break;case ")":_9a4+="|$)";break;default:_9a4+="(?:"+re+"|$)";break;}});}try{"".search(_9a4);}catch(e){_9a4=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_9a4+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_9a5){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_9a6){this._set("required",_9a6);this.focusNode.setAttribute("aria-required",_9a6);this._refreshState();},_setMessageAttr:function(_9a7){this._set("message",_9a7);this.displayMessage(_9a7);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_9a8,_9a9,fx,dom,_9aa,_9ab,_9ac,lang,_9ad,on,has,_9ae,_9af,_9b0,_9b1,_9b2,_9b3,_9b4){var _9b5=_9a9("dijit._MasterTooltip",[_9b0,_9b1],{duration:_9ae.defaultDuration,templateString:_9b3,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _9b2(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_9b6,_9b7,_9b8,rtl,_9b9){if(this.aroundNode&&this.aroundNode===_9b7&&this.containerNode.innerHTML==_9b6){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_9b6;if(_9b9){this.set("textDir",_9b9);}this.containerNode.align=rtl?"right":"left";var pos=_9af.around(this.domNode,_9b7,_9b8&&_9b8.length?_9b8:_9ba.defaultPosition,!rtl,lang.hitch(this,"orient"));var _9bb=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_9bb.y+((_9bb.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_9bb.x+((_9bb.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_9ac.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_9b7;},orient:function(node,_9bc,_9bd,_9be,_9bf){this.connectorNode.style.top="";var _9c0=_9be.h,_9c1=_9be.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_9bc+"-"+_9bd];this.domNode.style.width="auto";var size=_9ab.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _9c2=Math.min((Math.max(_9c1,1)),size.w);_9ab.setMarginBox(this.domNode,{w:_9c2});if(_9bd.charAt(0)=="B"&&_9bc.charAt(0)=="B"){var bb=_9ab.position(node);var _9c3=this.connectorNode.offsetHeight;if(bb.h>_9c0){var _9c4=_9c0-((_9bf.h+_9c3)>>1);this.connectorNode.style.top=_9c4+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_9bf.h/2-_9c3/2,0),bb.h-_9c3)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_9c1);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_9c5){if(this._onDeck&&this._onDeck[1]==_9c5){this._onDeck=null;}else{if(this.aroundNode===_9c5){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_9a8.forEach(node.children,function(_9c6){this._setAutoTextDir(_9c6);},this);},_setTextDirAttr:function(_9c7){this._set("textDir",_9c7);if(_9c7=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_9b4.showTooltip=function(_9c8,_9c9,_9ca,rtl,_9cb){if(_9ca){_9ca=_9a8.map(_9ca,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_9ba._masterTT){_9b4._masterTT=_9ba._masterTT=new _9b5();}return _9ba._masterTT.show(_9c8,_9c9,_9ca,rtl,_9cb);};_9b4.hideTooltip=function(_9cc){return _9ba._masterTT&&_9ba._masterTT.hide(_9cc);};var _9ba=_9a9("dijit.Tooltip",_9b0,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_9cd){_9a8.forEach(this._connections||[],function(_9ce){_9a8.forEach(_9ce,function(_9cf){_9cf.remove();});},this);this._connectIds=_9a8.filter(lang.isArrayLike(_9cd)?_9cd:(_9cd?[_9cd]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_9a8.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_9d0=this.selector,_9d1=_9d0?function(_9d2){return on.selector(_9d0,_9d2);}:function(_9d3){return _9d3;},self=this;return [on(node,_9d1(_9ad.enter),function(){self._onHover(this);}),on(node,_9d1("focusin"),function(){self._onHover(this);}),on(node,_9d1(_9ad.leave),lang.hitch(self,"_onUnHover")),on(node,_9d1("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_9cd);},addTarget:function(node){var id=node.id||node;if(_9a8.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_9a8.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_9aa.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_9a8.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_9d4){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_9d4);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_9d5){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _9d6=this.getContent(_9d5);if(!_9d6){return;}_9ba.show(_9d6,_9d5,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_9d5;this.onShow(_9d5,this.position);},close:function(){if(this._connectNode){_9ba.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_9a8.forEach(this._connections||[],function(_9d7){_9a8.forEach(_9d7,function(_9d8){_9d8.remove();});},this);this.inherited(arguments);}});_9ba._MasterTooltip=_9b5;_9ba.show=_9b4.showTooltip;_9ba.hide=_9b4.hideTooltip;_9ba.defaultPosition=["after-centered","before-centered"];return _9ba;});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dijit/form/nls/validate":function(){define("dijit/form/nls/validate",{root:({invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n"}});define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_9d9,_9da,_9db,lang,_9dc,_9dd,_9de,_9df,_9e0){return _9d9("dijit.form.ComboBoxMixin",[_9df,_9dd],{dropDownClass:_9de,hasDownArrow:true,templateString:_9e0,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_9e1){if(!_9e1.get){lang.mixin(_9e1,{_oldAPI:true,get:function(id){var _9e2=new _9da();this.fetchItemByIdentity({identity:id,onItem:function(_9e3){_9e2.resolve(_9e3);},onError:function(_9e4){_9e2.reject(_9e4);}});return _9e2.promise;},query:function(_9e5,_9e6){var _9e7=new _9da(function(){_9e8.abort&&_9e8.abort();});_9e7.total=new _9da();var _9e8=this.fetch(lang.mixin({query:_9e5,onBegin:function(_9e9){_9e7.total.resolve(_9e9);},onComplete:function(_9ea){_9e7.resolve(_9ea);},onError:function(_9eb){_9e7.reject(_9eb);}},_9e6));return _9dc(_9e7);}});}this._set("store",_9e1);},postMixInProperties:function(){var _9ec=this.params.store||this.store;if(_9ec){this._setStoreAttr(_9ec);}this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var _9ed=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_9db.deprecated(_9ed+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_9db.deprecated(_9ed+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_9db.deprecated(_9ed+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_9ee){new _9ee({objectStore:this}).fetch(args);}));}});}}});});},"dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin",["dojo/data/util/filter","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","dojo/string","./DataList","../registry","./_TextBoxMixin","./_SearchMixin"],function(_9ef,_9f0,_9f1,_9f2,keys,lang,_9f3,_9f4,has,_9f5,_9f6,_9f7,_9f8,_9f9){return _9f0("dijit.form._AutoCompleterMixin",_9f9,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_9fa){var pos=0;if(typeof (_9fa.selectionStart)=="number"){pos=_9fa.selectionStart;}else{if(has("ie")){var tr=_9fa.ownerDocument.selection.createRange().duplicate();var ntr=_9fa.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_9fb,_9fc){_9fc=parseInt(_9fc);_9f8.selectInputText(_9fb,_9fc,_9fc);},_setDisabledAttr:function(_9fd){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_9fd?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _9fe=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_9fe=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_9fe);}_9f2.stop(evt);break;case keys.ENTER:if(_9fe){if(_9fe==pw.nextButton){this._nextSearch(1);_9f2.stop(evt);break;}else{if(_9fe==pw.previousButton){this._nextSearch(-1);_9f2.stop(evt);break;}}_9f2.stop(evt);}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _9ff=this.get("displayedValue");if(pw&&(_9ff==pw._messages["previousMessage"]||_9ff==pw._messages["nextMessage"])){break;}if(_9fe){this._selectOption(_9fe);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_9f8.selectInputText(fn,fn.value.length);var _a00=this.ignoreCase?"toLowerCase":"substr";if(text[_a00](0).indexOf(this.focusNode.value[_a00](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_9f8.selectInputText(fn,cpos);}}else{fn.value=text;_9f8.selectInputText(fn);}},_openResultList:function(_a01,_a02,_a03){var _a04=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_a01.length&&_a03.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_a05){_a01.nextPage(_a05!==-1);this.focus();});this.dropDown.createOptions(_a01,_a03,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _a03){if(_a03.direction){this.dropDown.highlightFirstOption();}else{if(!_a03.direction){this.dropDown.highlightLastOption();}}if(_a04){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_a02[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _a06=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_a06==pw._messages["previousMessage"]||_a06==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_a06);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_a07,_a08){var _a09="";if(item){if(!_a08){_a08=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_a09=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_a08;}this.set("value",_a09,_a07,_a08,item);},_announceOption:function(node){if(!node){return;}var _a0a;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_a0a=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_a0a=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_a0a);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_9f1.get(node,"id"));this._autoCompleteText(_a0a);},_selectOption:function(_a0b){this.closeDropDown();if(_a0b){this._announceOption(_a0b);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _a0c=this.id+"_popup",_a0d=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _a0d({onChange:lang.hitch(this,this._selectOption),id:_a0c,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store){var _a0e=this.srcNodeRef;this.store=new _9f6({},_a0e);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _a0f=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_a0f):item[_a0f];}}}},postCreate:function(){var _a10=_9f3("label[for=\""+this.id+"\"]");if(_a10.length){if(!_a10[0].id){_a10[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_a10[0].id);}this.inherited(arguments);this.connect(this,"onSearch","_openResultList");},_getMenuLabelFromItem:function(item){var _a11=this.labelFunc(item,this.store),_a12=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_a11=this.doHighlight(_a11,this._lastInput);_a12="html";}return {html:_a12=="html",label:_a11};},doHighlight:function(_a13,find){var _a14=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_9f4.escapeString(find);return this._escapeHtml(_a13.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_a14),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_a15){return (_a15._oldAPI?_a15.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_a16,_a17,_a18,item){this._set("item",item||null);if(_a16==null){_a16="";}this.inherited(arguments);},_setTextDirAttr:function(_a19){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_a19);}}});});},"dijit/form/DataList":function(){define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_a1a,dom,lang,_a1b,_a1c,_a1d){function _a1e(_a1f){return {id:_a1f.value,value:_a1f.value,name:lang.trim(_a1f.innerText||_a1f.textContent||"")};};return _a1a("dijit.form.DataList",_a1c,{constructor:function(_a20,_a21){this.domNode=dom.byId(_a21);lang.mixin(this,_a20);if(this.id){_a1d.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_a1b("option",this.domNode).map(_a1e)}]);},destroy:function(){_a1d.remove(this.id);},fetchSelectedItem:function(){var _a22=_a1b("> option[selected]",this.domNode)[0]||_a1b("> option",this.domNode)[0];return _a22&&_a1e(_a22);}});});},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_a23,_a24,_a25){var base=null;return _a23("dojo.store.Memory",base,{constructor:function(_a26){for(var i in _a26){this[i]=_a26[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_a25,get:function(id){return this.data[this.index[id]];},getIdentity:function(_a27){return _a27[this.idProperty];},put:function(_a28,_a29){var data=this.data,_a2a=this.index,_a2b=this.idProperty;var id=_a28[_a2b]=(_a29&&"id" in _a29)?_a29.id:_a2b in _a28?_a28[_a2b]:Math.random();if(id in _a2a){if(_a29&&_a29.overwrite===false){throw new Error("Object already exists");}data[_a2a[id]]=_a28;}else{_a2a[id]=data.push(_a28)-1;}return id;},add:function(_a2c,_a2d){(_a2d=_a2d||{}).overwrite=false;return this.put(_a2c,_a2d);},remove:function(id){var _a2e=this.index;var data=this.data;if(id in _a2e){data.splice(_a2e[id],1);this.setData(data);return true;}},query:function(_a2f,_a30){return _a24(this.queryEngine(_a2f,_a30)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_a31){return function(_a32,_a33){switch(typeof _a32){default:throw new Error("Can not query with a "+typeof _a32);case "object":case "undefined":var _a34=_a32;_a32=function(_a35){for(var key in _a34){var _a36=_a34[key];if(_a36&&_a36.test){if(!_a36.test(_a35[key],_a35)){return false;}}else{if(_a36!=_a35[key]){return false;}}}return true;};break;case "string":if(!this[_a32]){throw new Error("No filter function "+_a32+" was found in store");}_a32=this[_a32];case "function":}function _a37(_a38){var _a39=_a31.filter(_a38,_a32);var _a3a=_a33&&_a33.sort;if(_a3a){_a39.sort(typeof _a3a=="function"?_a3a:function(a,b){for(var sort,i=0;sort=_a3a[i];i++){var _a3b=a[sort.attribute];var _a3c=b[sort.attribute];_a3b=_a3b!=null?_a3b.valueOf():_a3b;_a3c=_a3c!=null?_a3c.valueOf():_a3c;if(_a3b!=_a3c){return !!sort.descending==(_a3b==null||_a3b>_a3c)?-1:1;}}return 0;});}if(_a33&&(_a33.start||_a33.count)){var _a3d=_a39.length;_a39=_a39.slice(_a33.start||0,(_a33.start||0)+(_a33.count||Infinity));_a39.total=_a3d;}return _a39;};_a37.matches=_a32;return _a37;};});},"dijit/form/_SearchMixin":function(){define("dijit/form/_SearchMixin",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/sniff","dojo/string","dojo/when","../registry"],function(_a3e,_a3f,_a40,keys,lang,_a41,has,_a42,when,_a43){return _a3f("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){return;}var _a44=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_a44=true;break;default:_a44=typeof key=="string"||key==229;}if(_a44){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _a45=this,_a41=lang.clone(this.query),_a46={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_a42.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_a47=function(){var _a48=_a45._fetchHandle=_a45.store.query(_a41,_a46);if(_a45.disabled||_a45.readOnly||(q!==_a45._lastQuery)){return;}when(_a48,function(res){_a45._fetchHandle=null;if(!_a45.disabled&&!_a45.readOnly&&(q===_a45._lastQuery)){when(_a48.total,function(_a49){res.total=_a49;var _a4a=_a45.pageSize;if(isNaN(_a4a)||_a4a>res.total){_a4a=res.total;}res.nextPage=function(_a4b){_a46.direction=_a4b=_a4b!==false;_a46.count=_a4a;if(_a4b){_a46.start+=res.length;if(_a46.start>=res.total){_a46.count=0;}}else{_a46.start-=_a4a;if(_a46.start<0){_a46.count=Math.max(_a4a+_a46.start,0);_a46.start=0;}}if(_a46.count<=0){res.length=0;_a45.onSearch(res,_a41,_a46);}else{_a47();}};_a45.onSearch(res,_a41,_a46);});}},function(err){_a45._fetchHandle=null;if(!_a45._cancelingQuery){console.error(_a45.declaredClass+" "+err.toString());}});};lang.mixin(_a46,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=_a3e.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_a41[this.searchAttr]=q;this._queryDeferHandle=this.defer(_a47,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_a43.byId(list);}}this.inherited(arguments);}});});},"dijit/form/_ComboBoxMenu":function(){define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_a4c,_a4d,_a4e,keys,_a4f,_a50,_a51,_a52){return _a4c("dijit.form._ComboBoxMenu",[_a4f,_a50,_a52,_a51],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_a4d.add(this.previousButton,"dijitMenuItemRtl");_a4d.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_a4d.add(node,"dijitMenuItemHover");},onUnhover:function(node){_a4d.remove(node,"dijitMenuItemHover");},onSelect:function(node){_a4d.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_a4d.remove(node,"dijitMenuItemSelected");},_page:function(up){var _a53=0;var _a54=this.domNode.scrollTop;var _a55=_a4e.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_a53<_a55){var _a56=this.getHighlightedOption();if(up){if(!_a56.previousSibling||_a56.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_a56.nextSibling||_a56.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _a57=this.domNode.scrollTop;_a53+=(_a57-_a54)*(up?-1:1);_a54=_a57;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_a58,_a59,_a5a,i18n){return _a59("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_a5b){this.value=_a5b;this.onChange(_a5b);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_a5c){var _a5d=this._createMenuItem();var _a5e=_a5c(item);if(_a5e.html){_a5d.innerHTML=_a5e.label;}else{_a5d.appendChild(_a5d.ownerDocument.createTextNode(_a5e.label));}if(_a5d.innerHTML==""){_a5d.innerHTML="&#160;";}this.applyTextDir(_a5d,(_a5d.innerText||_a5d.textContent||""));return _a5d;},createOptions:function(_a5f,_a60,_a61){this.items=_a5f;this.previousButton.style.display=(_a60.start==0)?"none":"";_a5a.set(this.previousButton,"id",this.id+"_prev");_a58.forEach(_a5f,function(item,i){var _a62=this._createOption(item,_a61);_a62.setAttribute("item",i);_a5a.set(_a62,"id",this.id+i);this.nextButton.parentNode.insertBefore(_a62,this.nextButton);},this);var _a63=false;if(_a5f.total&&!_a5f.total.then&&_a5f.total!=-1){if((_a60.start+_a60.count)<_a5f.total){_a63=true;}else{if((_a60.start+_a60.count)>_a5f.total&&_a60.count==_a5f.length){_a63=true;}}}else{if(_a60.count==_a5f.length){_a63=true;}}this.nextButton.style.display=_a63?"":"none";_a5a.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _a64=this.containerNode;while(_a64.childNodes.length>2){_a64.removeChild(_a64.childNodes[_a64.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});});},"dijit/form/nls/ComboBox":function(){define("dijit/form/nls/ComboBox",{root:({previousMessage:"Previous choices",nextMessage:"More choices"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});},"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(_a65,_a66,on,_a67,_a68){return _a65("dijit.form._ListMouseMixin",_a68,{postCreate:function(){this.inherited(arguments);this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_a69){this._setSelectedAttr(_a69,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_a69);});},_onMouseDown:function(evt,_a6a){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_a6a,false);},_onMouseUp:function(evt,_a6b){this._isDragging=false;var _a6c=this.selected;var _a6d=this._hoveredNode;if(_a6c&&_a6b==_a6c){this.defer(function(){this._onClick(evt,_a6c);});}else{if(_a6d){this.defer(function(){this._onClick(evt,_a6d);});}}},_onMouseOut:function(evt,_a6e){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_a6f){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_a6f;this.onHover(_a6f);if(this._isDragging){this._setSelectedAttr(_a6f,false);}}});});},"dijit/form/_ListBase":function(){define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(_a70,on,_a71){return _a70("dijit.form._ListBase",null,{selected:null,_listConnect:function(_a72,_a73){var self=this;return self.own(on(self.containerNode,on.selector(function(_a74,_a75,_a76){return _a74.parentNode==_a76;},_a72),function(evt){self[_a73](evt,this);}));},selectFirstNode:function(){var _a77=this.containerNode.firstChild;while(_a77&&_a77.style.display=="none"){_a77=_a77.nextSibling;}this._setSelectedAttr(_a77,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _a78=this.selected;if(!_a78){this.selectFirstNode();}else{var next=_a78.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _a79=this.selected;if(!_a79){this.selectLastNode();}else{var prev=_a79.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_a7a){if(this.selected!=node){var _a7b=this.selected;if(_a7b){this.onDeselect(_a7b);this.selected=null;}if(node){this.selected=node;if(_a7a){_a71.scrollIntoView(node);}this.onSelect(node);}}else{if(node){this.onSelect(node);}}}});});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","epi/shell/form/SuggestionSelectionEditor":function(){define(["dojo/_base/declare","epi/shell/store/JsonRest","dijit/form/ComboBox"],function(_a7c,_a7d,_a7e){return _a7c([_a7e],{postMixInProperties:function(){var _a7f=new _a7d({target:this.storeurl});this.set("store",_a7f);this.inherited(arguments);}});});},"dijit/form/ComboBox":function(){define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_a80,_a81,_a82){return _a80("dijit.form.ComboBox",[_a81,_a82],{});});},"epi/shell/HashWrapper":function(){define("epi/shell/HashWrapper",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/io-query","dojo/hash","dojo/Stateful","epi/epi"],function(_a83,_a84,lang,_a85,io,hash,_a86,epi){return _a84([_a86],{encodeEnabled:false,_requestContext:true,_hashChanged:true,constructor:function(_a87){if(_a87){this.encodeEnabled=_a87.encodeEnabled;}this._hash=this._hash||hash;this._cookie=this._cookie||_a85;_a83.subscribe("/dojo/hashchange",this,"_onHashChanged");},getHash:function(){var _a88=this._hash();if(!_a88){var _a89=this._cookie("epihash");if(_a89){_a88=this._hash(_a89);}this._cookie("epihash",null,{expires:-1,path:"/"});}return io.queryToObject(decodeURIComponent(_a88));},setHash:function(_a8a){this._hash(this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_a8a))):decodeURIComponent(io.objectToQuery(_a8a)));},hashEmpty:function(){return epi.isEmpty(this.getHash());},onHashChanged:function(ctx){},_hashAreEqual:function(_a8b,_a8c){if(!_a8b&&!_a8c){return true;}if(_a8b&&_a8c){return (_a8b.context===_a8c.context);}return false;},onContextChange:function(ctx,_a8d){this._onContextChange(ctx,_a8d);},extractHash:function(ctx,_a8e){var _a8f=this.getHash();var _a90=this._getNewHash(ctx);var _a91=this.hashEmpty()?_a90:lang.mixin(_a8f,_a90);return this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_a91))):decodeURIComponent(io.objectToQuery(_a91));},_onContextChange:function(ctx,_a92){var _a93=this.getHash();var _a94=this._getNewHash(ctx);if(!this._hashAreEqual(_a93,_a94)){if(!_a92||_a92.sender!==this){this._requestContext=false;this._hash(this.extractHash(ctx,_a92));}this.onHashChanged(ctx);}else{if(this._hashChanged){this.onHashChanged(ctx);}}this._hashChanged=false;},_getNewHash:function(ctx){return {context:ctx.requestedUri||ctx.versionAgnosticUri||ctx.uri};},_onHashChanged:function(_a95){if(this._requestContext){this._hashChanged=true;var _a96=io.queryToObject(decodeURIComponent(_a95));if(_a96&&_a96.context){var _a97={uri:_a96.context};_a83.publish("/epi/shell/context/request",[_a97,{sender:this}]);}}this._requestContext=true;}});});},"dojo/cookie":function(){define("dojo/cookie",["./_base/kernel","./regexp"],function(dojo,_a98){dojo.cookie=function(name,_a99,_a9a){var c=document.cookie,ret;if(arguments.length==1){var _a9b=c.match(new RegExp("(?:^|; )"+_a98.escapeString(name)+"=([^;]*)"));ret=_a9b?decodeURIComponent(_a9b[1]):undefined;}else{_a9a=_a9a||{};var exp=_a9a.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_a9a.expires=d;}if(exp&&exp.toUTCString){_a9a.expires=exp.toUTCString();}_a99=encodeURIComponent(_a99);var _a9c=name+"="+_a99,_a9d;for(_a9d in _a9a){_a9c+="; "+_a9d;var _a9e=_a9a[_a9d];if(_a9e!==true){_a9c+="="+_a9e;}}document.cookie=_a9c;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/hash":function(){define("dojo/hash",["./_base/kernel","require","./_base/config","./_base/connect","./_base/lang","./ready","./sniff"],function(dojo,_a9f,_aa0,_aa1,lang,_aa2,has){dojo.hash=function(hash,_aa3){if(!arguments.length){return _aa4();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_aa3){_aa5(hash);}else{location.href="#"+hash;}return hash;};var _aa6,_aa7,_aa8,_aa9=_aa0.hashPollFrequency||100;function _aaa(str,_aab){var i=str.indexOf(_aab);return (i>=0)?str.substring(i+1):"";};function _aa4(){return _aaa(location.href,"#");};function _aac(){_aa1.publish("/dojo/hashchange",[_aa4()]);};function _aad(){if(_aa4()===_aa6){return;}_aa6=_aa4();_aac();};function _aa5(hash){if(_aa7){if(_aa7.isTransitioning()){setTimeout(lang.hitch(null,_aa5,hash),_aa9);return;}var href=_aa7.iframe.location.href;var _aae=href.indexOf("?");_aa7.iframe.location.replace(href.substring(0,_aae)+"?"+hash);return;}location.replace("#"+hash);!_aa8&&_aad();};function _aaf(){var ifr=document.createElement("iframe"),_ab0="dojo-hash-iframe",_ab1=_aa0.dojoBlankHtmlUrl||_a9f.toUrl("./resources/blank.html");if(_aa0.useXDomain&&!_aa0.dojoBlankHtmlUrl){console.warn("dojo.hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_ab0;ifr.src=_ab1+"?"+_aa4();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_ab0];var _ab2,_ab3,_ab4,_ab5,_ab6,_ab7=this.iframe.location;function _ab8(){_aa6=_aa4();_ab2=_ab6?_aa6:_aaa(_ab7.href,"?");_ab3=false;_ab4=null;};this.isTransitioning=function(){return _ab3;};this.pollLocation=function(){if(!_ab6){try{var _ab9=_aaa(_ab7.href,"?");if(document.title!=_ab5){_ab5=this.iframe.document.title=document.title;}}catch(e){_ab6=true;console.error("dojo.hash: Error adding history entry. Server unreachable.");}}var hash=_aa4();if(_ab3&&_aa6===hash){if(_ab6||_ab9===_ab4){_ab8();_aac();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_aa6===hash&&(_ab6||_ab2===_ab9)){}else{if(_aa6!==hash){_aa6=hash;_ab3=true;_ab4=hash;ifr.src=_ab1+"?"+_ab4;_ab6=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_ab6){location.href="#"+_ab7.search.substring(1);_ab8();_aac();}}}}setTimeout(lang.hitch(this,this.pollLocation),_aa9);};_ab8();setTimeout(lang.hitch(this,this.pollLocation),_aa9);};_aa2(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_aa8=_aa1.connect(dojo.global,"onhashchange",_aac);}else{if(document.addEventListener){_aa6=_aa4();setInterval(_aad,_aa9);}else{if(document.attachEvent){_aa7=new _aaf();}}}});return dojo.hash;});},"epi/shell/layout/GroupContainer":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./SimpleContainer"],function(_aba,_abb,_abc,_abd){return _aba([_abd],{labelNode:null,templateString:"<fieldset><ul class=\"epi-form-container__section\" data-dojo-attach-point=\"containerNode\"></ul></fieldset>",_setTitleAttr:function(_abe){var _abf,node;if(_abe){_abf=this.labelNode?"replace":"first";node=this.labelNode||this.domNode;this.labelNode=_abc.create("legend",{innerHTML:_abe},node,_abf);}else{if(this.labelNode){_abc.destroy(this.labelNode);}}}});});},"epi/shell/layout/SimpleContainer":function(){define(["dojo/_base/declare","dojo/dom-construct","../form/formFieldRegistry","../form/Field","../form/HiddenField","../form/Group","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget"],function(_ac0,_ac1,_ac2,_ac3,_ac4,_ac5,_ac6,_ac7){var _ac8=_ac0([_ac7,_ac6],{templateString:"<ul class=\"epi-form-container__section\"></ul>",_FieldItem:_ac3,_HiddenFieldItem:_ac4,_ParentItem:_ac5,_GroupItem:_ac5,addChild:function(_ac9){var _aca,_acb=_ac2.get(_ac9._type,_ac9._hint);if(_acb){this.own(_aca=_acb(_ac9,this));this._addChildToWrapper(_aca,_ac9);!_acb.preventAdd&&this.inherited(arguments,[_aca]);}else{_aca=_ac1.create("li",{"class":"epi-form-container__section__row epi-form-container__section__row--"+_ac9._type});_aca.appendChild(_ac9.domNode);_ac1.place(_aca,this.containerNode,"last");if(this._started&&!_ac9._started){_ac9.startup();}}},_addChildToWrapper:function(_acc,_acd){_acc.addChild(_acd);},layout:function(){var _ace=this.getChildren();_ace&&_ace.forEach(function(_acf){var _ad0=_acf.getChildren()[0];if(_ad0&&_ad0.resize){_ad0.resize();}});},_setTitleAttr:function(_ad1){this._set("title",_ad1);}});return _ac8;});},"epi/shell/form/formFieldRegistry":function(){define([],function(){var _ad2={},_ad3={type:{group:"group",parent:"parent",field:"field",hiddenField:"hiddenfield"},add:function(_ad4){var _ad5;function _ad6(reg){var key=reg.type+reg.hint;_ad2[key]?_ad2[key].unshift(reg.factory):_ad2[key]=[reg.factory];return {remove:function(){_ad3.remove(reg);reg=null;}};};_ad4 instanceof Array?_ad5=_ad4.map(_ad6):_ad5=_ad6(_ad4);return _ad5;},remove:function(reg){var _ad7=_ad2[reg.type+reg.hint],_ad8=_ad7?_ad7.indexOf(reg.factory):-1;if(_ad8>-1){_ad7.splice(_ad8,1);}},get:function(type,hint){var _ad9=_ad2[type+(hint||"")];return (_ad9&&_ad9.length)?_ad9[0]:null;},clear:function(){_ad2={};}};return _ad3;});},"epi/shell/form/Field":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","./formFieldRegistry","dojo/text!./templates/Field.html"],function(_ada,_adb,_adc,_add,_ade,_adf,_ae0,_ae1,_ae2,_ae3){var _ae4=_ada([_ade,_adf,_ae0,_ae1],{labelTarget:"",label:"",readonlyIconDisplay:null,hasFullWidthValue:false,templateString:_ae3,addChild:function(_ae5,_ae6){if(_ae5.checkbox){this._addCheckboxChild(_ae5,this.labelNode);}else{this.inherited(arguments);}},_addCheckboxChild:function(_ae7,_ae8){_adb.toggle(this.domNode,"epi-form-container__section__row--checkbox",true);_adc.place(_ae7.domNode,_ae8,"before");if(this._started&&!_ae7._started){_ae7.startup();}},_setReadonlyIconDisplayAttr:function(_ae9){this._set("readonlyIconDisplay",_ae9);_add.set(this.readonlyIcon,"display",_ae9===true?"":"none");},_setLabelAttr:function(_aea){this._set("label",_aea);this.labelNode.insertBefore(_adc.toDom(_aea),this.readonlyIcon);_adb.toggle(this.labelNode,"dijitHidden",!_aea);},_setLabelTargetAttr:{node:"labelNode",attribute:"for",type:"attribute"},_setTooltipAttr:{node:"labelNode",attribute:"title",type:"attribute"},_setHasFullWidthValueAttr:function(_aeb){_aeb&&_adb.add(this.containerNode,"epi-form-container__section__row--full-width");}});_ae2.add({type:_ae2.type.field,hint:"",factory:function(_aec,_aed){var _aee=new _aed._FieldItem({labelTarget:_aec.checkbox?_aec.checkbox.id:_aec.id,label:_aec.label,tooltip:_aec.tooltip,readonlyIconDisplay:_aec.readOnly,hasFullWidthValue:_aec.useFullWidth});_aee.own(_aec.watch("readOnly",function(name,_aef,_af0){_aee.set("readonlyIconDisplay",_af0);}));return _aee;}});return _ae4;});},"url:epi/shell/form/templates/Field.html":"<li class=\"epi-form-container__section__row epi-form-container__section__row--field\">\r\n    <label data-dojo-attach-point=\"labelNode\">\r\n        <span class=\"dijitInline dijitReset dijitIcon epi-iconPenDisabled\" data-dojo-attach-point=\"readonlyIcon\"></span>\r\n    </label>\r\n</li>","epi/shell/form/HiddenField":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","./formFieldRegistry","dojo/text!./templates/HiddenField.html"],function(_af1,_af2,_af3,_af4,_af5,_af6,_af7){var _af8=_af1([_af2,_af3,_af4,_af5],{templateString:_af7});_af6.add({type:_af6.type.hiddenField,hint:"",factory:function(_af9,_afa){return new _afa._HiddenFieldItem();}});return _af8;});},"url:epi/shell/form/templates/HiddenField.html":"<li class=\"epi-form-container__section__row dijitHidden\">\r\n</li>","epi/shell/form/Group":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","dojo/text!./templates/Group.html"],function(_afb,_afc,_afd,_afe,_aff,_b00){return _afb([_afc,_afd,_afe,_aff],{templateString:_b00});});},"url:epi/shell/form/templates/Group.html":"<li></li>","epi/shell/layout/ParentContainer":function(){define(["dojo/_base/declare","epi/shell/layout/GroupContainer"],function(_b01,_b02){return _b01([_b02],{});});},"epi/shell/layout/PinnablePane":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/topic","dojo/when","dojo/text!./templates/PinnablePane.html","dijit/_Contained","dijit/_Container","dijit/_TemplatedMixin","dijit/layout/ContentPane","epi/dependency","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","epi/shell/layout/PinnablePaneSplitter","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/_ActionProvider","epi/shell/widget/ToolbarSet"],function(_b03,_b04,_b05,lang,win,_b06,_b07,_b08,_b09,when,_b0a,_b0b,_b0c,_b0d,_b0e,_b0f,_b10,_b11,_b12,_b13,_b14){return _b04([_b0e,_b0d,_b0b,_b0c,_b12],{pinned:false,visible:false,templateString:_b0a,baseClass:"epi-pinnable",postMixInProperties:function(){var _b15=_b0f.resolve("epi.shell.Profile");this.inherited(arguments);when(_b15.get(this.id),lang.hitch(this,function(_b16){if(_b16){this.pinned=_b16.pinned;this.visible=_b16.visible;this.size=_b16.size;}}));this._profile=_b15;},buildRendering:function(){this.inherited(arguments);var _b17=new _b14({baseClass:"epi-pinnableToolbar"},this.toolbarNode);this.own(_b17);this.set("definitionConsumer",_b17);_b08.set(this.containerNode,"width",(this.size||this.minSize)+"px");if(!this.pinned){this.set("pinned",this.pinned);}if(!this.visible){this.set("visible",this.visible);}},postCreate:function(){var _b18="",ltr=this.isLeftToRight(),_b19=function(){if(this.visible){this._dragging=true;}},_b1a=function(){this._dragging=false;};this.inherited(arguments);if(this.region){switch(this.region){case "trailing":case "right":_b18=ltr?"right":"left";break;case "leading":case "left":_b18=ltr?"left":"right";break;case "top":_b18="top";break;case "bottom":_b18="bottom";break;}_b06.add(this.domNode,this.baseClass+"-"+_b18);}this.subscribe("/epi/layout/pinnable/"+this.id+"/toggle",function(_b1b){if(typeof _b1b!=="boolean"){_b1b=!this.visible;}this.set("visible",_b1b);});this.subscribe("/dnd/start",_b19);this.subscribe("/dnd/drop",_b1a);this.subscribe("/dnd/cancel",_b1a);},startup:function(){var _b1c=this._splitterWidget;if(this._started){return;}_b03.forEach(this.getChildren(),function(_b1d){if(_b1d.isInstanceOf(_b13)){this.addProvider(_b1d);}},this);this.inherited(arguments);this._container=this.getParent();if(this.splitter&&_b1c){_b1c=_b11(_b1c);if(!this.visible){_b1c.hide();}this.connect(_b1c,"_stopDrag",this.persist);}this._refreshState();},resize:function(_b1e){var pos=this.region,_b1f=this.visible&&this.pinned,_b20=_b07.getMarginBox(this.domNode),_b21=_b07.getMarginBox(this.containerNode),_b22={},_b23={t:_b20.t},_b24=pos==="left"||pos==="leading",_b25=pos==="right"||pos==="trailing";if(!this._toolbarHeight){this._toolbarHeight=_b07.getMarginBox(this.definitionConsumer.domNode).h;}_b07.setMarginBox(this.domNode,{w:_b1f?_b21.w:0});if(_b1e){if(_b1e.w){_b22.w=_b21.w=_b1e.w;if(!this.pinned){delete _b1e.w;}}if(_b1e.h){_b20.h=_b1e.h;}}var _b26=this._computeMaxSize();if(this._visibilityChanged&&_b26<_b21.w){_b22.w=_b21.w=_b26;}_b22.h=_b20.h-this._toolbarHeight;_b07.setMarginBox(this.containerNode,_b22);if(_b24){_b23.l=_b20.l;}else{if(_b25){_b23.l=_b1f?0:0-_b21.w;}}_b07.setMarginBox(this.pinnableNode,_b23);if(this._splitterWidget){var _b27=_b07.getMarginBox(this._splitterWidget.domNode),_b28={t:_b20.t};if(_b24){_b28.l=_b21.w;}else{if(_b25){_b28.l=_b1f?_b20.l-_b27.w:_b20.l-_b21.w;}}_b07.setMarginBox(this._splitterWidget.domNode,_b28);}this.inherited(arguments);},persist:function(){var _b29={pinned:this.pinned,visible:this.visible,size:_b08.get(this.containerNode,"width")};this._profile.set(this.id,_b29);},getActions:function(){var _b2a=this.inherited(arguments),_b2b=/left|leading/.test(this.region),pin={name:"pin",widgetType:"dijit/form/ToggleButton",title:this._getPinTitle(),iconClass:"epi-iconPin",settings:{showLabel:false,"class":"epi-chromelessButton",checked:this.pinned,region:_b2b?"trailing":"leading"},action:lang.hitch(this,this._togglePinned)},_b2c={name:"settings",title:_b10.gadgetchrome.settingsmenutooltip,type:"dropdown",iconClass:"epi-iconSettings",settings:{showLabel:false,"class":"epi-chromelessButton",dropDownPosition:_b2b?["below-alt"]:["below"],region:_b2b?"trailing":"leading"}};_b2a.splice(0,0,_b2c);_b2a.splice(_b2b?_b2a.length:0,0,pin);return _b2a;},_setPinnedAttr:function(_b2d){this._set("pinned",_b2d);_b06.toggle(this.pinnableNode,this.baseClass+"-pinned",_b2d);_b06.toggle(this.pinnableNode,this.baseClass+"-unpinned",!_b2d);_b08.set(this.pinnableNode,"position",_b2d?"relative":"absolute");this.definitionConsumer.setItemProperty("pin","title",this._getPinTitle());if(this._started){this._refreshState();}if(!this.pinned){this.set("visible",false);}},_setVisibleAttr:function(_b2e){this._set("visible",_b2e);_b08.set(this.pinnableNode,"display",_b2e?"block":"none");if(this._splitterWidget){(_b2e)?this._splitterWidget.show():this._splitterWidget.hide();}if(this._started){this._visibilityChanged=true;this._refreshState();this._visibilityChanged=false;}},_togglePinned:function(){this.set("pinned",!this.pinned);},_refreshState:function(){this._disconnectUnpinnedEvents();if(this.visible&&!this.pinned){this._connectUnpinnedEvents();}this._container.layout();this.resize();this.persist();_b09.publish("/epi/layout/pinnable/"+this.id+"/visibilitychanged",this.visible);},_connectUnpinnedEvents:function(){this._unpinnedEvents=[this.connect(this.domNode,"onmousedown",function(e){e.stopPropagation();}),this.connect(this._container.domNode,"onmousedown",lang.hitch(this,this.set,"visible",false)),this.connect(win.global,"onresize",lang.hitch(this,this.set,"visible",false)),this.connect(this.domNode,"onmouseover",_b05.stop),this.connect(this._container.domNode,"onmouseover",function(){if(this._dragging){this.set("visible",false);}}),_b09.subscribe("/epi/shell/action/changeview",lang.hitch(this,this.set,"visible",false))];},_disconnectUnpinnedEvents:function(){_b03.forEach(this._unpinnedEvents,this.disconnect);},_computeMaxSize:function(){var _b2f=_b07.getMarginBox(this.domNode).w,_b30=_b03.filter(this._container.getChildren(),function(_b31){return _b31.region==="center";})[0],_b32=_b07.getMarginBox(_b30.domNode).w;return Math.min(this.maxSize,_b2f+_b32);},_getPinTitle:function(){return this.pinned?_b10.pinnablepane.unpin:_b10.pinnablepane.pin;}});});},"url:epi/shell/layout/templates/PinnablePane.html":"<div class=\"epi-pinnableDock\">\r\n    <div class=\"epi-pinnableFacade\">\r\n        <div class=\"epi-pinnablePane\" data-dojo-attach-point=\"pinnableNode\">\r\n            <div data-dojo-attach-point=\"toolbarNode\"></div>\r\n            <div class=\"epi-pinnableContentWrapper\">\r\n                <div class=\"epi-pinnableContent\" data-dojo-attach-point=\"containerNode\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/layout/PinnablePaneSplitter":function(){define(["dojo","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/touch"],function(dojo,_b33,_b34,_b35,_b36,on,_b37){return function(_b38){return dojo.mixin(_b38,{_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");_b33.add(this.cover,"dijitSplitterCover");_b34.place(this.cover,this.child.domNode,"after");}_b33.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_b34.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_b33.add(this.domNode,"dijitSplitterShadow");_b34.place(this.fake,this.domNode,"after");}_b33.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_b33.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _b39=this._factor,_b3a=this.horizontal,axis=_b3a?"pageY":"pageX",_b3b=e[axis],_b3c=this.domNode.style,dim=_b3a?"h":"w",_b3d=_b35.getMarginBox(this.child.containerNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_b3e=this.region,_b3f=_b3e==="top"||_b3e==="bottom"?"top":"left",_b40=parseInt(_b3c[_b3f],10),_b41=dojo.hitch(this.child,"resize"),_b42=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc,_b43=this.child.pinned;this._handlers=this._handlers.concat([on(de,_b37.move,this._drag=function(e,_b44){var _b45=e[axis]-_b3b,_b46=_b39*_b45+_b3d,_b47=Math.max(Math.min(_b46,max),min);if(this.live||_b44){_b43?_b42(_b47):_b41({w:_b47});}_b3c[_b3f]=_b45+_b40+_b39*(_b47-_b46)+"px";}),on(de,"dragstart",dojo.stopEvent),on(dojo.body(),"selectstart",dojo.stopEvent),on(de,_b37.release,dojo.hitch(this,"_stopDrag"))]);dojo.stopEvent(e);},show:function(){_b36.set(this.domNode,{display:"",margin:""});},hide:function(){_b36.set(this.domNode,{display:"none",margin:"0"});}});};});},"epi/shell/widget/_ActionProvider":function(){define(["dojo","dojo/_base/array","epi/shell/widget/_ActionProviderBase"],function(dojo,_b48,_b49){return dojo.declare([_b49],{_actions:null,constructor:function(){this._actions=[];},getActions:function(){return this._actions.concat();},hasAction:function(_b4a){return _b48.some(this._actions,function(_b4b){return _b4b.name===_b4a;});},setActionProperty:function(_b4c,_b4d,_b4e){var _b4f=typeof _b4c=="string"?_b4c:_b4c.name;for(var i=0;i<this._actions.length;i++){var _b50=this._actions[i];if(_b50.name===_b4f){_b50[_b4d]=_b4e;this.onActionPropertyChanged(_b50,_b4d,_b4e);return;}}throw new Error("No action registered with the name: "+_b4f);},addActions:function(_b51){if(dojo.isArray(_b51)){dojo.forEach(_b51,this._addAction,this);}else{this._addAction(_b51);}},removeActions:function(_b52){if(dojo.isArray(_b52)){dojo.forEach(_b52,this._removeAction,this);}else{this._removeAction(_b52);}},_removeAction:function(_b53){for(var i=0;i<this._actions.length;i++){if(this._actions[i].name===_b53.name){this.onActionRemoved(this._actions.splice(i,1)[0]);}}},_addAction:function(_b54){if(dojo.some(this._actions,function(_b55){return _b55.name===_b54.name;})){throw new Error("An action named '"+_b54.name+"' is already registered");}this._actions.push(_b54);this.onActionAdded(_b54);}});});},"epi/shell/layout/PositioningUtility":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(_b56,lang,dom,_b57,_b58,win){return _b56(null,{_margin:10,userSetTransformId:-1,place:function(_b59,_b5a){var node=this._getNode(_b59),pos=this.findPosition(node,_b5a);_b58(node,{position:"absolute",top:pos.y+"px",left:pos.x+"px"});},findPosition:function(_b5b,_b5c){var _b5d=_b5c.blockViewport||_b5c.frame||this._getFramePosition(_b5c.snapTo,_b5b),_b5e=this._getVisiblePosition(this._getPosition(_b5c.snapTo),_b5d),_b5f=_b5c.dialogViewport||win.getBox(),_b60=this._getPosition(_b5b);return this._executeTransformers(_b60,_b5e,_b5f,_b5c.transformIndex);},_getVisiblePosition:function(_b61,_b62){var _b63=lang.clone(_b61);if(_b62.w>0&&_b63.x+_b63.w>_b62.w){_b63.w=_b62.w-_b63.x;}if(_b62.h>0&&_b63.y+_b63.h>_b62.h){_b63.h=_b62.h-_b63.y;}_b63.x+=_b62.x;_b63.y+=_b62.y;if(_b63.y<_b62.y){_b63.h=_b63.h-_b62.y+_b63.y;_b63.y=_b62.y;}if(_b63.x<_b62.x){_b63.w=_b63.w-_b62.x+_b63.x;_b63.x=_b62.x;}return _b63;},_getFramePosition:function(_b64,_b65){var _b66=_b64.ownerDocument.defaultView.frameElement,_b67;function _b68(_b69,_b6a){var doc=_b69.ownerDocument,pos=_b57.position(_b69);if(!_b6a){_b6a=pos;}else{_b6a.x+=pos.x;_b6a.y+=pos.y;}if(doc===_b65.ownerDocument){return _b6a;}else{_b69=doc.defaultView.frameElement;return _b68(_b69,_b6a);}};if(!_b66){_b67=win.getBox(_b64.ownerDocument);_b67.x=_b67.l;_b67.y=_b67.t;return _b67;}return _b68(_b66);},_executeTransformers:function(pos,_b6b,_b6c,_b6d){if(_b6d===this.userSetTransformId){return this._moveIntoViewport(lang.mixin({id:this.userSetTransformId},pos),_b6c);}var _b6e=null,_b6f=isNaN(_b6d)?this._transformers:[this._transformers[_b6d]];_b6f.some(lang.hitch(this,function(_b70){_b6e=this._moveIntoViewport(_b70.call(this,pos,_b6b,_b6c),_b6c);return _b6f.length===1||this._isInside(_b6e,_b6c)&&this._isOutside(_b6e,_b6b);}));return _b6e;},_getNode:function(_b71){if(_b71&&(typeof _b71==="string"||_b71.nodeType)){return dom.byId(_b71);}if(_b71&&_b71.domNode){return _b71.domNode;}return null;},_getPosition:function(_b72){var pos={x:0,y:0,w:0,h:0},node;if(typeof _b72==="undefined"||_b72===null){return pos;}if(typeof _b72.x!=="undefined"&&typeof _b72.y!=="undefined"){pos=_b72;}node=this._getNode(_b72);if(node){pos=_b57.position(node,false);}return pos;},_moveIntoViewport:function(_b73,_b74){_b73.x=Math.min(_b74.w-_b73.w,Math.max(0,_b73.x));_b73.y=Math.min(_b74.h-_b73.h,Math.max(0,_b73.y));return _b73;},_isInside:function(_b75,_b76){return _b75.x>0&&_b75.y>0&&_b75.x+_b75.w<_b76.w&&_b75.y+_b75.h<_b76.h;},_isOutside:function(_b77,_b78){return _b77.x>_b78.x+_b78.w||_b77.y>_b78.y+_b78.h||_b77.x+_b77.w<_b78.x||_b77.y+_b77.h<_b78.y;},_transformers:[function(_b79,_b7a,_b7b){return {x:_b7a.x+_b7a.w+this._margin,y:_b7a.y,w:_b79.w,h:_b79.h,id:0};},function(_b7c,_b7d,_b7e){return {x:_b7d.x+(_b7d.w/2-_b7c.w/2),y:_b7d.y+_b7d.h+this._margin,w:_b7c.w,h:_b7c.h,id:1};},function(_b7f,_b80,_b81){return {x:_b80.x-_b7f.w-this._margin,y:_b80.y,w:_b7f.w,h:_b7f.h,id:2};},function(_b82,_b83,_b84){return {x:_b83.x+(_b83.w/2-_b82.w/2),y:_b83.y-_b82.h-this._margin,w:_b82.w,h:_b82.h,id:3};},function(_b85,_b86,_b87){return {x:_b87.w/2-_b85.w/2,y:_b87.h/2-_b85.h/2,w:_b85.w,h:_b85.h,id:4};}]});});},"epi/shell/MessageService":function(){define("epi/shell/MessageService",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/store/Observable"],function(_b88,lang,_b89,_b8a){return _b88(null,{_store:null,_idIndex:0,constructor:function(_b8b){lang.mixin(this,_b8b);var _b8c=new _b89({idAttribute:"id",data:[]});this._store=new _b8a(_b8c);},put:function(_b8d,_b8e,_b8f,_b90,_b91,_b92){return this._store.put({id:++this._idIndex,typeName:_b8d,message:_b8e,contextTypeName:_b8f,contextId:_b90,externalItemId:_b91,externalItemData:_b92});},query:function(_b93){return this._store.query(_b93);},observe:function(_b94,_b95){return this.query(_b94).observe(_b95);},remove:function(_b96){var _b97=this.query(_b96);_b97.forEach(function(item){this._store.remove(item.id);},this);return _b97;}});});},"dojo/store/Observable":function(){define("dojo/store/Observable",["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(_b98,lang,_b99,_b9a){var _b9b=function(_b9c){var _b9d,_b9e=[],_b9f=0;_b9c=lang.delegate(_b9c);_b9c.notify=function(_ba0,_ba1){_b9f++;var _ba2=_b9e.slice();for(var i=0,l=_ba2.length;i<l;i++){_ba2[i](_ba0,_ba1);}};var _ba3=_b9c.query;_b9c.query=function(_ba4,_ba5){_ba5=_ba5||{};var _ba6=_ba3.apply(this,arguments);if(_ba6&&_ba6.forEach){var _ba7=lang.mixin({},_ba5);delete _ba7.start;delete _ba7.count;var _ba8=_b9c.queryEngine&&_b9c.queryEngine(_ba4,_ba7);var _ba9=_b9f;var _baa=[],_bab;_ba6.observe=function(_bac,_bad){if(_baa.push(_bac)==1){_b9e.push(_bab=function(_bae,_baf){_b99.when(_ba6,function(_bb0){var _bb1=_bb0.length!=_ba5.count;var i,l,_bac;if(++_ba9!=_b9f){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _bb2,_bb3=-1,_bb4=-1;if(_baf!==_b9d){for(i=0,l=_bb0.length;i<l;i++){var _bb5=_bb0[i];if(_b9c.getIdentity(_bb5)==_baf){_bb2=_bb5;_bb3=i;if(_ba8||!_bae){_bb0.splice(i,1);}break;}}}if(_ba8){if(_bae&&(_ba8.matches?_ba8.matches(_bae):_ba8([_bae]).length)){var _bb6=_bb3>-1?_bb3:_bb0.length;_bb0.splice(_bb6,0,_bae);_bb4=_b9a.indexOf(_ba8(_bb0),_bae);_bb0.splice(_bb6,1);if((_ba5.start&&_bb4==0)||(!_bb1&&_bb4==_bb0.length)){_bb4=-1;}else{_bb0.splice(_bb4,0,_bae);}}}else{if(_bae){if(_baf!==_b9d){_bb4=_bb3;}else{if(!_ba5.start){_bb4=_b9c.defaultIndex||0;_bb0.splice(_bb4,0,_bae);}}}}if((_bb3>-1||_bb4>-1)&&(_bad||!_ba8||(_bb3!=_bb4))){var _bb7=_baa.slice();for(i=0;_bac=_bb7[i];i++){_bac(_bae||_bb2,_bb3,_bb4);}}});});}var _bb8={};_bb8.remove=_bb8.cancel=function(){var _bb9=_b9a.indexOf(_baa,_bac);if(_bb9>-1){_baa.splice(_bb9,1);if(!_baa.length){_b9e.splice(_b9a.indexOf(_b9e,_bab),1);}}};return _bb8;};}return _ba6;};var _bba;function _bbb(_bbc,_bbd){var _bbe=_b9c[_bbc];if(_bbe){_b9c[_bbc]=function(_bbf){if(_bba){return _bbe.apply(this,arguments);}_bba=true;try{var _bc0=_bbe.apply(this,arguments);_b99.when(_bc0,function(_bc1){_bbd((typeof _bc1=="object"&&_bc1)||_bbf);});return _bc0;}finally{_bba=false;}};}};_bbb("put",function(_bc2){_b9c.notify(_bc2,_b9c.getIdentity(_bc2));});_bbb("add",function(_bc3){_b9c.notify(_bc3);});_bbb("remove",function(id){_b9c.notify(undefined,id);});return _b9c;};lang.setObject("dojo.store.Observable",_b9b);return _b9b;});},"epi/shell/MetadataManager":function(){define("epi/shell/MetadataManager",["dojo/_base/declare","dojo/_base/json","dojo/Deferred","dojo/when","epi/dependency","./PropertyMetadata"],function(_bc4,json,_bc5,when,_bc6,_bc7){return _bc4(null,{store:null,_setTypeMetadataStore:function(){var _bc8=_bc6.resolve("epi.storeregistry");this.store=_bc8.get("epi.shell.metadata");},getMetadataForType:function(type,_bc9){function _bca(_bcb){return _bcb?new _bc7(_bcb):_bcb;};if(this.store===null){this._setTypeMetadataStore();}if(_bc9){var def=new _bc5();when(this.store.query({id:type,modelAccessor:json.toJson(_bc9)}),function(_bcc){if(_bcc&&_bcc.length){def.resolve(_bca(_bcc[0]));}else{def.reject();}},function(_bcd){def.reject(_bcd);});return def.promise;}else{return when(this.store.get(type),_bca);}},_clear:function(){this.store=null;}});});},"epi/shell/PropertyMetadata":function(){define("epi/shell/PropertyMetadata",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","epi/shell/TypeDescriptorManager"],function(_bce,lang,_bcf,_bd0){var _bd1=_bce([],{_propertyMap:null,constructor:function(_bd2,_bd3){_bce.safeMixin(this,_bd2);if(_bd3){if(_bd3.getName()){this._fullName=_bd3.getName()+"."+this.name;}else{this._fullName=this.name;}if(this.name){var _bd4="properties."+this.name.toLowerCase();var _bd5=lang.getObject("additionalValues.modelTypeIdentifier",false,_bd3);if(_bd5){var _bd6=_bd0.getResourceValue(_bd5,_bd4);if(_bd6&&_bd6.caption){this.displayName=_bd6.caption;}}}}this._propertyMap={};_bcf.forEach(this.properties,function(prop){var _bd7=new _bd1(prop,this);this._propertyMap[_bd7.name.toLowerCase()]=_bd7;},this);},hasSubProperties:function(){return (this.properties&&this.properties.length);},getPropertyMetadata:function(_bd8){var _bd9=_bd8.toLowerCase().split(".");return this._getPropertyMetaData(_bd9);},getName:function(){return this._fullName;},_getPropertyMetaData:function(_bda){var name=_bda.shift();var _bdb=this._propertyMap[name]||this._propertyMap[this._getMappedName(name)];if(_bdb&&_bda.length){return _bdb._getPropertyMetaData(_bda);}return _bdb;},_getMappedName:function(name){var _bdc;_bcf.some(this.mappedProperties||[],function(_bdd){return _bdd.from.toLowerCase()===name&&(_bdc=_bdd);});return _bdc?_bdc.to.toLowerCase():name;}});return _bd1;});},"epi/shell/Profile":function(){define("epi/shell/Profile",["dojo/_base/declare","dojo/_base/lang","dojo/json","dojo/Evented","dojo/Deferred","dojo/store/Cache","dojo/store/Memory","dojo/when","epi/routes","epi/shell/store/JsonRest","epi/shell/store/Throttle"],function(_bde,lang,json,_bdf,_be0,_be1,_be2,when,_be3,_be4,_be5){return _bde([_bdf],{_store:null,constructor:function(_be6){_bde.safeMixin(this,_be6);if(!this._store){var _be7=new _be4({target:_be3.getRestPath({moduleArea:"shell",storeName:"profile"}),defaultRequestParams:{preventLocalizationHeader:true,isProfileRequest:true},preventCache:true});this._store=_be1(_be5(_be7,"get"),new _be2());}when(this._store.get("userName"),lang.hitch(this,function(data){this.userName=data.value;}));},get:function(name){var _be8=sessionStorage[name];if(!_be8){_be8=localStorage[name];}if(_be8){return json.parse(_be8);}if(name==="userName"){return this.userName;}return when(this._store.get(name),function(obj){return (obj&&obj.value)||null;},function(){return null;});},set:function(name,_be9,_bea){var _beb=json.stringify(_be9);if(_bea&&_bea.location){switch(_bea.location){case "session":sessionStorage[name]=_beb;this._emitChangedEvent(name,_be9);return _beb;case "server":var _bec=new _be0();when(this._store.put({id:name,value:_be9}),lang.hitch(this,function(){this._emitChangedEvent(name,_be9);_bec.resolve();}),_bec.reject);return _bec;default:throw "You need to specify a valid location ('session' or 'server').";}}localStorage[name]=_beb;this._emitChangedEvent(name,_be9);return _beb;},_emitChangedEvent:function(name,_bed){this.emit("changed",{property:name,value:_bed});}});});},"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(lang,_bee){var _bef=function(_bf0,_bf1,_bf2){_bf2=_bf2||{};return lang.delegate(_bf0,{query:function(_bf3,_bf4){var _bf5=_bf0.query(_bf3,_bf4);_bf5.forEach(function(_bf6){if(!_bf2.isLoaded||_bf2.isLoaded(_bf6)){_bf1.put(_bf6);}});return _bf5;},queryEngine:_bf0.queryEngine||_bf1.queryEngine,get:function(id,_bf7){return _bee.when(_bf1.get(id),function(_bf8){return _bf8||_bee.when(_bf0.get(id,_bf7),function(_bf9){if(_bf9){_bf1.put(_bf9,{id:id});}return _bf9;});});},add:function(_bfa,_bfb){return _bee.when(_bf0.add(_bfa,_bfb),function(_bfc){_bf1.add(typeof _bfc=="object"?_bfc:_bfa,_bfb);return _bfc;});},put:function(_bfd,_bfe){_bf1.remove((_bfe&&_bfe.id)||this.getIdentity(_bfd));return _bee.when(_bf0.put(_bfd,_bfe),function(_bff){_bf1.put(typeof _bff=="object"?_bff:_bfd,_bfe);return _bff;});},remove:function(id,_c00){return _bee.when(_bf0.remove(id,_c00),function(_c01){return _bf1.remove(id,_c00);});},evict:function(id){return _bf1.remove(id);}});};lang.setObject("dojo.store.Cache",_bef);return _bef;});},"epi/shell/store/Throttle":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/aspect","dojo/when","epi/epi"],function(_c02,lang,_c03,when,epi){return function(_c04,_c05){var _c06=[];var _c07=function(_c08){for(var i=0;i<_c06.length;i++){if(_c06[i].deferred===_c08){return _c06.splice(i,1);}}return null;};var _c09=function(_c0a,args){for(var i=0;i<_c06.length;i++){var _c0b=_c06[i];if(_c0b.method===_c0a&&epi.areEqual(_c0b.args,args)){return _c0b;}}return null;};var _c0c=function(_c0d,args){var _c0e=_c02.map(args,function(item){return item;});var _c0f=_c09(_c0d,_c0e);if(_c0f){return _c0f.deferred;}var _c10=_c04[_c0d].apply(_c04,_c0e);_c06.push({method:_c0d,args:_c0e,deferred:_c10});when(_c10,function(){_c07(_c10);},function(){_c07(_c10);});return _c10;};var _c11={};_c11[_c05]=function(){return _c0c(_c05,arguments);};return lang.delegate(_c04,_c11);};});},"epi/shell/ShellModule":function(){define("epi/shell/ShellModule",["epi/patch/patches","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/topic","dojo/when","dojo/dnd/Manager","epi","epi/_Module","epi/routes","epi/Url","epi/shell/applicationSettings","epi/shell/store/Registry","epi/shell/widget/Application","epi/shell/Profile","epi/shell/layout/PositioningUtility","epi/shell/ContextService","epi/shell/ContextHistory","epi/shell/HashWrapper","epi/shell/ViewContextHistory","epi/shell/widget/ComponentController","epi/shell/command/GlobalCommandRegistry","epi/shell/dnd/Avatar","epi/shell/MetadataManager","epi/shell/widget/WidgetFactory","epi/shell/MessageService","epi/shell/TypeDescriptorManager","epi/shell/ViewSettings","epi/shell/StickyViewSelector","epi/shell/socket/hub","epi/shell/customFocusIndicator","dojo/has!epi-socket-logging?epi/shell/socket/log"],function(_c12,_c13,lang,_c14,_c15,when,_c16,epi,_c17,_c18,Url,_c19,_c1a,_c1b,_c1c,_c1d,_c1e,_c1f,_c20,_c21,_c22,_c23,_c24,_c25,_c26,_c27,_c28,_c29,_c2a,hub){return _c13([_c17],{_settings:null,_initializeHandle:null,constructor:function(_c2b){this._settings=_c2b;},initialize:function(){return when(this.inherited(arguments),lang.hitch(this,function(){_c13.safeMixin(_c19,this._settings);_c2a.disable();var _c2c=new _c1a();this._initializeStores(_c2c);if(this._settings.enableWebSockets){hub.start();}this.registerDependency("epi.storeregistry",_c2c);this.registerDependency("epi.shell.Profile",new _c1c());this.registerDependency("epi.shell.MetadataManager",_c25);this.registerDependency("epi.shell.widget.WidgetFactory",_c26);this.registerDependency("epi.shell.MessageService",_c27);this.registerDependency("epi.shell.layout.PositioningUtility",_c1d);this.registerDependency("epi.globalcommandregistry",_c23);var _c2d=new _c20();var _c2e=new _c21();this.registerDependency("epi.shell.controller.Components",new _c22({moduleArea:"Shell"}));this.registerDependency("epi.shell.ContextService",new _c1e());this.registerDependency("epi.shell.ContextHistory",new _c1f());this.registerDependency("epi.shell.HashWrapper",_c2d);var _c2f=_c16.manager();_c2f.makeAvatar=function(){return new _c24(this);};_c2f.OFFSET_X=6;_c2f.OFFSET_Y=6;_c14.after(_c2f,"stopDrag",function(_c30){_c15.publish("/dnd/stop",null);return _c30;});this._initializeHandle=_c15.subscribe("/epi/shell/application/initialized",lang.hitch(this,this._requestInitialContext,_c2d,_c2e));return _c28.initialize();}));},uninitialize:function(){if(this._requestFailedHandle){this._requestFailedHandle.remove();}this.inherited(arguments);},_initializeStores:function(_c31){var _c32=_c18.getRestPath({moduleArea:"shell",storeName:"metadata"}),_c33=_c18.getRestPath({moduleArea:"shell",storeName:"context"}),_c34=_c18.getRestPath({moduleArea:"shell",storeName:"searchproviders"}),_c35=_c18.getRestPath({moduleArea:"shell",storeName:"searchresults"}),_c36=_c18.getRestPath({moduleArea:"shell",storeName:"componentcategory"}),_c37=_c18.getRestPath({moduleArea:"shell",storeName:"componentdefinition"}),_c38=_c18.getRestPath({moduleArea:"shell",storeName:"component"}),_c39=_c18.getRestPath({moduleArea:"shell",storeName:"componentsortorder"}),_c3a=_c18.getRestPath({moduleArea:"shell",storeName:"licenseinformation"}),_c3b=_c18.getRestPath({moduleArea:"shell",storeName:"uidescriptor"});_c31.create("epi.shell.metadata",_c32,{idProperty:"modelType"});_c31.create("epi.shell.context",_c33,{idProperty:"uri"});_c31.create("epi.shell.searchproviders",_c34);_c31.create("epi.shell.searchresults",_c35);_c31.create("epi.shell.componentcategory",_c36,{idProperty:"name"});_c31.create("epi.shell.componentdefinition",_c37);_c31.create("epi.shell.component",_c38);_c31.create("epi.shell.componentsortorder",_c39);_c31.create("epi.shell.licenseinformation",_c3a);_c31.create("epi.shell.uidescriptor",_c3b);},_requestInitialContext:function(_c3c,_c3d){if(this._initializeHandle){this._initializeHandle.remove();}var _c3e=lang.hitch(this,function(_c3f){var _c40=_c3f||_c29.settings.defaultContext;var _c41=null;if(_c40){this._requestFailedHandle=_c15.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,function(_c42,_c43,_c44){if(_c44&&_c44.sender===this){this._requestFailedHandle.remove();_c3e(null);}}));_c41={uri:_c40};}_c15.publish("/epi/shell/context/request",_c41,{sender:this});});var hash=_c3c.getHash();if(hash&&hash.context){_c3e(hash.context);return;}when(_c3d.getLastContextForView(),function(_c45){var _c46=null;if(_c45&&_c45.versionAgnosticUri){_c46=_c45.versionAgnosticUri;}_c3e(_c46);});}});});},"epi/patch/patches":function(){define("epi/patch/patches",["./dgrid/Keyboard","./dijit/Destroyable","./dijit/form/_FormMixin","./dijit/form/_Spinner","./dijit/_HasDropDown","./dojox/form/uploader/plugins/HTML5","./dijit/tree/Tree","./dijit/_KeyNavContainer","./dojo/dnd/Selector","./dojo/dnd/Moveable","./dojo/store/Observable","./dojo/cldr/nls/nb/gregorian","epi/assign"],function(){return {};});},"epi/patch/dgrid/Keyboard":function(){define("epi/patch/dgrid/Keyboard",["dojo/_base/lang","dojo/keys","dgrid/Keyboard"],function(lang,keys,_c47){var _c48=_c47.moveFocusDown;_c47.defaultKeyMap[keys.DOWN_ARROW]=function(){if(!this._focusedNode){return;}_c48.apply(this,arguments);};var _c49=_c47.moveFocusUp;_c47.defaultKeyMap[keys.UP_ARROW]=function(){if(!this._focusedNode){return;}_c49.apply(this,arguments);};var _c4a=_c47.moveFocusPageUp;_c47.defaultKeyMap[keys.PAGE_UP]=function(){if(!this._focusedNode){return;}_c4a.apply(this,arguments);};var _c4b=_c47.moveFocusPageDown;_c47.defaultKeyMap[keys.PAGE_DOWN]=function(){if(!this._focusedNode){return;}_c4b.apply(this,arguments);};});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_c4c,_c4d,on,lang,has,put,_c4e,_c4f){var _c50={checkbox:1,radio:1,button:1},_c51=/\bdgrid-cell\b/,_c52=/\bdgrid-row\b/;var _c53=_c4c(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_c53.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_c53.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _c54(_c55){var _c56=_c55.target;return _c56.type&&(!_c50[_c56.type]||_c55.keyCode==32);};function _c57(_c58){var _c59=grid.cellNavigation,_c5a=_c59?_c51:_c52,_c5b=_c58===grid.headerNode,_c5c=_c58;function _c5d(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){if(_c59){for(var i=0,_c5e,_c5f=grid.headerNode.getElementsByTagName("th");(_c5e=_c5f[i]);++i){if(_c5a.test(_c5e.className)){grid._focusedHeaderNode=_c5c=_c5e;break;}}}else{grid._focusedHeaderNode=_c5c=grid.headerNode;}if(_c5c){_c5c.tabIndex=grid.tabIndex;}}};if(_c5b){_c5d();_c4d.after(grid,"renderHeader",_c5d,true);}else{_c4d.after(grid,"renderArray",function(ret){return _c4f.when(ret,function(ret){var _c60=grid._focusedNode||_c5c;if(_c5a.test(_c60.className)&&_c4e.contains(_c58,_c60)){return ret;}for(var i=0,_c61=_c58.getElementsByTagName("*"),_c62;(_c62=_c61[i]);++i){if(_c5a.test(_c62.className)){_c60=grid._focusedNode=_c62;break;}}_c60.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_c58,"mousedown",function(_c63){if(!_c54(_c63)){grid._focusOnNode(_c63.target,_c5b,_c63);}}));grid._listeners.push(on(_c58,"keydown",function(_c64){if(_c64.metaKey||_c64.altKey){return;}var _c65=grid[_c5b?"headerKeyMap":"keyMap"][_c64.keyCode];if(_c65&&!_c54(_c64)){_c65.call(grid,_c64);}}));};if(this.tabableHeader){_c57(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_c57(this.contentNode);},removeRow:function(_c66){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_c67=document.activeElement===this._focusedNode,_c68=this[this.cellNavigation?"cell":"row"](this._focusedNode),_c69=_c68.row||_c68,_c6a;_c66=_c66.element||_c66;if(_c66===_c69.element){_c6a=this.down(_c69,true);if(!_c6a||_c6a.element===_c66){_c6a=this.up(_c69,true);}this._removedFocus={active:_c67,rowId:_c69.id,columnId:_c68.column&&_c68.column.id,siblingId:!_c6a||_c6a.element===_c66?undefined:_c6a.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_c69.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_c6b){var _c6c=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_c6c);}return _c6c;},_restoreFocus:function(row){var _c6d=this._removedFocus,_c6e,cell;row=row&&this.row(row);_c6e=row&&row.element&&row.id===_c6d.rowId?row:typeof _c6d.siblingId!=="undefined"&&this.row(_c6d.siblingId);if(_c6e&&_c6e.element){if(!_c6e.element.parentNode.parentNode){_c6d.wait=true;return;}if(typeof _c6d.columnId!=="undefined"){cell=this.cell(_c6e,_c6d.columnId);if(cell&&cell.element){_c6e=cell;}}if(_c6d.active&&_c6e.element.offsetHeight!==0){this._focusOnNode(_c6e,false,null);}else{put(_c6e.element,".dgrid-focus");_c6e.element.tabIndex=this.tabIndex;this._focusedNode=_c6e.element;}}delete this._removedFocus;},addKeyHandler:function(key,_c6f,_c70){return _c4d.after(this[_c70?"headerKeyMap":"keyMap"],key,_c6f,true);},_focusOnNode:function(_c71,_c72,_c73){var _c74="_focused"+(_c72?"Header":"")+"Node",_c75=this[_c74],_c76=this.cellNavigation?"cell":"row",cell=this[_c76](_c71),_c77,_c78,_c79,_c7a,i;_c71=cell&&cell.element;if(!_c71){return;}if(this.cellNavigation){_c77=_c71.getElementsByTagName("input");for(i=0,_c79=_c77.length;i<_c79;i++){_c78=_c77[i];if((_c78.tabIndex!=-1||"_dgridLastValue" in _c78)&&!_c78.disabled){if(has("ie")<8){_c78.style.position="relative";}_c78.focus();if(has("ie")<8){_c78.style.position="";}_c7a=true;break;}}}if(_c73!==null){_c73=lang.mixin({grid:this},_c73);if(_c73.type){_c73.parentType=_c73.type;}if(!_c73.bubbles){_c73.bubbles=true;}}if(_c75){put(_c75,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_c75.style.position="";}if(_c73){_c73[_c76]=this[_c76](_c75);on.emit(_c75,"dgrid-cellfocusout",_c73);}}_c75=this[_c74]=_c71;if(_c73){_c73[_c76]=cell;}var _c7b=this.cellNavigation?_c51:_c52;if(!_c7a&&_c7b.test(_c71.className)){if(has("ie")<8){_c71.style.position="relative";}_c71.tabIndex=this.tabIndex;_c71.focus();}put(_c71,".dgrid-focus");if(_c73){on.emit(_c75,"dgrid-cellfocusin",_c73);}},focusHeader:function(_c7c){this._focusOnNode(_c7c||this._focusedHeaderNode,true);},focus:function(_c7d){var node=_c7d||this._focusedNode;if(node){this._focusOnNode(node,false);}else{this.contentNode.focus();}}});var _c7e=_c53.moveFocusVertical=function(_c7f,_c80){var _c81=this.cellNavigation,_c82=this[_c81?"cell":"row"](_c7f),_c83=_c81&&_c82.column.id,next=this.down(this._focusedNode,_c80,true);if(_c81){next=this.cell(next,_c83);}this._focusOnNode(next,false,_c7f);_c7f.preventDefault();};var _c84=_c53.moveFocusUp=function(_c85){_c7e.call(this,_c85,-1);};var _c86=_c53.moveFocusDown=function(_c87){_c7e.call(this,_c87,1);};var _c88=_c53.moveFocusPageUp=function(_c89){_c7e.call(this,_c89,-this.pageSkip);};var _c8a=_c53.moveFocusPageDown=function(_c8b){_c7e.call(this,_c8b,this.pageSkip);};var _c8c=_c53.moveFocusHorizontal=function(_c8d,_c8e){if(!this.cellNavigation){return;}var _c8f=!this.row(_c8d),_c90=this["_focused"+(_c8f?"Header":"")+"Node"];this._focusOnNode(this.right(_c90,_c8e),_c8f,_c8d);_c8d.preventDefault();};var _c91=_c53.moveFocusLeft=function(_c92){_c8c.call(this,_c92,-1);};var _c93=_c53.moveFocusRight=function(_c94){_c8c.call(this,_c94,1);};var _c95=_c53.moveHeaderFocusEnd=function(_c96,_c97){var _c98;if(this.cellNavigation){_c98=this.headerNode.getElementsByTagName("th");this._focusOnNode(_c98[_c97?0:_c98.length-1],true,_c96);}_c96.preventDefault();};var _c99=_c53.moveHeaderFocusHome=function(_c9a){_c95.call(this,_c9a,true);};var _c9b=_c53.moveFocusEnd=function(_c9c,_c9d){var self=this,_c9e=this.cellNavigation,_c9f=this.contentNode,_ca0=_c9d?0:_c9f.scrollHeight,_ca1=_c9f.scrollTop+_ca0,_ca2=_c9f[_c9d?"firstChild":"lastChild"],_ca3=_ca2.className.indexOf("dgrid-preload")>-1,_ca4=_ca3?_ca2[(_c9d?"next":"previous")+"Sibling"]:_ca2,_ca5=_ca4.offsetTop+(_c9d?0:_ca4.offsetHeight),_ca6;if(_ca3){while(_ca4&&_ca4.className.indexOf("dgrid-row")<0){_ca4=_ca4[(_c9d?"next":"previous")+"Sibling"];}if(!_ca4){return;}}if(!_ca3||_ca2.offsetHeight<1){if(_c9e){_ca4=this.cell(_ca4,this.cell(_c9c).column.id);}this._focusOnNode(_ca4,false,_c9c);}else{if(!has("dom-addeventlistener")){_c9c=lang.mixin({},_c9c);}_ca6=_c4d.after(this,"renderArray",function(rows){_ca6.remove();return _c4f.when(rows,function(rows){var _ca7=rows[_c9d?0:rows.length-1];if(_c9e){_ca7=self.cell(_ca7,self.cell(_c9c).column.id);}self._focusOnNode(_ca7,false,_c9c);});});}if(_ca1===_ca5){_c9c.preventDefault();}};var _ca8=_c53.moveFocusHome=function(_ca9){_c9b.call(this,_ca9,true);};function _caa(_cab){_cab.preventDefault();};_c53.defaultKeyMap={32:_caa,33:_c88,34:_c8a,35:_c9b,36:_ca8,37:_c91,38:_c84,39:_c93,40:_c86};_c53.defaultHeaderKeyMap={32:_caa,35:_c95,36:_c99,37:_c91,39:_c93};return _c53;});},"epi/patch/dijit/Destroyable":function(){define("epi/patch/dijit/Destroyable",["dojo/_base/lang","dijit/Destroyable"],function(lang,_cac){lang.mixin(_cac.prototype,{destroy:function(_cad){this.inherited(arguments);this._destroyed=true;}});_cac.prototype.destroy.nom="destroy";});},"epi/patch/dijit/form/_FormMixin":function(){define("epi/patch/dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/lang","dijit/form/_FormMixin"],function(_cae,lang,_caf){lang.mixin(_caf.prototype,{_setValueAttr:function(obj){var map={};_cae.forEach(this._getDescendantFormWidgets(),function(_cb0){if(!_cb0.name){return;}var _cb1=map[_cb0.name]||(map[_cb0.name]=[]);_cb1.push(_cb0);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _cb2=map[name],_cb3=lang.getObject(name,false,obj);if(_cb3===undefined){continue;}if(!lang.isArray(_cb3)){if(_cb3===null&&_cb2[0].multiple){_cb3=null;}else{_cb3=[_cb3];}}if(typeof _cb2[0].checked=="boolean"){_cae.forEach(_cb2,function(w){w.set("value",_cae.indexOf(_cb3,w.value)!==-1);});}else{if(_cb2[0].multiple){_cb2[0].set("value",_cb3);}else{_cae.forEach(_cb2,function(w,i){w.set("value",_cb3[i]);});}}}}});_caf.prototype._setValueAttr.nom="_setValueAttr";});},"epi/patch/dijit/form/_Spinner":function(){define("epi/patch/dijit/form/_Spinner",["dojo/_base/lang","dijit/form/_Spinner","dijit/form/_TextBoxMixin"],function(lang,_cb4,_cb5){var base=_cb4.prototype._mouseWheeled;lang.mixin(_cb4.prototype,{_arrowPressed:function(_cb6,_cb7,_cb8){if(this.disabled||this.readOnly){return;}!this.focused&&this.focus();this._setValueAttr(this.adjust(this.get("value"),_cb7*_cb8),false);_cb5.selectInputText(this.textbox,this.textbox.value.length);},_mouseWheeled:function(evt){if(!this.get("focused")){return;}return base.apply(this,arguments);}});_cb4.prototype._arrowPressed.nom="_arrowPressed";_cb4.prototype._mouseWheeled.nom="_mouseWheeled";});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_cb9,_cba,keys,lang,has,_cbb,_cbc,_cbd,_cbe,_cbf){return _cb9("dijit.form._Spinner",_cbd,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_cbe,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_cc0,_cc1,_cc2){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_cc1*_cc2),false);_cbf.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_cc3,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_cc3==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_cba.stop(evt);var _cc4=evt.wheelDelta/120;if(Math.floor(_cc4)!=_cc4){_cc4=evt.wheelDelta>0?1:-1;}var _cc5=evt.detail?(evt.detail*-1):_cc4;if(_cc5!==0){var node=this[(_cc5>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_cc5,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_cc6){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_cc7,_cc8){this.focusNode.setAttribute("aria-valuenow",_cc7);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_cbb.wheel,"_mouseWheeled");this.own(_cbc.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_cbc.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_cbc.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_cbc.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_cc9,_cca,_ccb,_ccc,lang,on,has,_ccd){var _cce=(_ccd.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_ccf,node,_cd0,obj,_cd1,_cd2,_cd3){if(obj!=this._obj){this.stop();this._initialDelay=_cd2||500;this._subsequentDelay=_cd1||0.9;this._minDelay=_cd3||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_ccf,_cd0);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_cd4,_cd5,_cd6,_cd7,_cd8,_cd9){if(_cd4.keyCode){_cd4.charOrCode=_cd4.keyCode;_ccc.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_cd4.charCode){_cd4.charOrCode=String.fromCharCode(_cd4.charCode);_ccc.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _cda=[on(node,_cca._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_cd4.charOrCode&&(_cd4.ctrlKey===undefined||_cd4.ctrlKey==evt.ctrlKey)&&(_cd4.altKey===undefined||_cd4.altKey==evt.altKey)&&(_cd4.metaKey===undefined||_cd4.metaKey==(evt.metaKey||false))&&(_cd4.shiftKey===undefined||_cd4.shiftKey==evt.shiftKey)){_ccb.stop(evt);_cce.trigger(evt,_cd5,node,_cd6,_cd4,_cd7,_cd8,_cd9);}else{if(_cce._obj==_cd4){_cce.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_cce._obj==_cd4){_cce.stop();}}))];return {remove:function(){_cc9.forEach(_cda,function(h){h.remove();});}};},addMouseListener:function(node,_cdb,_cdc,_cdd,_cde,_cdf){var _ce0=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_cce.trigger(evt,_cdb,node,_cdc,node,_cdd,_cde,_cdf);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_cce.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_cce.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_cce.trigger(evt,_cdb,node,_cdc,node,_cdd,_cde,_cdf);setTimeout(lang.hitch(this,_cce.stop),50);}}))];return {remove:function(){_cc9.forEach(_ce0,function(h){h.remove();});}};},addListener:function(_ce1,_ce2,_ce3,_ce4,_ce5,_ce6,_ce7,_ce8){var _ce9=[this.addKeyListener(_ce2,_ce3,_ce4,_ce5,_ce6,_ce7,_ce8),this.addMouseListener(_ce1,_ce4,_ce5,_ce6,_ce7,_ce8)];return {remove:function(){_cc9.forEach(_ce9,function(h){h.remove();});}};}});return _cce;});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_cea,i18n,_ceb){var _cec=_cea("dijit.form.RangeBoundTextBox",_ceb,{rangeMessage:"",rangeCheck:function(_ced,_cee){return ("min" in _cee?(this.compare(_ced,_cee.min)>=0):true)&&("max" in _cee?(this.compare(_ced,_cee.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _cef=false;if("min" in this.constraints){var min=this.constraints.min;_cef=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_cef&&("max" in this.constraints)){var max=this.constraints.max;_cef=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _cef;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_cf0){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_cf0));},getErrorMessage:function(_cf1){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_cf1)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},applyTextDir:function(){}});return _cec;});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","epi/patch/dijit/_HasDropDown":function(){define("epi/patch/dijit/_HasDropDown",["dojo/_base/array","dojo/_base/lang","dijit/_HasDropDown"],function(_cf2,lang,_cf3){lang.mixin(_cf3.prototype,{_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);}});_cf3.prototype._onBlur.nom="_onBlur";_cf3.prototype.destroy.nom="destroy";});},"epi/patch/dojox/form/uploader/plugins/HTML5":function(){define("epi/patch/dojox/form/uploader/plugins/HTML5",["dojo/_base/lang","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5"],function(lang,_cf4,_cf5){lang.mixin(_cf5.prototype,{createXhr:function(){var xhr=new XMLHttpRequest();var _cf6;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_cf6);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_cf6);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_cf6);var _cf7;if(xhr.responseText){try{_cf7=JSON.parse(xhr.responseText.replace(/^\{\}&&/,""));}catch(e){this.onError({message:e.message,data:xhr.responseText,statusCode:xhr.status,headers:xhr.getAllResponseHeaders()});return;}}this.onComplete(_cf7);}});xhr.open("POST",this.getUrl());_cf6=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_cf6);}}),250);return xhr;}});_cf5.prototype.createXhr.nom="createXhr";});},"epi/patch/dijit/tree/Tree":function(){define("epi/patch/dijit/tree/Tree",["dojo/_base/array","dojo/_base/lang","dojo/DeferredList","dijit/_Container","dijit/Tree"],function(_cf8,lang,_cf9,_cfa,Tree){lang.mixin(Tree._TreeNode.prototype,{setChildItems:function(_cfb){var tree=this.tree,_cfc=tree.model,defs=[];var _cfd=this.getChildren();_cf8.forEach(_cfd,function(_cfe){_cfa.prototype.removeChild.call(this,_cfe);},this);this.defer(function(){_cf8.forEach(_cfd,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _cff(node){var id=_cfc.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary&&ary.length==1){delete tree._itemNodesMap[id];}else{var _d00=_cf8.indexOf(ary,node);if(_d00!=-1){ary.splice(_d00,1);}}_cf8.forEach(node.getChildren(),_cff);};_cff(node);node.destroyRecursive();}});});this.state="LOADED";if(_cfb&&_cfb.length>0){this.isExpandable=true;_cf8.forEach(_cfb,function(item){var id=_cfc.getIdentity(item),_d01=tree._itemNodesMap[id],node;if(_d01){for(var i=0;i<_d01.length;i++){if(_d01[i]&&!_d01[i].getParent()){node=_d01[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_cfc.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_d01){_d01.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_cf8.forEach(this.getChildren(),function(_d02){_d02._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _cf9(defs);this.tree._startPaint(def);return def;}});Tree._TreeNode.prototype.setChildItems.nom="setChildItems";lang.mixin(Tree.prototype,{_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}}});Tree.prototype._adjustWidths.nom="_adjustWidths";});},"dojo/DeferredList":function(){define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_d03,_d04){dojo.DeferredList=function(list,_d05,_d06,_d07,_d08){var _d09=[];_d03.call(this);var self=this;if(list.length===0&&!_d05){this.resolve([0,[]]);}var _d0a=0;_d04.forEach(list,function(item,i){item.then(function(_d0b){if(_d05){self.resolve([i,_d0b]);}else{_d0c(true,_d0b);}},function(_d0d){if(_d06){self.reject(_d0d);}else{_d0c(false,_d0d);}if(_d07){return null;}throw _d0d;});function _d0c(_d0e,_d0f){_d09[i]=[_d0e,_d0f];_d0a++;if(_d0a===list.length){self.resolve(_d09);}};});};dojo.DeferredList.prototype=new _d03();dojo.DeferredList.prototype.gatherResults=function(_d10){var d=new dojo.DeferredList(_d10,false,true,false);d.addCallback(function(_d11){var ret=[];_d04.forEach(_d11,function(_d12){ret.push(_d12[1]);});return ret;});return d;};return dojo.DeferredList;});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t\ttabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/errors/create","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_d13,_d14,_d15,_d16,_d17,_d18,dom,_d19,_d1a,_d1b,_d1c,_d1d,_d1e,_d1f,keys,lang,on,_d20,_d21,when,_d22,_d23,_d24,_d25,_d26,_d27,_d28,_d29,_d2a,_d2b,_d2c,_d2d,_d2e){_d17=_d16(_d17,{addCallback:function(_d2f){this.then(_d2f);},addErrback:function(_d30){this.then(null,_d30);}});var _d31=_d16("dijit._TreeNode",[_d25,_d26,_d27,_d28,_d29],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_d2a,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_d32){var _d33=(Math.max(_d32,0)*this.tree._nodePixelIndent)+"px";_d1b.set(this.domNode,"backgroundPosition",_d33+" 0px");_d1b.set(this.indentNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_d33);_d13.forEach(this.getChildren(),function(_d34){_d34.set("indent",_d32+1);});this._set("indent",_d32);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_d35=tree.model;if(tree._v10Compat&&item===_d35.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_d36,_d37){var _d38="_"+_d36+"Class";var _d39=_d36+"Node";var _d3a=this[_d38];this[_d38]=this.tree["get"+_d37+"Class"](item,this.isExpanded);_d19.replace(this[_d39],this[_d38]||"",_d3a||"");_d1b.set(this[_d39],this.tree["get"+_d37+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _d3b=this.getParent();if(!_d3b||!_d3b.rowNode||_d3b.rowNode.style.display=="none"){_d19.add(this.domNode,"dijitTreeIsRoot");}else{_d19.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_d3c){var _d3d=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_d3e=["*","-","+","*"],idx=_d3c?0:(this.isExpandable?(this.isExpanded?1:2):3);_d19.replace(this.expandoNode,_d3d[idx],_d3d);this.expandoNodeText.innerHTML=_d3e[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_d19.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_d3f=_d1e.wipeIn({node:this.containerNode,duration:_d24.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._expandDeferred=new _d17(function(){_d3f.stop();}));_d3f.play();return def;},collapse:function(){if(this._collapseDeferred){return this._collapseDeferred;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_d19.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var def,_d40=_d1e.wipeOut({node:this.containerNode,duration:_d24.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._collapseDeferred=new _d17(function(){_d40.stop();}));_d40.play();return def;},indent:0,setChildItems:function(_d41){var tree=this.tree,_d42=tree.model,defs=[];var _d43=this.getChildren();_d13.forEach(_d43,function(_d44){_d27.prototype.removeChild.call(this,_d44);},this);this.defer(function(){_d13.forEach(_d43,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);var id=_d42.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _d45=_d13.indexOf(ary,node);if(_d45!=-1){ary.splice(_d45,1);}}node.destroyRecursive();}});});this.state="LOADED";if(_d41&&_d41.length>0){this.isExpandable=true;_d13.forEach(_d41,function(item){var id=_d42.getIdentity(item),_d46=tree._itemNodesMap[id],node;if(_d46){for(var i=0;i<_d46.length;i++){if(_d46[i]&&!_d46[i].getParent()){node=_d46[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_d42.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_d46){_d46.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_d13.forEach(this.getChildren(),function(_d47){_d47._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _d18(defs);this.tree._startPaint(def);return def;},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _d48=this.getChildren();if(_d48.length==0){this.isExpandable=false;this.collapse();}_d13.forEach(_d48,function(_d49){_d49._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_d4a){this.labelNode.setAttribute("aria-selected",_d4a?"true":"false");_d19.toggle(this.rowNode,"dijitTreeRowSelected",_d4a);},setFocusable:function(_d4b){this.labelNode.setAttribute("tabIndex",_d4b?"0":"-1");},_setTextDirAttr:function(_d4c){if(_d4c&&((this.textDir!=_d4c)||!this._created)){this._set("textDir",_d4c);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_d13.forEach(this.getChildren(),function(_d4d){_d4d.set("textDir",_d4c);},this);}}});var Tree=_d16("dijit.Tree",[_d25,_d26],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_d2b,persist:true,autoExpand:false,dndController:_d2e,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_d4e,_d4f){_d20.publish(this.id,lang.mixin({tree:this,event:_d4e},_d4f||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _d17();this.pendingCommandsDeferred=this.expandChildrenDeferred;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.domNode,on.selector(".dijitTreeNode",_d21.enter),function(evt){self._onNodeMouseEnter(_d23.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode",_d21.leave),function(evt){self._onNodeMouseLeave(_d23.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","click"),function(evt){self._onClick(_d23.getEnclosingWidget(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_d23.getEnclosingWidget(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){self._onKeyPress(_d23.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){self._onKeyDown(_d23.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","focusin"),function(evt){self._onNodeFocus(_d23.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _d50={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_d50[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_d50);}this._load();if(!this.params.path&&!this.params.paths&&this.persist){this.set("paths",this.dndController._getSavedPaths());}this.onLoadDeferred=this.pendingCommandsDeferred;this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_d1f.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _d51={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_d51.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_d51.getChildren=lang.hitch(this,function(item,_d52,_d53){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_d52,_d53);});}this.model=new _d2d(_d51);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);}this.domNode.appendChild(rn.domNode);var _d54=this.model.getIdentity(item);if(this._itemNodesMap[_d54]){this._itemNodesMap[_d54].push(rn);}else{this._itemNodesMap[_d54]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){this.expandChildrenDeferred.resolve(true);}));}),lang.hitch(this,function(err){console.error(this,": error loading root: ",err);}));},getNodesByItem:function(item){if(!item){return [];}var _d55=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_d55]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_d56){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(lang.hitch(this,function(){var _d57=_d13.map(_d56,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _d58=[];_d13.forEach(_d57,function(id){_d58=_d58.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_d58);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_d59){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(function(){return new _d18(_d13.map(_d59,function(path){var d=new _d17();path=_d13.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){_d5a(path,[tree.rootNode],d);}else{d.reject(new Tree.PathError("Empty path"));}return d;}));}).then(_d5b);function _d5a(path,_d5c,def){var _d5d=path.shift();var _d5e=_d13.filter(_d5c,function(node){return node.getIdentity()==_d5d;})[0];if(!!_d5e){if(path.length){tree._expandNode(_d5e).then(function(){_d5a(path,_d5e.getChildren(),def);});}else{def.resolve(_d5e);}}else{def.reject(new Tree.PathError("Could not expand path at "+_d5d));}};function _d5b(_d5f){tree.set("selectedNodes",_d13.map(_d13.filter(_d5f,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_d60){this.dndController.setSelection(_d60);},expandAll:function(){var _d61=this;function _d62(node){var def=new dojo.Deferred();_d61._expandNode(node).then(function(){var _d63=_d13.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_d13.map(_d63,_d62);new dojo.DeferredList(defs).then(function(){def.resolve(true);});});return def;};return _d62(this.rootNode);},collapseAll:function(){var _d64=this;function _d65(node){var def=new dojo.Deferred();def.label="collapseAllDeferred";var _d66=_d13.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_d13.map(_d66,_d65);new dojo.DeferredList(defs).then(function(){if(!node.isExpanded||(node==_d64.rootNode&&!_d64.showRoot)){def.resolve(true);}else{_d64._collapseNode(node).then(function(){def.resolve(true);});}});return def;};return _d65(this.rootNode);},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_d67){return (!item||this.model.mayHaveChildren(item))?(_d67?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_d68,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_d68,key:c.toLowerCase()});_d1c.stop(e);}},_onKeyDown:function(_d69,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]=map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_d69,item:_d69.item,evt:e});_d1c.stop(e);}},_onEnterKey:function(_d6a){this._publish("execute",{item:_d6a.item,node:_d6a.node});this.dndController.userSelect(_d6a.node,_d14.isCopyKey(_d6a.evt),_d6a.evt.shiftKey);this.onClick(_d6a.item,_d6a.node,_d6a.evt);},_onDownArrow:function(_d6b){var node=this._getNextNode(_d6b.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_d6c){var node=_d6c.node;var _d6d=node.getPreviousSibling();if(_d6d){node=_d6d;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _d6e=node.getChildren();node=_d6e[_d6e.length-1];}}else{var _d6f=node.getParent();if(!(!this.showRoot&&_d6f===this.rootNode)){node=_d6f;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_d70){var node=_d70.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_d71){var node=_d71.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _d72=node.getParent();if(_d72&&_d72.isTreeNode&&!(!this.showRoot&&_d72===this.rootNode)){this.focusNode(_d72);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_d73){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_d73.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_d73.key,startNode:_d73.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_d74){return dom.isDescendant(node,_d74.expandoNode)||dom.isDescendant(node,_d74.expandoNodeText);},_onClick:function(_d75,e){var _d76=e.target,_d77=this.isExpandoNode(_d76,_d75);if((this.openOnClick&&_d75.isExpandable)||_d77){if(_d75.isExpandable){this._onExpandoClick({node:_d75});}}else{this._publish("execute",{item:_d75.item,node:_d75,evt:e});this.onClick(_d75.item,_d75,e);this.focusNode(_d75);}_d1c.stop(e);},_onDblClick:function(_d78,e){var _d79=e.target,_d7a=(_d79==_d78.expandoNode||_d79==_d78.expandoNodeText);if((this.openOnDblClick&&_d78.isExpandable)||_d7a){if(_d78.isExpandable){this._onExpandoClick({node:_d78});}}else{this._publish("execute",{item:_d78.item,node:_d78,evt:e});this.onDblClick(_d78.item,_d78,e);this.focusNode(_d78);}_d1c.stop(e);},_onExpandoClick:function(_d7b){var node=_d7b.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _d7c=node.getNextSibling();if(_d7c){return _d7c;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="LOADING"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){var def=new _d17();if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _d7d=this.model,item=node.item,_d7e=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _d17();_d7d.getChildren(item,function(_d7f){node.unmarkProcessing();node.setChildItems(_d7f).then(function(){node._loadDeferred.resolve(_d7f);});},function(err){console.error(_d7e,": error loading "+node.label+" children: ",err);node._loadDeferred.reject(err);});}node._loadDeferred.then(lang.hitch(this,function(){node.expand().then(function(){def.resolve(true);});this.onOpen(node.item,node);this._state(node,true);}));this._startPaint(def);return def;},focusNode:function(node){_d22.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _d80=this.model,_d81=_d80.getIdentity(item),_d82=this._itemNodesMap[_d81];if(_d82){var _d83=this.getLabel(item),_d84=this.getTooltip(item);_d13.forEach(_d82,function(node){node.set({item:item,label:_d83,tooltip:_d84});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_d85,_d86){var _d87=this.model,_d88=_d87.getIdentity(_d85),_d89=this._itemNodesMap[_d88];if(_d89){_d13.forEach(_d89,function(_d8a){_d8a.setChildItems(_d86);});}},_onItemDelete:function(item){var _d8b=this.model,_d8c=_d8b.getIdentity(item),_d8d=this._itemNodesMap[_d8c];if(_d8d){_d13.forEach(_d8d,function(node){this.dndController.removeTreeNode(node);var _d8e=node.getParent();if(_d8e){_d8e.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_d8c];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_d15(this.cookieName);if(oreo){_d13.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_d8f){if(!this.persist){return false;}var path=_d13.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_d8f){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_d15(this.cookieName,ary.join(","),{expires:365});}}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_d90){if(_d90){_d1a.setMarginBox(this.domNode,_d90);}this._nodePixelIndent=_d1a.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var _d91=0,_d92=[];function _d93(_d94){var node=_d94.rowNode;node.style.width="auto";_d91=Math.max(_d91,node.clientWidth);_d92.push(node);if(_d94.isExpanded){_d13.forEach(_d94.getChildren(),_d93);}};_d93(this.rootNode);_d91=Math.max(_d91,_d1a.getContentBox(this.domNode).w);_d13.forEach(_d92,function(node){node.style.width=_d91+"px";});},_createTreeNode:function(args){return new _d31(args);},_setTextDirAttr:function(_d95){if(_d95&&this.textDir!=_d95){this._set("textDir",_d95);this.rootNode.set("textDir",_d95);}}});Tree.PathError=_d1d("TreePathError");Tree._TreeNode=_d31;return Tree;});},"dojo/fx":function(){define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_d96,dojo,_d97,_d98,_d99,dom,_d9a,geom,_d9b,_d9c){if(!dojo.isAsync){_d9b(0,function(){var _d9d=["./fx/Toggler"];_d9c(_d9d);});}var _d9e=dojo.fx={};var _d9f={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _da0=function(_da1){this._index=-1;this._animations=_da1||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_d97.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_da0.prototype=new _d96();lang.extend(_da0,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_d98.disconnect(this._onAnimateCtx);_d98.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_d98.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_d98.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_da2,_da3){if(!this._current){this._current=this._animations[this._index=0];}if(!_da3&&this._current.status()=="playing"){return this;}var _da4=_d98.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_da5=_d98.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_da6=_d98.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_d98.disconnect(_da4);_d98.disconnect(_da5);_d98.disconnect(_da6);});if(this._onAnimateCtx){_d98.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_d98.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_d98.disconnect(this._onEndCtx);}this._onEndCtx=_d98.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_d98.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_d98.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_da7,_da8){this.pause();var _da9=this.duration*_da7;this._current=null;_d97.some(this._animations,function(a){if(a.duration<=_da9){this._current=a;return true;}_da9-=a.duration;return false;});if(this._current){this._current.gotoPercent(_da9/this._current.duration,_da8);}return this;},stop:function(_daa){if(this._current){if(_daa){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_d98.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_d98.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_d98.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_d98.disconnect(this._onEndCtx);}}});lang.extend(_da0,_d9f);_d9e.chain=function(_dab){return new _da0(_dab);};var _dac=function(_dad){this._animations=_dad||[];this._connects=[];this._finished=0;this.duration=0;_d97.forEach(_dad,function(a){var _dae=a.duration;if(a.delay){_dae+=a.delay;}if(this.duration<_dae){this.duration=_dae;}this._connects.push(_d98.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _d99.Animation({curve:[0,1],duration:this.duration});var self=this;_d97.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_d98.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_dac,{_doAction:function(_daf,args){_d97.forEach(this._animations,function(a){a[_daf].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_db0,args){var t=this._pseudoAnimation;t[_db0].apply(t,args);},play:function(_db1,_db2){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_db3,_db4){var ms=this.duration*_db3;_d97.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_db4);});this._call("gotoPercent",arguments);return this;},stop:function(_db5){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_d97.forEach(this._connects,_d98.disconnect);}});lang.extend(_dac,_d9f);_d9e.combine=function(_db6){return new _dac(_db6);};_d9e.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_d99.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _db7=_d9a.get(node,"height");return Math.max(_db7,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_d98.connect(anim,"onStop",fini);_d98.connect(anim,"onEnd",fini);return anim;};_d9e.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_d99.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_d98.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_d98.connect(anim,"onStop",fini);_d98.connect(anim,"onEnd",fini);return anim;};_d9e.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_d9a.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_d99.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_d98.connect(anim,"beforeBegin",anim,init);return anim;};return _d9e;});},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t\ttabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_db8,_db9,_dba,lang){return _dba("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _dbb=this.store;if(!_dbb.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_dbb.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_db9.after(_dbb,"onNew",lang.hitch(this,"onNewItem"),true),_db9.after(_dbb,"onDelete",lang.hitch(this,"onDeleteItem"),true),_db9.after(_dbb,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_dbc,_dbd){if(this.root){_dbc(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_dbe){if(_dbe.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_dbe.length+" items, but must return exactly one");}this.root=_dbe[0];_dbc(this.root);}),onError:_dbd});}},mayHaveChildren:function(item){return _db8.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_dbf,_dc0,_dc1){var _dc2=this.store;if(!_dc2.isItemLoaded(_dbf)){var _dc3=lang.hitch(this,arguments.callee);_dc2.loadItem({item:_dbf,onItem:function(_dc4){_dc3(_dc4,_dc0,_dc1);},onError:_dc1});return;}var _dc5=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_dc2.getValues(_dbf,this.childrenAttrs[i]);_dc5=_dc5.concat(vals);}var _dc6=0;if(!this.deferItemLoadingUntilExpand){_db8.forEach(_dc5,function(item){if(!_dc2.isItemLoaded(item)){_dc6++;}});}if(_dc6==0){_dc0(_dc5);}else{_db8.forEach(_dc5,function(item,idx){if(!_dc2.isItemLoaded(item)){_dc2.loadItem({item:item,onItem:function(item){_dc5[idx]=item;if(--_dc6==0){_dc0(_dc5);}},onError:_dc1});}});}},isItem:function(_dc7){return this.store.isItem(_dc7);},fetchItemByIdentity:function(_dc8){this.store.fetchItemByIdentity(_dc8);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_dc9,_dca){var _dcb={parent:_dc9,attribute:this.childrenAttrs[0]},_dcc;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_dc9,true,_dca);}else{_dcc=this.store.newItem(args,_dcb);if(_dcc&&(_dca!=undefined)){this.pasteItem(_dcc,_dc9,_dc9,false,_dca);}}}});}else{_dcc=this.store.newItem(args,_dcb);if(_dcc&&(_dca!=undefined)){this.pasteItem(_dcc,_dc9,_dc9,false,_dca);}}},pasteItem:function(_dcd,_dce,_dcf,_dd0,_dd1){var _dd2=this.store,_dd3=this.childrenAttrs[0];if(_dce){_db8.forEach(this.childrenAttrs,function(attr){if(_dd2.containsValue(_dce,attr,_dcd)){if(!_dd0){var _dd4=_db8.filter(_dd2.getValues(_dce,attr),function(x){return x!=_dcd;});_dd2.setValues(_dce,attr,_dd4);}_dd3=attr;}});}if(_dcf){if(typeof _dd1=="number"){var _dd5=_dd2.getValues(_dcf,_dd3).slice();_dd5.splice(_dd1,0,_dcd);_dd2.setValues(_dcf,_dd3,_dd5);}else{_dd2.setValues(_dcf,_dd3,_dd2.getValues(_dcf,_dd3).concat(_dcd));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_dd6){if(!_dd6){return;}this.getChildren(_dd6.item,lang.hitch(this,function(_dd7){this.onChildrenChange(_dd6.item,_dd7);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_dd8){if(_db8.indexOf(this.childrenAttrs,_dd8)!=-1){this.getChildren(item,lang.hitch(this,function(_dd9){this.onChildrenChange(item,_dd9);}));}else{this.onChange(item);}}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_dda,_ddb,_ddc,lang,_ddd){return _ddb("dijit.tree.ForestStoreModel",_ddd,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_dde){this.root={store:this,root:true,id:_dde.rootId,label:_dde.rootLabel,children:_dde.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_ddf,_de0,_de1){if(_ddf===this.root){if(this.root.children){_de0(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_de2){this.root.children=_de2;_de0(_de2);}),onError:_de1});}}else{this.inherited(arguments);}},isItem:function(_de3){return (_de3===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_de4){if(_de4.identity==this.root.id){var _de5=_de4.scope||_ddc.global;if(_de4.onItem){_de4.onItem.call(_de5,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_de6,_de7){if(_de6===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_de8,_de9,_dea,_deb,_dec){if(_de9===this.root){if(!_deb){this.onLeaveRoot(_de8);}}this.inherited(arguments,[_de8,_de9===this.root?null:_de9,_dea===this.root?null:_dea,_deb,_dec]);if(_dea===this.root){this.onAddToRoot(_de8);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _ded=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_dee){this.root.children=_dee;if(_ded.length!=_dee.length||_dda.some(_ded,function(item,idx){return _dee[idx]!=item;})){this.onChildrenChange(this.root,_dee);}})});},onNewItem:function(item,_def){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_dda.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_df0,_df1,_df2){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/cookie","dojo/mouse","dojo/on","dojo/touch","./_dndContainer"],function(_df3,_df4,_df5,_df6,_df7,lang,_df8,_df9,on,_dfa,_dfb){return _df5("dijit.tree._dndSelector",_dfb,{constructor:function(){this.selection={};this.anchor=null;if(!this.cookieName&&this.tree.id){this.cookieName=this.tree.id+"SaveSelectedCookie";}this.events.push(on(this.tree.domNode,_dfa.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_dfa.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_dfa.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _dfc=[],sel=this.selection;for(var i in sel){_dfc.push(sel[i]);}return _dfc;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_dfd){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_dfd){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_dfe){var _dff=this.getSelectedTreeNodes();_df3.forEach(this._setDifference(_dff,_dfe),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_df3.forEach(this._setDifference(_dfe,_dff),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_df3.forEach(ys,function(y){y.__exclude__=true;});var ret=_df3.filter(xs,function(x){return !x.__exclude__;});_df3.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _e00=this.getSelectedTreeNodes();var _e01=[],_e02=[],_e03=[];_df3.forEach(_e00,function(node){var ary=node.getTreePath(),_e04=this.tree.model;_e02.push(node);_e01.push(ary);ary=_df3.map(ary,function(item){return _e04.getIdentity(item);},this);_e03.push(ary.join("/"));},this);var _e05=_df3.map(_e02,function(node){return node.item;});this.tree._set("paths",_e01);this.tree._set("path",_e01[0]||[]);this.tree._set("selectedNodes",_e02);this.tree._set("selectedNode",_e02[0]||null);this.tree._set("selectedItems",_e05);this.tree._set("selectedItem",_e05[0]||null);if(this.tree.persist&&_e03.length>0){_df8(this.cookieName,_e03.join(","),{expires:365});}},_getSavedPaths:function(){var tree=this.tree;if(tree.persist&&tree.dndController.cookieName){var oreo,_e06=[];oreo=_df8(tree.dndController.cookieName);if(oreo){_e06=_df3.map(oreo.split(","),function(path){return path.split("/");});}return _e06;}},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_df9.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _e07=this.current,copy=_df4.isCopyKey(e),id=_e07.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_e07,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_df4.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_e08,_e09){if(this.singular){if(this.anchor==node&&_e08){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_e09&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_e0a,end,_e0b=this.anchor;if(cr<0){_e0a=_e0b;end=node;}else{_e0a=node;end=_e0b;}var _e0c=[];while(_e0a!=end){_e0c.push(_e0a);_e0a=this.tree._getNextNode(_e0a);}_e0c.push(end);this.setSelection(_e0c);}else{if(this.selection[node.id]&&_e08){this.removeTreeNode(node);}else{if(_e08){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _e0d=this.selection[key];return {data:_e0d,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_df7.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/on","dojo/touch"],function(_e0e,_e0f,_e10,_e11,lang,on,_e12){return _e0f("dijit.tree._dndContainer",null,{constructor:function(tree,_e13){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_e13);this.current=null;this.containerState="";_e10.add(this.node,"dojoDndContainer");this.events=[on(this.node,_e12.enter,lang.hitch(this,"onOverEvent")),on(this.node,_e12.leave,lang.hitch(this,"onOutEvent")),_e0e.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_e0e.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_e11,"stop")),on(this.node,"selectstart",lang.hitch(_e11,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_e14){this.current=_e14;},onMouseOut:function(){this.current=null;},_changeState:function(type,_e15){var _e16="dojoDnd"+type;var _e17=type.toLowerCase()+"State";_e10.replace(this.node,_e16+_e15,_e16+this[_e17]);this[_e17]=_e15;},_addItemClass:function(node,type){_e10.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_e10.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"epi/patch/dijit/_KeyNavContainer":function(){define("epi/patch/dijit/_KeyNavContainer",["dojo/_base/lang","dijit/_KeyNavContainer"],function(lang,_e18){lang.mixin(_e18.prototype,{_childWidgetHandles:null,_startupChild:function(_e19){_e19.set("tabIndex","-1");if(!this._childWidgetHandles){this._childWidgetHandles={};}var _e1a=[this.connect(_e19,"_onFocus",function(){_e19.set("tabIndex",this.tabIndex);}),this.connect(_e19,"_onBlur",function(){_e19.set("tabIndex","-1");})];this._childWidgetHandles[_e19.id]=_e1a;},removeChild:function(_e1b){if(typeof _e1b=="number"){_e1b=this.getChildren()[_e1b];}if(_e1b){this._removeChildHandles(_e1b.id);}this.inherited(arguments);},destroyDescendants:function(){this.getChildren().forEach(function(_e1c){this._removeChildHandles(_e1c.id);},this);this.inherited(arguments);},destroy:function(){this.inherited(arguments);this._childWidgetHandles=null;},_removeChildHandles:function(_e1d){if(!this._childWidgetHandles||!_e1d){return;}var _e1e=this._childWidgetHandles[_e1d];if(!_e1e){return;}_e1e.forEach(function(_e1f){_e1f.remove();});delete this._childWidgetHandles[_e1d];},});_e18.prototype._startupChild.nom="_startupChild";_e18.prototype.removeChild.nom="removeChild";_e18.prototype.destroyDescendants.nom="destroyDescendants";_e18.prototype.destroy.nom="destroy";});},"epi/patch/dojo/dnd/Selector":function(){define("epi/patch/dojo/dnd/Selector",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Selector","dojo/mouse"],function(lang,dnd,_e20,_e21){lang.mixin(_e20.prototype,{onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_e21.isLeft(e)){e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.preventDefault();}});_e20.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/dnd/Moveable":function(){define("epi/patch/dojo/dnd/Moveable",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Moveable","dojo/touch","dojo/on"],function(lang,dnd,_e22,_e23,on){lang.mixin(_e22.prototype,{onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_e23.move,lang.hitch(this,"onMouseMove")),on(this.handle,_e23.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.preventDefault();}});_e22.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/store/Observable":function(){define("epi/patch/dojo/store/Observable",["dojo/_base/lang","dojo/_base/Deferred","dojo/_base/array"],function(lang,_e24,_e25){var _e26=function(_e27){var _e28,_e29=[],_e2a=0;_e27=lang.delegate(_e27);_e27.notify=function(_e2b,_e2c){_e2a++;var _e2d=_e29.slice();for(var i=0,l=_e2d.length;i<l;i++){_e2d[i](_e2b,_e2c);}};var _e2e=_e27.query;_e27.query=function(_e2f,_e30){_e30=_e30||{};var _e31=_e2e.apply(this,arguments);if(_e31&&_e31.forEach){var _e32=lang.mixin({},_e30);delete _e32.start;delete _e32.count;var _e33=_e27.queryEngine&&_e27.queryEngine(_e2f,_e32);var _e34=_e2a;var _e35=[],_e36;_e31.observe=function(_e37,_e38){if(_e35.push(_e37)==1){_e29.push(_e36=function(_e39,_e3a){_e24.when(_e31,function(_e3b){if(_e29.indexOf(_e36)===-1){return;}var _e3c=_e3b.length!=_e30.count;var i,l,_e37;if(++_e34!=_e2a){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _e3d,_e3e=-1,_e3f=-1;if(_e3a!==_e28){for(i=0,l=_e3b.length;i<l;i++){var _e40=_e3b[i];if(_e27.getIdentity(_e40)==_e3a){_e3d=_e40;_e3e=i;if(_e33||!_e39){_e3b.splice(i,1);}break;}}}if(_e33){if(_e39&&(_e33.matches?_e33.matches(_e39):_e33([_e39]).length)){var _e41=_e3e>-1?_e3e:_e3b.length;_e3b.splice(_e41,0,_e39);_e3f=_e25.indexOf(_e33(_e3b),_e39);_e3b.splice(_e41,1);if((_e30.start&&_e3f==0)||(!_e3c&&_e3f==_e3b.length)){_e3f=-1;}else{_e3b.splice(_e3f,0,_e39);}}}else{if(_e39){if(_e3a!==_e28){_e3f=_e3e;}else{if(!_e30.start){_e3f=_e27.defaultIndex||0;_e3b.splice(_e3f,0,_e39);}}}}if((_e3e>-1||_e3f>-1)&&(_e38||!_e33||(_e3e!=_e3f))){var _e42=_e35.slice();for(i=0;_e37=_e42[i];i++){_e37(_e39||_e3d,_e3e,_e3f);}}});});}var _e43={};_e43.remove=_e43.cancel=function(){var _e44=_e25.indexOf(_e35,_e37);if(_e44>-1){_e35.splice(_e44,1);if(!_e35.length){_e29.splice(_e25.indexOf(_e29,_e36),1);}}};return _e43;};}return _e31;};var _e45;function _e46(_e47,_e48){var _e49=_e27[_e47];if(_e49){_e27[_e47]=function(_e4a){if(_e45){return _e49.apply(this,arguments);}_e45=true;try{var _e4b=_e49.apply(this,arguments);_e24.when(_e4b,function(_e4c){_e48((typeof _e4c=="object"&&_e4c)||_e4a);});return _e4b;}finally{_e45=false;}};}};_e46("put",function(_e4d){_e27.notify(_e4d,_e27.getIdentity(_e4d));});_e46("add",function(_e4e){_e27.notify(_e4e);});_e46("remove",function(id){_e27.notify(undefined,id);});return _e27;};lang.setObject("dojo.store.Observable",_e26);return _e26;});},"epi/patch/dojo/cldr/nls/nb/gregorian":function(){define("epi/patch/dojo/cldr/nls/nb/gregorian",["dojo/cldr/nls/nb/gregorian","dojo/i18n"],function(_e4f,i18n){_e4f["dateTimeFormat-medium"]="{1} {0}";_e4f["dateTimeFormat-long"]="{1} {0}";_e4f["dateTimeFormat-short"]="{1} {0}";_e4f["dateTimeFormat-full"]="{1} {0}";var _e50="dojo/cldr/nls/gregorian/nb-no";if(i18n.cache[_e50]){i18n.cache[_e50]=_e4f;}});},"epi/assign":function(){define("epi/assign",[],function(){if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function assign(_e51,_e52){"use strict";if(_e51==null){throw new TypeError("Cannot convert undefined or null to object");}var to=Object(_e51);for(var _e53=1;_e53<arguments.length;_e53++){var _e54=arguments[_e53];if(_e54!=null){for(var _e55 in _e54){if(Object.prototype.hasOwnProperty.call(_e54,_e55)){to[_e55]=_e54[_e55];}}}}return to;},writable:true,configurable:true});}return Object.assign;});},"epi/shell/store/Registry":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","epi/shell/store/EventedStore","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Throttle","epi/shell/store/Realtime"],function(_e56,lang,_e57,_e58,_e59,_e5a,_e5b,_e5c){return _e56(null,{constructor:function(_e5d){lang.mixin(this,_e5d);this._stores={};},add:function(name,_e5e){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}return (this._stores[name]=_e5e);},create:function(name,url,_e5f){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}var _e60=new _e57(_e5f),rest=new _e59(lang.mixin({target:url,preventCache:true},_e5f)),_e61=_e5a(_e5b(rest,"get"),_e60),_e62=_e58(_e61),_e63=_e5b(_e62,"query");if(_e5f&&_e5f.realtimeInfo){_e63=_e5c(_e63,_e5f.realtimeInfo);}return (this._stores[name]=_e63);},get:function(name){var _e64=this._stores[name];if(!_e64){throw new Error("No store by the name '"+name+"' exists.");}return _e64;}});});},"epi/shell/store/EventedStore":function(){define(["dojo/Evented","dojo/when"],function(_e65,when){return function(_e66){var _e67=new _e65();_e66.emit=_e67.emit.bind(_e67);_e66.on=_e67.on.bind(_e67);var _e68;function _e69(_e6a,_e6b){var _e6c=_e66[_e6a];if(_e6c){_e66[_e6a]=function(){var args=arguments;if(_e68){return _e6c.apply(this,args);}_e68=true;try{var _e6d=_e6c.apply(this,args);when(_e6d).then(function(_e6e){_e6b(_e6e,args);});return _e6d;}finally{_e68=false;}};}};function _e6f(type){return function(_e70){when(_e70).then(function(_e71){_e66.emit(type,{target:_e71});});return _e70;};};function _e72(type){return function(_e73,args){when(_e73).then(function(){_e66.emit(type,{id:args[0]});});return _e73;};};_e69("add",_e6f("update"));_e69("put",_e6f("update"));_e69("refresh",_e6f("update"));_e69("remove",_e72("delete"));_e69("evict",_e72("delete"));return _e66;};});},"epi/shell/store/Patchable":function(){define(["dojo/_base/lang","dojo/aspect","dojo/Deferred","dojo/promise/all","dojo/store/Cache","dojo/store/Observable","dojo/when","epi/shell/store/storeDelegate"],function(lang,_e74,_e75,all,_e76,_e77,when,_e78){return function(_e79,_e7a,_e7b){var _e7c=_e76(_e79,_e7a,_e7b||{}),_e7d=[];var _e7e=function(_e7f,_e80){if(typeof _e7f!==typeof _e80){console.error("The store was queried with a ["+typeof _e7f+"] but the entity id is a ["+typeof _e80+"]");}};var _e81=function(_e82,_e83){if(typeof _e83=="object"){_e82[_e84.idProperty]=_e83[_e84.idProperty];}else{_e82[_e84.idProperty]=_e83;}};var _e85=function(_e86){if(_e86._cached){_e86._cached=new Date();}else{Object.defineProperty(_e86,"_cached",{value:new Date(),enumerable:false});}return _e86;};var _e87=function(_e88){if(!_e88._cached){return false;}var now=new Date();now.setMinutes(now.getMinutes()-5);return now>_e88._cached;};_e7c.get=function(id,_e89){return when(_e7a.get(id),function(_e8a){if(_e8a){if(_e87(_e8a)){_e7c.evict(id,_e89);_e8a=null;}}return _e8a||when(_e79.get(id,_e89),function(_e8b){if(_e8b){_e7e(id,_e8b[_e79.idProperty]);_e7a.put(_e85(_e8b),{id:id});}return _e8b;});});};_e7c.put=function(_e8c,_e8d){_e7a.remove((_e8d&&_e8d.id)||this.getIdentity(_e8c));return when(_e79.put(_e8c,_e8d),function(_e8e){_e81(_e8c,_e8e);_e7a.put(typeof _e8e=="object"?_e85(_e8e):_e85(_e8c),_e8d);return _e8e;});};_e7c.add=function(_e8f,_e90){return when(_e79.add(_e8f,_e90),function(_e91){_e81(_e8f,_e91);_e7a.add(typeof _e91=="object"?_e85(_e91):_e85(_e8f),_e90);return _e91;});};var _e92=function(obj){return obj&&lang.isObject(obj)&&!lang.isArray(obj)&&!lang.isFunction(obj);};var _e93=function(dest,_e94){var name,s,_e95={};for(name in _e94){s=_e94[name];if(name in dest&&(dest[name]!==s&&(!(name in _e95)||_e95[name]!==s))){if(_e92(s)&&_e92(dest[name])){_e93(dest[name],s);}else{dest[name]=s;}}}return dest;};var _e96=_e77(_e7c);var _e84=_e78(_e96,{getCached:function(id){return _e7a.get(id);},refresh:function(id,_e97){return when(this.evict(id),lang.hitch(this,function(){return when(this.get(id),lang.hitch(this,function(_e98){if(_e98){!_e97&&this.notify(_e98,id);this.updateDependentStores(_e98);!_e97&&this.onItemChanged(id,_e98);}return _e98;}));}));},removeRange:function(ids){var self=this;var _e99=ids.map(function(id){self.evict(id);});var _e9a=all(_e99).then(function(){return when(self.executeMethod("DeleteRange","",ids));});_e9a.then(function(){ids.forEach(function(id){self.notify(undefined,id);});});return _e9a;},patchCache:function(_e9b){if(!_e9b){return;}var id=this.getIdentity(_e9b);return when(this.get(id),lang.hitch(this,function(_e9c){if(_e9c){_e9c=_e93(_e9c,_e9b);when(_e7a.put(_e9c,{overwrite:true}),lang.hitch(this,function(){this.notify(_e9c,id);this.updateDependentStores(_e9b);this.onItemChanged(id,_e9c);}));}return _e9c;}));},addDependentStore:function(_e9d,_e9e){if(!_e9d.patchCache){throw new Error("addDependentStore: The store must implement the patch method.");}_e7d.push({store:_e9d,options:_e9e||{}});},updateDependentStores:function(_e9f){for(var i=_e7d.length-1;i>=0;i--){var _ea0=_e7d[i].store;if(_e7d[i].options.refreshOnPatch){var _ea1=_e7d[i].options.refresh;if(typeof _ea1==="function"){_ea1(_e9f);}else{_ea0.refresh(this.getIdentity(_e9f));}}else{var _ea2=_e7d[i].options.transformDelegate;_ea0.patchCache(typeof _ea2==="function"?_ea2(_e9f):_e9f);}}},onItemChanged:function(id,item){}});return _e84;};});},"epi/shell/store/storeDelegate":function(){define(["dojo/_base/lang","dojo/aspect"],function(lang,_ea3){return function(_ea4,_ea5){var _ea6=lang.delegate(_ea4,_ea5);if((typeof _ea4.notify!=="function")||(typeof _ea5!=="object")){return _ea6;}var _ea7=false;_ea3.before(_ea4,"notify",function(){if(_ea7){return;}_ea7=true;_ea6.notify.apply(_ea6,arguments);_ea7=false;},true);_ea6.notify=function(){if(!_ea7){_ea7=true;_ea4.notify.apply(_ea6,arguments);}_ea7=false;};return _ea6;};});},"epi/shell/store/Realtime":function(){define(["dojo/_base/lang","dojo/aspect","dojo/when","dojo/Deferred","dojo/promise/all","epi/shell/socket/hub","epi/shell/TaskQueue","epi/shell/store/storeDelegate"],function(lang,_ea8,when,_ea9,all,hub,_eaa,_eab){return function(_eac,_ead){if(!_ead||!_ead.subscriptionKey){throw new Error("Realtime functionality can't be added to a store without providing realtimeInfo (i.e subscriptionKey & idProperty of the store)");}var _eae=_eac.idProperty;var _eaf=_eac;function _eb0(){function _eb1(_eb2,_eb3){function _eb4(_eb5){if(!_eb3.modified){return _eaf.refresh(_eb2);}var _eb6=new Date(_eb3.modified).getTime();var _eb7=new Date(_eb5.modified).getTime();if(_eb6!==_eb7){return _eaf.refresh(_eb2);}else{_eaf.notify(_eb5,_eb2);}return true;};return when(_eaf.getCached(_eb2),function(_eb8){if(!_eb8){return _eaf.refresh(_eb2);}else{return _eb4(_eb8);}});};function _eb9(_eba){if(_eba){if(!(_eba instanceof Array)){_eba=[_eba];}var _ebb=_eba.map(function(item){var id=item[_eae];var _ebc=item.action;switch(_ebc){case 1:return _eb1(id,item);case 2:return when(_eaf.getCached(id),function(_ebd){if(_ebd){_eaf.evict(id);_eaf.notify(undefined,id);}});default:return true;}});return all(_ebb);}return true;};var _ebe=new _eaa(_eb9,{throttle:5});hub.subscribe(_ead.subscriptionKey,_ebe.enqueue);this.start=function(){_ebe.start();};this.stop=function(){_ebe.stop();};};var _ebf=new _eb0();var _ec0=function(_ec1,_ec2){return function(){_ebf.stop();var _ec3=when(_ec1[_ec2].apply(_ec1,arguments));_ec3.always(function(){_ebf.start();});return _ec3;};};var _ec4=_eab(_eaf,{add:_ec0(_eac,"add"),put:_ec0(_eac,"put"),remove:_ec0(_eac,"remove"),removeRange:_ec0(_eac,"removeRange")});return _ec4;};});},"epi/shell/socket/hub":function(){define(["epi/routes","./MessageHub","./notificationService","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.socket.connectionmessages"],function(_ec5,_ec6,_ec7,res){var _ec8;function _ec9(_eca){var _ecb=null;if(!_eca.hasBeenConnected&&_eca.lastAttempt){_ecb=res.noconnection;}else{if(_eca.hasBeenConnected){if(_eca.connectionAttempts===3){_ecb=res.reconnect;}if(_eca.lastAttempt){_ecb=res.reconnectfailed;}}}_ecb&&_ec7.show({title:res.title,description:_ecb});};_ec8=new _ec6(function(){return _ec5.getActionPath({moduleArea:"Shell",controller:"socket",action:"endpoint"});});_ec8.subscribe("/epi/socket/connectionfailed",_ec9);return _ec8;});},"epi/shell/socket/MessageHub":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/url","dojo/Evented","dojo/on","./WebSocket"],function(_ecc,lang,Url,_ecd,on,_ece){return _ecc(null,{maxConnectionAttempts:8,reconnectPause:5000,statusTopic:{open:"/epi/socket/open",error:"/epi/socket/error",reconnect:"/epi/socket/reconnect",connectionfailed:"/epi/socket/connectionfailed",message:"/epi/socket/message"},heartbeatInterval:3000,heartbeatMessage:"/epi/heartbeat",_path:null,_eventListeners:null,_topicHub:null,_connectionAttempts:0,_hasBeenConnected:false,_reconnectHandle:null,_heartbeatHandle:null,_outstandingHeartbeats:0,constructor:function(_ecf){this._topicHub=new _ecd();this._socketPathResolver=_ecf;this._eventListeners=[];},start:function(){var _ed0;if(this._socket&&this._socket.readyState!==_ece.CLOSED){return;}_ed0=new _ece(this._resolvePath());this._eventListeners.push(on(_ed0,"error",lang.hitch(this,"_onError")),on(_ed0,"open",lang.hitch(this,"_onOpen")),on(_ed0,"close",lang.hitch(this,"_onClose")),on(_ed0,"message",lang.hitch(this,"_onMessage")));this._socket=_ed0;},stop:function(){if(!this._socket){return;}this._reconnectHandle&&clearTimeout(this._reconnectHandle);this._reconnectHandle=null;this._socket.close();this._socket=null;this._eventListeners.forEach(function(_ed1){_ed1.remove();});this._eventListeners=[];},subscribe:function(_ed2,_ed3){return this._topicHub.on(_ed2,_ed3);},_resolvePath:function(){var base=(document.baseURI||window.location.href).replace(/^http/i,"ws");return new Url(base,this._socketPathResolver());},_publish:function(_ed4,data){this._topicHub.emit(_ed4,data);},_onMessage:function(_ed5){var data;if(_ed5.data&&!this._handleHeartbeat(_ed5.data)){data=JSON.parse(_ed5.data);this._publish(this.statusTopic.message,data);if(data&&data.topic){this._publish(data.topic,data.data);}}},_onError:function(e){if(!this._hasBeenConnected&&this._socket.readyState===_ece.CLOSED){this._connectionAttempts=this.maxConnectionAttempts;}this._publish(this.statusTopic.error,e);},_onOpen:function(e){this._hasBeenConnected=true;this._connectionAttempts=0;this._publish(this.statusTopic.open,e);this._resetHeartbeat();},_onClose:function(e){var _ed6,_ed7=function(_ed8){this._publish(_ed8,{connectionAttempts:this._connectionAttempts,lastAttempt:this._connectionAttempts>=this.maxConnectionAttempts,hasBeenConnected:this._hasBeenConnected});}.bind(this),_ed9=function(){_ed7(this.statusTopic.reconnect);this._reconnectHandle=null;this.stop();this.start();}.bind(this);this._heartbeatHandle&&clearTimeout(this._heartbeatHandle);this._heartbeatHandle=null;if(!this._socket){return;}if(!e.wasClean){this._connectionAttempts++;_ed7(this.statusTopic.connectionfailed);}if(this._connectionAttempts<=this.maxConnectionAttempts){_ed6=this.reconnectPause*Math.pow(this._connectionAttempts,2);this._reconnectHandle=setTimeout(_ed9,_ed6);}},_resetHeartbeat:function(){var _eda=function(){if(this._outstandingHeartbeats>1){this._socket.close();}else{this._outstandingHeartbeats++;this._socket.send(this.heartbeatMessage);this._heartbeatHandle=setTimeout(_eda,this.heartbeatInterval);}}.bind(this);if(this.heartbeatInterval===0){return;}this._outstandingHeartbeats=0;if(this._heartbeatHandle){clearTimeout(this._heartbeatHandle);this._heartbeatHandle=setTimeout(_eda,this.heartbeatInterval);}else{_eda();}},_handleHeartbeat:function(data){this._resetHeartbeat();if(data===this.heartbeatMessage){return true;}}});});},"epi/shell/socket/WebSocket":function(){define(function(){return WebSocket;});},"epi/shell/socket/notificationService":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/shell/widget/dialog/Confirmation"],function(_edb,lang,_edc){var _edd,_ede=_edb([_edc],{getActions:function(){return [{name:this._okButtonName,label:this.buttonOk,title:null,action:lang.hitch(this,this._onCancel)}];}});return {show:function(_edf){_edd&&_edd.hide();_edd=new _ede(_edf);_edd.show();}};});},"epi/shell/TaskQueue":function(){define("epi/shell/TaskQueue",["dojo/_base/lang","dojo/when"],function(lang,when){return function(task,_ee0){if((typeof task!=="function")){throw new Error("TaskQueue can't be created without providing a task processing callback.");}var _ee1=(_ee0&&_ee0.throttle)||0;var _ee2=false;var _ee3=[];var _ee4=true;function _ee5(){if(_ee4&&!_ee2&&_ee3.length>0){_ee2=true;var _ee6=_ee3.shift();when(task(_ee6)).always(function(){_ee2=false;setTimeout(_ee5,_ee1);}).otherwise(function(err){console.error("Something went wrong while running provided function to TaskQueue. "+err);});}};this.start=function(){_ee4=true;_ee5();};this.stop=function(){_ee4=false;};this.enqueue=function(_ee7){if(_ee7){_ee3.push(_ee7);_ee5();}};this.getLength=function(){return _ee3.length;};};});},"epi/shell/widget/Application":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-style","dojo/on","dojo/when","dijit/layout/_LayoutWidget","epi/dependency"],function(_ee8,_ee9,_eea,on,when,_eeb,_eec){return _ee9([_eeb],{_componentController:null,postMixInProperties:function(){this.inherited(arguments);this._componentController=this._componentController||_eec.resolve("epi.shell.controller.Components");},startup:function(){var self=this,_eed;if(this._started){return;}this.inherited(arguments);_eed=[this.containerNode];_eea.set(this.domNode,"visibility","hidden");when(this._componentController.loadComponents(_eed),function(_eee){_ee8.forEach(_eee,function(_eef){self._setupChild(_eef);});self.resize();_eea.set(self.domNode,"visibility","visible");},function(e){console.error(e.stack||e);});},layout:function(){var size=this._contentBox;_ee8.forEach(this.getChildren(),function(_ef0){_ef0.resize&&_ef0.resize(size);});}});});},"epi/shell/ContextHistory":function(){define("epi/shell/ContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/store/Observable","dojo/topic"],function(_ef1,lang,_ef2,_ef3,_ef4){return _ef1(null,{store:null,constructor:function(_ef5){lang.mixin(this,_ef5);this.store=_ef3(this.createStore());},postscript:function(){_ef4.subscribe("/epi/shell/context/changed",lang.hitch(this,this.onContextChanged));},onContextChanged:function(_ef6,_ef7,_ef8){if(this._canExecute(_ef7)){this._updateStore(_ef6);}},createStoreItem:function(_ef9){return {publicUrl:_ef9.publicUrl,id:_ef9.versionAgnosticUri,uri:_ef9.versionAgnosticUri,name:_ef9.name,typeIdentifier:_ef9.dataType,dateAdded:new Date()};},createStore:function(){return new _ef2({data:[],idProperty:"uri"});},_canExecute:function(_efa){return _efa&&_efa.trigger!=="internal";},_updateStore:function(_efb){var _efc=this.createStoreItem(_efb);this.store.put(_efc,{overwrite:true});if(this.store.data.length>100){this.store.data.shift();}}});});},"epi/shell/ViewContextHistory":function(){define("epi/shell/ViewContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/topic","epi/dependency","epi/shell/ViewSettings"],function(_efd,lang,_efe,_eff,_f00,_f01){return _efd([_efe],{profile:null,viewName:null,postscript:function(){this.inherited(arguments);_eff.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));_eff.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"_onContextChangeFailed"));if(!this.profile){this.profile=_f00.resolve("epi.shell.Profile");}if(!this.viewName){this.viewName=_f01.viewName;}},getLastContextForView:function(){return this.get("profile").get(this._getLastContextProfileKey());},_onContextChanged:function(_f02,_f03){return this._setLastContextForView(_f02);},_onContextChangeFailed:function(_f04,_f05){this._setLastContextForView(null);},_setLastContextForView:function(_f06){return this.get("profile").set(this._getLastContextProfileKey(),_f06,{location:"session"});},_getLastContextProfileKey:function(){return "lastContext"+this.get("viewName");}});});},"epi/shell/widget/ComponentController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/_base/lang","dojo/aspect","dojo/has","dojo/promise/all","dojo/when","dojo/store/JsonRest","dojo/store/Memory","dijit/_WidgetBase","epi/dependency","epi/routes","require","epi/shell/ViewSettings","epi/shell/widget/WidgetFactory"],function(_f07,_f08,_f09,lang,_f0a,has,all,when,_f0b,_f0c,_f0d,_f0e,_f0f,_f10,_f11,_f12){return _f08([_f0d],{moduleArea:null,widgetFactory:null,_componentsMemoryStore:null,_componentsStore:null,_componentsSortOrderStore:null,_saveComponentRequestQueue:[],_isSaveComponentRequestInProgress:false,postMixInProperties:function(){var _f13;this.inherited(arguments);this.widgetFactory=this.widgetFactory||_f0e.resolve("epi.shell.widget.WidgetFactory");_f13=_f0e.resolve("epi.storeregistry");this._componentsStore=this._componentsStore||_f13.get("epi.shell.component");this._componentsSortOrderStore=this._componentsSortOrderStore||_f13.get("epi.shell.componentsortorder");this._componentsMemoryStore=new _f0c();this.own(_f0a.after(this.widgetFactory,"onWidgetCreated",lang.hitch(this,this.onComponentCreated),true));},onComponentCreated:function(_f14,_f15){var cd=lang.clone(_f15);cd._widgetId=_f14.get("id");this._componentsMemoryStore.put(cd);},_queryComponentDefinitions:function(_f16){return this._componentsMemoryStore.query(_f16);},_runSaveComponentRequest:function(_f17){var self=this,_f18;if(_f17||!this._isSaveComponentRequestInProgress){this._isSaveComponentRequestInProgress=true;_f18=this._saveComponentRequestQueue.shift();if(_f18){this._componentsStore.executeMethod("save","",_f18.items).then(function(_f19){if(_f18.promise){_f18.promise.resolve(_f19);}self._runSaveComponentRequest(true);},function(_f1a){if(_f18.promise){_f18.promise.reject(_f1a);}self._runSaveComponentRequest(true);});}else{this._isSaveComponentRequestInProgress=false;}}},getComponentDefinition:function(_f1b){return this._queryComponentDefinitions({_widgetId:_f1b})[0];},getComponentDefinitionById:function(id){return this._queryComponentDefinitions({id:id})[0];},getEmptyComponentDefinition:function(_f1c,_f1d){when(this._componentsStore.query({componentTypeName:_f1c}),_f1d);},getComponentsForContainer:function(_f1e){var _f1f=this.getComponentDefinition(_f1e.id).id;return this._componentsStore.query({viewName:_f11.viewName,parentId:_f1f});},getComponentsForView:function(view,_f20){return this._componentsStore.query({viewName:view});},removeComponent:function(_f21){var self=this;return when(this._componentsStore.remove(_f21+"?viewName="+_f11.viewName),function(){self._componentsMemoryStore.remove(_f21);});},saveComponents:function(_f22){_f22=_f22.map(function(_f23){var _f24=lang.clone(_f23);delete _f24["components"];return _f24;});var _f25=new _f09();if(_f22.length<1){_f25.resolve();return _f25.promise;}this._saveComponentRequestQueue.push({items:_f22,promise:_f25});this._runSaveComponentRequest(false);return _f25.promise;},sortComponents:function(_f26,_f27,_f28){var _f29=this.getComponentDefinition(_f26.id).id;when(this._componentsSortOrderStore.put({id:_f29,viewName:_f11.viewName,components:_f27}),_f28);},addComponent:function(_f2a,_f2b,_f2c,_f2d){var _f2e=this.getComponentDefinition(_f2a.id).id;var _f2f=lang.clone(_f2b);delete _f2f["id"];_f2f.parentId=_f2e;_f2f.viewName=_f11.viewName;var self=this;when(this._componentsStore.put(_f2f),function(){if(_f2f.settings["routeData"]){_f2f.settings.routeData.gadgetId=_f2f.id;}if(_f2c){when(self.createComponents([_f2f],_f2a),function(def){if(def){if(typeof _f2d=="function"){_f2d(true,_f2f);}}});}},function(){alert("Error: could not add component");if(typeof _f2d=="function"){_f2d(false,_f2f);}});},loadComponents:function(_f30){var self=this,def=new _f09();if(!(_f30 instanceof Array)){_f30=[_f30];}when(this.getComponentsForView(_f11.viewName),function(data){if(false){var _f31=_f10.timedGroup("ComponentController::loadComponents");}var _f32=self._convertListToHierarchyByMatchingParent(data,"id","parentId","components");when(self.createComponents(_f32,_f30),function(_f33){if(false){_f31.end();}def.resolve(_f33);},function(e){console.error(e.stack||e);def.reject(e);});},function(){def.reject();});return def;},_convertListToHierarchyByMatchingParent:function(_f34,_f35,_f36,_f37){var map={};var _f38=[];_f07.forEach(_f34,function(item){var id=item[_f35];map[id]=item;});_f07.forEach(_f34,function(item){var _f39;var _f3a=item[_f36];if(!(_f37 in item)){item[_f37]=[];}_f39=map[_f3a];if(!_f39||_f39===item){if(_f07.indexOf(_f38,item)<0){_f38.push(item);}}else{if(!_f39[_f37]){_f39[_f37]=[];}_f39[_f37].push(item);}});return _f38;},createComponents:function(data,_f3b){var _f3c=this.widgetFactory,_f3d=data,_f3e,node;if(_f3d instanceof Array&&_f3d.length>0){if(_f3d[0] instanceof Array){var _f3f=[];for(var i=0;i<_f3d.length;i++){_f3e=_f3d[i];_f3f.push(_f3c.createWidgets(_f3b[i],_f3e));}return all(_f3f);}else{node=_f3b;if(node instanceof Array){node=node[0];}return _f3c.createWidgets(node,_f3d);}}return [];}});});},"epi/shell/command/GlobalCommandRegistry":function(){define(["dojo/_base/declare","epi/shell/command/CommandRegistryItem"],function(_f40,_f41){return _f40(null,{_mappings:null,constructor:function(_f42){this._mappings={};},registerProvider:function(key,_f43){var _f44=this._mappings[key];if(!_f44){_f44=new _f41();this._mappings[key]=_f44;}_f44.add("providers",_f43);return {unregister:function(){_f44.remove("providers",_f43);}};},get:function(key,_f45){var _f46=this._mappings[key];if(_f45&&!_f46){_f46=new _f41();this._mappings[key]=_f46;}return _f46;}});});},"epi/shell/command/CommandRegistryItem":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(_f47,_f48,_f49){return _f48([_f49],{providers:null,constructor:function(){this.providers=this.providers||[];}});});},"epi/shell/StatefulArray":function(){define("epi/shell/StatefulArray",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(_f4a,_f4b,lang,_f4c){return _f4b([_f4c],{add:function(name,_f4d){var _f4e,_f4f=this[name];if(!lang.isArray(_f4f)){throw name+" is not of type Array.";}_f4e=_f4f.push(_f4d);if(this._watchCallbacks){this._watchCallbacks(name,null,lang.isArray(_f4d)?_f4d:[_f4d]);}return _f4e;},remove:function(name,_f50){var _f51,_f52,_f53=this[name];if(!lang.isArray(_f53)){throw name+" is not of type Array.";}_f51=_f4a.indexOf(_f53,_f50);if(_f51>=0){_f52=_f53.splice(_f51,1);if(this._watchCallbacks){this._watchCallbacks(name,_f52,null);}return _f52;}}});});},"epi/shell/dnd/Avatar":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojo/dnd/common","dojox/html/entities"],function(_f54,win,_f55,_f56,_f57,_f58,_f59,_f5a){return _f54(null,{constructor:function(_f5b){this.manager=_f5b;this.construct();},construct:function(){this.isA11y=_f55.contains(win.body(),"dijit_a11y");var a=_f56.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_f5c=this.manager.source,node,_f5d=_f56.create("tbody",null,a),_f5e=_f56.create("tr",null,_f5d),_f5f=_f56.create("td",null,_f5e),k=Math.min(5,this.manager.nodes.length),i=0,_f60=_f56.create("div",null,_f5f),div=_f56.create("div",null,_f60),_f61=_f56.create("div",null,_f60),_f62=_f56.create("table",null,div),b=_f56.create("tbody",null,_f62);_f57.set(_f60,"class","epi-DndAvatarContainer");_f57.set(_f61,"class","epi-DndAvatarOverlay");_f57.set(_f62,"style",{width:"100%"});for(;i<k;++i){if(_f5c.creator){var _f63=_f5c.getItem(this.manager.nodes[i].id).data;var _f64=_f5c._normalizedCreator(_f63,"avatar").node;var name=_f63.get?_f63.get("name"):_f63.name;if(typeof name==="string"){_f64.innerHTML=_f5a.encode(name);}else{if(typeof _f63==="string"){_f64.innerHTML=_f5a.encode(_f63);}}node=_f64;}else{node=this.manager.nodes[i].cloneNode(true);if(node.id){var _f65=_f58.byId(node.id);if(_f65&&_f65.item&&_f65.item.name){node.innerHTML=_f5a.encode(_f65.item.name);}}if(node.tagName.toLowerCase()==="tr"){var _f66=_f56.create("table"),_f67=_f56.create("tbody",null,_f66);_f67.appendChild(node);node=_f66;}}node.id="";var tr=_f56.create("tr",null,b);var td=_f56.create("td",null,tr);td.appendChild(node);_f57.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}a.style.cursor="move";this.node=a;},destroy:function(){_f56.destroy(this.node);this.node=false;},update:function(){_f55.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);}});});},"epi/shell/StickyViewSelector":function(){define("epi/shell/StickyViewSelector",["epi/dependency","dojo/Deferred","dojo/when","epi/shell/TypeDescriptorManager"],function(_f68,_f69,when,_f6a){var _f6b="_savedView";var _f6c=false;function _f6d(_f6e,_f6f){this._profile=_f6e||_f68.resolve("epi.shell.Profile");this._typeDescriptorManager=_f6f||_f6a;};_f6d.prototype.get=function(_f70,_f71){if(!_f6c){return null;}var def=new _f69();when(this._profile.get(_f6b)).then(function(_f72){if(!_f72){def.resolve(null);return;}if(!this._isViewAvailable(_f70,_f71,_f72)){def.resolve(null);return;}def.resolve(_f72);}.bind(this));return def.promise;};_f6d.prototype.save=function(_f73,_f74,_f75){if(!_f6c){return null;}if(!this._isViewAvailable(_f73,_f74,_f75)){return null;}return this._profile.set(_f6b,_f75);};_f6d.prototype._isViewAvailable=function(_f76,_f77,_f78){if(_f78==="onpageedit"&&!_f76){return false;}var _f79=this._typeDescriptorManager.getValue(_f77,"enableStickyView");if(!_f79){return false;}var _f7a=this._getAvailableViews(_f77);if(_f7a.indexOf(_f78)===-1){return false;}return true;};_f6d.prototype._getAvailableViews=function(_f7b){var _f7c=this._typeDescriptorManager.getAndConcatenateValues(_f7b,"availableViews");if(!_f7c||_f7c.length===0){return [];}var _f7d=this._typeDescriptorManager.getValue(_f7b,"disabledViews");var _f7e;if(_f7d){_f7e=_f7c.filter(function(_f7f){return _f7d.every(function(_f80){return _f7f.key!==_f80;});});}else{_f7e=_f7c;}return _f7e.map(function(v){return v.key;});};_f6d.enable=function(){_f6c=true;};_f6d.disable=function(){_f6c=false;};return _f6d;});},"epi/shell/customFocusIndicator":function(){define("epi/shell/customFocusIndicator",["dojo/_base/window","dojo/dom-class","dojo/on","dojo/domReady!"],function(win,_f81,on){var body=win.body();var _f82=function(){_f81.add(body,"epi-mouse-focus");_f81.remove(body,"epi-keyboard-focus");};var _f83=function(){_f81.remove(body,"epi-mouse-focus");_f81.add(body,"epi-keyboard-focus");};_f81.add(body,"epi-mouse-focus");on(body,"mousedown",_f82);on(body,"mouseup",_f82);on(body,"keydown",_f83);on(body,"keyup",_f83);});},"epi/shell/UndoManager":function(){define("epi/shell/UndoManager",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(_f84,lang,_f85){return _f84(_f85,{maxSteps:10,hasUndoSteps:false,hasRedoSteps:false,_undoStack:null,_redoStack:null,_isUndoing:false,_isRedoing:false,constructor:function(){this._undoStack=[];this._redoStack=[];},createStep:function(_f86,_f87,_f88,_f89){var fn=_f87;if(typeof _f87=="string"){fn=_f86[_f87];}if(typeof fn!="function"){throw ("No such callback function");}var _f8a={context:_f86,callback:fn,parameters:lang.isArray(_f88)?_f88:[_f88],description:_f89};if(!_f8a.context&&typeof _f8a.callback==="string"){throw ("Context object is needed to find the callback");}var _f8b=this._isUndoing?this._redoStack:this._undoStack;if(!this._isUndoing&&!this._isRedoing){this._redoStack.splice(0,this._redoStack.length);}_f8b.push(_f8a);if(this.maxSteps>0&&this._undoStack.length>this.maxSteps){this._undoStack.shift();}this._updateFlags();},undo:function(){if(this._undoStack.length===0){return;}this._isUndoing=true;var _f8c=this._undoStack.pop();_f8c.callback.apply(_f8c.context,_f8c.parameters);this._updateFlags();this._isUndoing=false;},redo:function(){if(this._redoStack.length===0){return;}this._isRedoing=true;var _f8d=this._redoStack.pop();_f8d.callback.apply(_f8d.context,_f8d.parameters);this._updateFlags();this._isRedoing=false;},_updateFlags:function(){this.set("hasUndoSteps",this._undoStack.length>0);this.set("hasRedoSteps",this._redoStack.length>0);},clear:function(){this._undoStack=[];this._redoStack=[];this._updateFlags();}});});},"epi/shell/widget/_ActionProviderWidget":function(){define(["epi","dojo","dijit","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider"],function(epi,dojo,_f8e,_f8f,_f90){return dojo.declare([_f90],{_enclosingConsumer:null,startup:function(){this.inherited(arguments);this._registerSelf();},destroy:function(){this._unregisterSelf();this.inherited(arguments);},_registerSelf:function(){this._enclosingConsumer=this._getEnclosingActionConsumer();if(this._enclosingConsumer!==null){this._enclosingConsumer.addProvider(this);}},_unregisterSelf:function(){if(this._enclosingConsumer!==null){this._enclosingConsumer.removeProvider(this);}},_getEnclosingActionConsumer:function(){var node=this.domNode.parentNode;while(node!==null){var _f91=_f8e.getEnclosingWidget(node);if(!_f91){return null;}if(_f91.isInstanceOf(_f8f)){return _f91;}node=_f91.domNode.parentNode;}return null;}});});},"epi/shell/widget/_TabButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-style","dojo/has","dojo/keys","dijit/focus","dijit/_WidgetsInTemplateMixin","dijit/form/_TextBoxMixin","dijit/layout/TabController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_f92,_f93,dom,_f94,has,keys,_f95,_f96,_f97,_f98,_f99,_f9a,res){return _f93([_f98.TabButton,_f96],{res:res,editing:false,tabCurrentName:"",templateString:_f9a,buildRendering:function(){this.inherited(arguments);this.label=this.page.personalizableHeading||this.page.heading||this.page.title||this.title||this.res.newtabname;_f92.forEach(this.menuLayout.getChildren(),function(_f9b){_f9b.connect(_f9b,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_f9c){if(_f9c){_f92.forEach(this.getParent().getChildren(),function(_f9d){_f9d.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(evt){},onTabTitleChanged:function(_f9e){},onMenuButton:function(evt){evt.stopPropagation();},onRenameMenuItem:function(evt){var _f9f=_f99.decode(this.tabName.innerHTML);if(_f9f){this._lastNonEmptyValue=_f9f;}this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_fa0){_f94.set(this.nodeOptions.domNode,"display",_fa0?"":"none");},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_lastNonEmptyValue:null,_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=keys;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._saveTabTitleChanges(true);break;case k.ENTER:this._saveTabTitleChanges(false);break;}},_setTabTitleEditable:function(_fa1,text){this.editing=_fa1;dom.setSelectable(this.focusNode,_fa1);if(_fa1){_f94.set(this.tabName,"display","none");_f94.set(this.editBox,"display","");if(text){this.editBox.value=text;}else{this.editBox.value=_f99.decode(this.tabName.innerHTML);}_f97.selectInputText(this.editBox);_f95.focus(this.editBox);}else{_f94.set(this.editBox,"display","none");_f94.set(this.tabName,"display","");this.editBox.value="";if(has("ie")){_f94.set(this.domNode,"zoom","1");_f94.set(this.domNode,"zoom","");}_f95.focus(this.focusNode);}},_saveTabTitleChanges:function(_fa2){var _fa3=this.editBox.value;if(_fa2){_fa3=this._lastNonEmptyValue;}this.tabName.innerHTML=_f99.encode(_fa3);this.onTabTitleChanged(_fa3);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_fa4,_fa5,_fa6){this.tabName.innerHTML=_f99.encode(_fa5);},_setCloseButtonAttr:function(disp){_f94.set(this.closeNode,"display","none");},_setLabelAttr:function(_fa7){this.tabName.innerHTML=_f99.encode(_fa7);}});});},"dijit/layout/TabController":function(){require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n"}});define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_fa8,dom,_fa9,_faa,i18n,lang,_fab,_fac,Menu,_fad,_fae){var _faf=_fa8("dijit.layout._TabButton",_fab.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_fae,scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_faa.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _fb0=i18n.getLocalization("dijit","common");if(this.closeNode){_fa9.set(this.closeNode,"title",_fb0.itemClose);}}},_setDisabledAttr:function(_fb1){this.inherited(arguments);if(this.closeNode){if(_fb1){_fa9.remove(this.closeNode,"title");}else{var _fb2=i18n.getLocalization("dijit","common");_fa9.set(this.closeNode,"title",_fb2.itemClose);}}},_setLabelAttr:function(_fb3){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});var _fb4=_fa8("dijit.layout.TabController",_fab,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:_faf,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _fb5=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _faa.contains(node,"dijitClosable")&&!_faa.contains(node,"dijitTabDisabled");}});this.own(_fb5);var _fb6=i18n.getLocalization("dijit","common"),_fb7=this;_fb5.addChild(new _fad({label:_fb6.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _fb8=_fac.byNode(this.getParent().currentTarget);_fb7.onCloseButtonClick(_fb8.page);}}));}});_fb4.TabButton=_faf;return _fb4;});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_fb9,_fba,_fbb,_fbc,keys,lang,on,_fbd,_fbe,_fbf,_fc0,_fc1,_fc2){var _fc3=_fba("dijit.layout._StackButton",_fc2,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _fc4=_fba("dijit.layout.StackController",[_fbf,_fc0,_fc1],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_fc3,buttonWidgetCloseClass:"dijitStackCloseButton",constructor:function(_fc5){this.pane2button={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");this.connect(this.containerNode,"click",function(evt){var _fc6=_fbe.getEnclosingWidget(evt.target);if(_fc6!=this.containerNode&&!_fc6.disabled&&_fc6.page){for(var _fc7=evt.target;_fc7!==this.containerNode;_fc7=_fc7.parentNode){if(_fbb.contains(_fc7,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_fc6.page);break;}else{if(_fc7==_fc6.domNode){this.onButtonClick(_fc6.page);break;}}}}});},onStartup:function(info){_fb9.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _fc8=_fbe.byId(this.containerId).containerNode,_fc9=this.pane2button,_fca={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled"},_fcb=function(attr,_fcc){return on(_fc8,"attrmodified-"+attr,function(evt){var _fcd=_fc9[evt.detail&&evt.detail.widget&&evt.detail.widget.id];if(_fcd){_fcd.set(_fcc,evt.detail.newValue);}});};for(var attr in _fca){this.own(_fcb(attr,_fca[attr]));}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_fbe.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_fce){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _fcf=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_fcf,_fce);this.pane2button[page.id]=_fcf;page.controlButton=_fcf;if(!this._currentChild){this.onSelectChild(page);}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _fd0=this.pane2button[page.id];if(_fd0){this.removeChild(_fd0);delete this.pane2button[page.id];_fd0.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _fd1=this.pane2button[this._currentChild.id];_fd1.set("checked",false);_fd1.focusNode.setAttribute("tabIndex","-1");}var _fd2=this.pane2button[page.id];_fd2.set("checked",true);this._currentChild=page;_fd2.focusNode.setAttribute("tabIndex","0");var _fd3=_fbe.byId(this.containerId);},onButtonClick:function(page){var _fd4=this.pane2button[page.id];_fbd.focus(_fd4.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_fd4.set("checked",true);}var _fd5=_fbe.byId(this.containerId);_fd5.selectChild(page);},onCloseButtonClick:function(page){var _fd6=_fbe.byId(this.containerId);_fd6.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_fbd.focus(b.focusNode||b.domNode);}}},adjacent:function(_fd7){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_fd7=!_fd7;}var _fd8=this.getChildren();var idx=_fb9.indexOf(_fd8,this.pane2button[this._currentChild.id]),_fd9=_fd8[idx];var _fda;do{idx=(idx+(_fd7?1:_fd8.length-1))%_fd8.length;_fda=_fd8[idx];}while(_fda.disabled&&_fda!=_fd9);return _fda;},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _fdb=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_fdb=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_fdb=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_fdb=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_fdb=true;}break;case keys.HOME:var _fdc=this.getChildren();for(var idx=0;idx<_fdc.length;idx++){var _fdd=_fdc[idx];if(!_fdd.disabled){this.onButtonClick(_fdd.page);break;}}_fbc.stop(e);break;case keys.END:var _fdc=this.getChildren();for(var idx=_fdc.length-1;idx>=0;idx--){var _fdd=_fdc[idx];if(!_fdd.disabled){this.onButtonClick(_fdd.page);break;}}_fbc.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_fbc.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.onButtonClick(this.adjacent(!e.shiftKey).page);_fbc.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_fbc.stop(e);}}}}if(_fdb!==null){this.onButtonClick(this.adjacent(_fdb).page);_fbc.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_fc4.StackButton=_fc3;return _fc4;});},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:epi/shell/widget/templates/_TabButton.htm":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <span class=\"tabLabel\" data-dojo-attach-point=\"tabName,containerNode,focusNode\"></span>\r\n    <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" data-dojo-attach-point=\"editBox\" data-dojo-attach-event=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\" />\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>\r\n    </span>\r\n    <span class=\"dijitInline\" role=\"presentation\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-attach-point=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" data-dojo-attach-event=\"onMouseDown: onMenuButton\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"dropDown\">\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-event=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                <div data-dojo-type=\"dijit/PopupMenuItem\">\r\n                    <span>${res.menuitemlayout}</span>\r\n                    <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"menuLayout\">\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" data-dojo-props=\"column: 1\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" data-dojo-props=\"column: 2\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" data-dojo-props=\"column: 3\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                    </div>\r\n                </div>\r\n                <div data-dojo-type=\"dijit/MenuSeparator\"></div>\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-point=\"closeTabMenuItem\" data-dojo-attach-event=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</div>","epi/shell/widget/ApplicationContentPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","./Application"],function(_fde,_fdf,_fe0){return _fde([_fdf,_fe0],{});});},"epi/shell/widget/CheckBox":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/CheckBox"],function(_fe1,_fe2,_fe3,_fe4){return _fe1([_fe2,_fe3,_fe4],{templateString:"<div class=\"dijit dijitReset dijitInline\"><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"checkbox\" data-dojo-attach-event=\"onChange: _onChange\"></div>",value:null,_setValueAttr:function(_fe5){this.value=_fe5;this.checkbox.set("checked",!!_fe5);},_setReadOnlyAttr:function(_fe6){this.checkbox.set("readOnly",_fe6);},_getReadOnlyAttr:function(){return this.checkbox.set("readOnly");},_getValueAttr:function(){return this.checkbox.get("checked");},_onChange:function(_fe7){this.value=_fe7;this.onChange(_fe7);},onChange:function(_fe8){},focus:function(){this.checkbox.focus();}});});},"epi/shell/widget/layout/ComponentContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/when","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojox/layout/GridContainer","dojox/layout/GridContainerLite","dijit/focus","dijit/registry","epi/dependency","epi/shell/widget/_ActionProvider","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/layout/_ComponentWrapper","epi/shell/widget/layout/ComponentTabContainer","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources"],function(_fe9,_fea,lang,_feb,when,_fec,_fed,_fee,_fef,_ff0,_ff1,_ff2,_ff3,_ff4,_ff5,_ff6,_ff7,_ff8){return _fea([_fef,_ff4],{containerUnlocked:false,isAutoOrganized:false,baseClass:"epi-componentContainer",numberOfColumns:1,hasResizableColumns:false,_componentSelectorDialog:null,_componentsController:null,postMixInProperties:function(){this.inherited(arguments);this.nbZones=this.numberOfColumns;this._componentsController=this._componentsController||_ff3.resolve("epi.shell.controller.Components");},resizeChildAfterDrop:function(node,_ff9,_ffa){this.inherited(arguments);if(_ff2.getEnclosingWidget(_ff9.node)===this){this._onDndDrop();}},_persistComponentSettings:function(){var _ffb=[];this.getChildren().forEach(function(_ffc){var _ffd=this._componentsController.getComponentDefinitionById(_ffc.componentId);_ffd.settings=lang.mixin(_ffd.settings,_ffc.get("settings"));_ffd.settings.column=_ffc.get("column");_ffb.push(_ffd);},this);this._componentsController.saveComponents(_ffb);},buildRendering:function(){this.inherited(arguments);this.acceptTypes=[this.id];},postCreate:function(){this.inherited(arguments);this._setupDragManager();this.containerNode.removeAttribute("id");},_setupDragManager:function(){_feb.before(this._dragManager,"_searchDragHandle",function(node){if(node&&_fec.contains(node,"dojoxDragHandle")){return node;}});},startup:function(){if(this._started){return;}this.inherited(arguments);this.changeLockButtonState(false);},onShow:function(){if(this._disabled&&this.containerUnlocked){this.enableDnd();}},layout:function(){this._containerSize={h:this._contentBox.h-this._border.h,w:this._contentBox.w-this._border.w};this.layoutComponents();if(this.doLayout){_fed.setContentSize(this.containerNode,{h:this._contentBox.h-this._border.h});_fed.setContentSize(this.domNode,{w:this._contentBox.w-this._border.w});}},layoutComponents:function(){var _ffe=_fed.getContentBox(this.gridContainerDiv);var _fff={w:_ffe.w/this.numberOfColumns};_fe9.forEach(this.getChildren(),function(_1000){if(_1000.resize&&lang.isFunction(_1000.resize)){_1000.resize(_fff);}});},_layoutChildren:function(child,_1001,_1002){child.resize({h:_1001});if(_1002){child.set("lastOpenHeight",_1001);this.layoutComponents();this._persistComponentSettings();}},addComponent:function(_1003){this._componentSelectorDialog.hide();this._componentsController.addComponent(this,_1003,true,lang.hitch(this,function(){this.layoutComponents();}));},_selectFocus:function(){var _1004=_ff1.curNode;if(_1004===null||_1004.parentNode===null){return;}this.inherited(arguments);},addChild:function(child,_1005){var _1006,_1007=this._componentsController.getComponentDefinitionById(child.componentId),id=_1007?_1007.id:child.componentId,_1008=this.containerUnlocked,_1009={componentId:id,dndType:this.id,isRemovable:_1007?_1007.settings.isRemovable:child.params.isRemovable,minHeight:child.get("minHeight")||200,maxHeight:child.get("maxHeight")||Infinity,dragRestriction:!_1008,closable:_1008,heading:child.get("heading"),container:this},_100a=lang.mixin(_1009,_1007.settings);if(!child.isInstanceOf(_ff6)&&!child.isInstanceOf(_ff7)){_1006=new _ff6(_100a);_1006.addChild(child);}else{_1006=child;for(var _100b in _100a){_1006.set(_100b,_1009[_100b]);}}this.connect(_1006,"onClosed",lang.hitch(this,this._gadgetClosed,_1006));this._connect(_1006.on("toggle",lang.hitch(this,function(){this._componentToggle(_1006);})));if(_1005>=this.numberOfColumns){_1005=this.numberOfColumns-1;}var _100c=this.inherited(arguments,[_1006,_1005]);if(_1008&&lang.isFunction(_100c.disableResize)){_100c.disableResize();}this._onCompontentsChanged();return _100c;},_componentToggle:function(_100d){_100d.resize();this.layoutComponents();this._persistComponentSettings();},_gadgetClosed:function(_100e){var _100f=_100e.componentId;when(this._componentsController.removeComponent(_100f),lang.hitch(this,function(){_100e.destroyRecursive();this._onCompontentsChanged();this._persistComponentSettings();this.layoutComponents();}));},_onCompontentsChanged:function(){this.layoutComponents();},showComponentSelector:function(){if(this._componentSelectorDialog===null){this._componentSelectorDialog=new _ff5();this.own(this._componentSelectorDialog);this.connect(this._componentSelectorDialog,"onComponentSelected",this.addComponent);}this._componentSelectorDialog.show();},changeLockButtonState:function(_1010){this.containerUnlocked=_1010;_fe9.forEach(this.getChildren(),lang.hitch(this,function(child){child.set("dragRestriction",!_1010);child.set("closable",_1010);}));this.containerUnlocked?this.enableDnd():this.disableDnd();},_saveComponentOrder:function(_1011,_1012){var _1013=_fe9.map(_1011,function(_1014){return {id:_1014.componentId,column:_1014.get("column")};});this._componentsController.sortComponents(this,_1013,_1012);},_onDndDrop:function(){var _1015=this.getChildren();this._saveComponentOrder(_1015);this._onCompontentsChanged();this.layoutComponents();},_reloadGadgets:function(){var _1016=this.getChildren();var _1017=_1016.length;var self=this;_fe9.forEach(_1016,function(_1018){self.removeChild(_1018);self.addChild(_1018,_1018.get("column"),_1017);});this._onCompontentsChanged();},_reloadContainer:function(_1019,_101a){this.numberOfColumns=_101a;if(_1019){this._reloadGadgets();}},setColumns:function(_101b){var _101c=this.getChildren();if(_101c.length<=0){this._reloadContainer(false,_101b);}else{_fe9.forEach(_101c,function(_101d){if(_101d.column>=_101b){_101d.set("column",_101b-1);}});this._saveComponentOrder(_101c,lang.hitch(this,function(_101e){this._reloadContainer(_101e,_101b);}));}this.inherited(arguments);this.resize();},_organizeChildrenManually:function(){var _101f=_ff0.superclass.getChildren.call(this),_1020=_101f.length,child;for(var i=0;i<_1020;i++){child=_101f[i];try{this._insertChild(child,child.column);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_connect:function(_1021){this._connects.push(_1021);},getActions:function(){var self=this,_1022=this.inherited(arguments),_1023={parent:"settings",name:"addGadgets",label:_ff8.componentselection.addgadgetstitle,type:"menuitem",action:lang.hitch(this,this.showComponentSelector)},_1024={parent:"settings",name:"rearrangeGadgets",label:_ff8.componentselection.rearrangegadgets,type:"checkedmenuitem",action:function(){lang.hitch(this,self.changeLockButtonState(this.checked));}};_1022.splice(_1022.length,0,_1023);_1022.splice(_1022.length,0,_1024);return _1022;}});});},"dojox/layout/GridContainer":function(){define("dojox/layout/GridContainer",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo,_1025,array,_1026,has,_1027,_1028,geom,_1029,lang,win,ready,_102a){return _1025("dojox.layout.GridContainer",_102a,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){ready(lang.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_102b,_102c){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(index){var _102d=this._grid[index],grip=_1029.create("div",{"class":"gridContainerGrip"},this.domNode);_102d.grip=grip;_102d.gripHandler=[this.connect(grip,"onmouseover",function(e){var _102e=false;for(var i=0;i<this._grid.length-1;i++){if(_1027.contains(this._grid[i].grip,"gridContainerGripShow")){_102e=true;break;}}if(!_102e){_1027.replace(e.target,"gridContainerGripShow","gridContainerGrip");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){_1027.replace(e.target,"gridContainerGrip","gridContainerGripShow");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _102f,_1030,left=0,grip;array.forEach(this._grid,function(_1031){if(_1031.grip){grip=_1031.grip;if(!_102f){_102f=grip.offsetWidth/2;}left+=geom.getMarginBox(_1031.node).w;_1028.set(grip,"left",(left-_102f)+"px");if(!_1030){_1030=geom.getContentBox(this.gridNode).h;}if(_1030>0){_1028.set(grip,"height",_1030+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();win.body().style.cursor="ew-resize";this._isResized=true;var _1032=[];var grid;var i;for(i=0;i<this._grid.length;i++){_1032[i]=geom.getContentBox(this._grid[i].node).w;}this._oldTabSize=_1032;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_1032[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_1032[i+1];}grid.node.style.width=_1032[i]+"px";}var _1033=function(_1034,_1035){var width=0;var _1036=0;array.forEach(_1034,function(child){if(child.nodeType==1){var _1037=_1028.getComputedStyle(child);var _1038=(has("ie"))?_1035:parseInt(_1037.minWidth);_1036=_1038+parseInt(_1037.marginLeft)+parseInt(_1037.marginRight);if(width<_1036){width=_1036;}}});return width;};var _1039=_1033(this._currentColumn.childNodes,this.minChildWidth);var _103a=_1033(this._nextColumn.childNodes,this.minChildWidth);var _103b=Math.round((geom.getMarginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_1039;this._nextMinCol=_103a;if(_103b>this._currentMinCol){this._currentMinCol=_103b;}if(_103b>this._nextMinCol){this._nextMinCol=_103b;}this._connectResizeColumnMove=_1026.connect(win.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=_1026.connect(win.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){win.body().style.cursor="default";_1026.disconnect(this._connectResizeColumnMove);_1026.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){_1027.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){_1026.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=_1026.connect(win.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){win.body().style.cursor="default";_1026.disconnect(this._connectResizeColumnMove);_1026.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _103c=[],_103d=[],_103e=this.gridContainerTable.clientWidth,node,_103f=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(has("ie")){_103c[i]=geom.getMarginBox(node).w;_103d[i]=geom.getContentBox(node).w;}else{_103c[i]=geom.getContentBox(node).w;_103d=_103c;}}for(i=0;i<_103d.length;i++){if(_103d[i]!=this._oldTabSize[i]){_103f=true;break;}}if(_103f){var mul=has("ie")?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_103c[i])/_103e)/mul+"%";}this.resize();}if(this._activeGrip){_1027.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},setColumns:function(_1040){var z,j;if(_1040>0){var _1041=this._grid.length,delta=_1041-_1040;if(delta>0){var count=[],zone,start,end,_1042;if(this.mode=="right"){end=(this.isLeftFixed&&_1041>0)?1:0;start=(this.isRightFixed)?_1041-2:_1041-1;for(z=start;z>=end;z--){_1042=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_1042++;break;}}if(_1042==0){count[count.length]=z;}if(count.length>=delta){this._deleteColumn(count);break;}}if(count.length<delta){_1026.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{start=(this.isLeftFixed&&_1041>0)?1:0;end=(this.isRightFixed)?_1041-1:_1041;for(z=start;z<end;z++){_1042=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_1042++;break;}}if(_1042==0){count[count.length]=z;}if(count.length>=delta){this._deleteColumn(count);break;}}if(count.length<delta){_1026.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(delta<0){this._addColumn(Math.abs(delta));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_1043){var grid=this._grid,_1044,node,index,_1045,_1046=(this.mode=="right"),_1047=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_1046)||(this.isLeftFixed&&!_1046&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_1043;i++){node=_1029.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_1047,"id":this.id+"_dz"+this.nbZones});_1045=grid.length;if(_1046){if(this.isRightFixed){index=_1045-1;grid.splice(index,0,{"node":grid[index].node.parentNode.insertBefore(node,grid[index].node)});}else{index=_1045;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){index=(_1045==1)?0:1;this._grid.splice(1,0,{"node":this._grid[index].node.parentNode.appendChild(node,this._grid[index].node)});index=1;}else{index=_1045-this.nbZones;this._grid.splice(index,0,{"node":grid[index].node.parentNode.insertBefore(node,grid[index].node)});}}if(this.hasResizableColumns){if((!_1046&&this.nbZones!=1)||(!_1046&&this.nbZones==1&&!this.isLeftFixed)||(_1046&&i<_1043-1)||(_1046&&i==_1043-1&&this.isRightFixed)){this._createGrip(index);}}m.registerByNode(grid[index].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_1048){var child,grid,index,_1049=0,_104a=_1048.length,m=this._dragManager;for(var i=0;i<_104a;i++){index=(this.mode=="right")?_1048[i]:_1048[i]-_1049;grid=this._grid[index];if(this.hasResizableColumns&&grid.grip){array.forEach(grid.gripHandler,function(_104b){_1026.disconnect(_104b);});_1029.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);_1029.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(index,1);this.nbZones--;_1049++;}var _104c=this._grid[this.nbZones-1];if(_104c.grip){array.forEach(_104c.gripHandler,_1026.disconnect);_1029.destroy(this.domNode.removeChild(_104c.grip));_104c.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_104d){this.inherited(arguments);_104d._dropMode.updateAreas(_104d._areaList);},destroy:function(){_1026.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"epi/shell/widget/ComponentSelectorDialog":function(){define(["epi","dojo/_base/declare","dojo/dom-style","dijit/Dialog","epi/shell/widget/ComponentSelector","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_104e,_104f,_1050,_1051,res){return _104e([_1050],{_componentSelector:null,autofocus:false,size:{width:"650px",height:""},res:res,onComponentSelected:function(){},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=epi.resources.action.close;},postCreate:function(){this.inherited(arguments);this.set("title",this.res.dialogtitle);_104f.set(this.domNode,this.size);},show:function(){this.inherited(arguments);this._ensureComponentSelectorCreated();this._componentSelector.show();},_ensureComponentSelectorCreated:function(){if(this._componentSelector){return;}this._contentSetterParams={parseContent:false};this._componentSelector=new _1051();this.own(this._componentSelector);this.set("content",this._componentSelector);this.connect(this._componentSelector,"onComponentSelected",this.onComponentSelected);}});});},"epi/shell/widget/ComponentSelector":function(){define(["epi","dojo/_base/declare","dojo/_base/Deferred","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dgrid/OnDemandGrid","dgrid/Selection","dgrid/Keyboard","dgrid/extensions/DijitRegistry","dijit/_Contained","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/MenuItem","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/Button","dijit/form/TextBox","dojo/store/Memory","epi/routes","epi/dependency","epi/shell/ViewSettings","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_1052,_1053,keys,array,lang,_1054,_1055,_1056,_1057,_1058,_1059,_105a,_105b,_105c,_105d,_105e,_105f,_1060,_1061,_1062,_1063,_1064,_1065,res){var _1066=_1052([_105a,_105b,_105c,_1059],{templateString:"            <div>            <div class=\"dijitDialogPaneToolBar clearfix\">                    <div class=\"dijitDialogPaneLeading\">                    </div>                    <div class=\"dijitDialogPaneTrailing\">                        <input data-dojo-type=\"dijit/form/TextBox\" dojoAttachPoint=\"searchBox\" dojoAttachEvent=\"onKeyUp: _onSearchBoxChange\" placeHolder=\"${commonRes.action.search}\" class=\"epi-searchInput\" />                    </div>                </div>                <div class=\"dijitDialogPaneContentArea epi-wrapped\">                    <div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"container\" style=\"width: 100%; height: 330px;\">                        <div data-dojo-type=\"dijit/layout/ContentPane\" region=\"left\" splitter=\"false\" class=\"epi-dialog-resourcePane epi-dijitMenuDisableIcon\" style=\"width: 160px;\" >                            <div data-dojo-type=\"dijit/Menu\" dojoAttachPoint=\"categoryMenu\" dojoAttachEvent=\"onItemClick: _onCategoryMenuClick\" style=\"width:160px;\"></div>                        </div>                            <div data-dojo-attach-point=\"grid\"></div>                    </div>                </div>                <div class=\"dijitDialogPaneActionBar\">                    <button data-dojo-type=\"dijit/form/Button\" type=\"submit\" data-dojo-props=\"'class':'default'\" data-dojo-attach-event=\"onClick:onClose\">${commonRes.action.close}</button>                </div>             </div>",res:res,commonRes:epi.resources,selectedCategory:"*",componentCategories:null,_selectedCategoryMenuItem:null,categoryStore:null,componentDefinitionStore:null,_sortableColumns:[1],_gridClass:_1052([_1055,_1058,_1056,_1057],{resize:function(size){if(!size){return;}_1054.setMarginBox(this.domNode,{w:size.w,h:size.h});this.inherited(arguments);}}),postMixInProperties:function(){this.inherited(arguments);this.categoryStore=this.categoryStore||this._getStore("epi.shell.componentcategory");this.componentDefinitionStore=this.componentDefinitionStore||this._getStore("epi.shell.componentdefinition");this.componentCategories=_1065.settings.componentCategories;},buildRendering:function(){this.inherited(arguments);this.grid=new this._gridClass({region:"center",columns:{title:{label:this.commonRes.header.name},description:{label:" "}},selectionMode:"single",sort:[{attribute:"title",descending:false}],query:lang.hitch(this,function(item){if(this.selectedCategory!=="*"){if(!item.categories){return false;}var _1067=this.selectedCategory;var _1068=array.some(item.categories,function(_1069){return _1069===_1067;});if(!_1068){return;}}var name=this.searchBox.get("value").toLowerCase();if(name.length>0&&(item.title&&item.title.toLowerCase().indexOf(name))){return false;}return true;})},this.grid);this.grid.on(".dgrid-row:click",lang.hitch(this,this._onGridRowSelected));this.grid.on(".dgrid-row:keydown",lang.hitch(this,this._onGridRowSelected));},_getStore:function(name){var _106a=_1064.resolve("epi.storeregistry");return _106a.get(name);},onComponentSelected:function(){},onClose:function(){},_onGridRowSelected:function(e){if(e.keyCode&&e.keyCode!==keys.ENTER){return;}var row=this.grid.row(e);if(!row||!row.data){return;}var _106b=row.data.component;this.onComponentSelected(_106b);},dataBind:function(_106c){if(this.grid.store!==null&&_106c!==true){return;}if(_106c){array.forEach(this.categoryMenu.getChildren(),function(child){this.categoryMenu.removeChild(child);},this);}var grid=this.grid;_1053.when(this.componentDefinitionStore.query(),lang.hitch(this,function(data){var _106d=array.filter(data,function(item){return this._inCategoryFilter(item.categories);},this);this._populateCategoryMenu(_106d);var _106e=new _1062({data:_106d});grid.set("store",_106e);}));},show:function(_106f){this.inherited(arguments);this.dataBind(_106f);this.resize();},resize:function(){this.inherited(arguments);this.container.resize();},_populateCategoryMenu:function(_1070){this._selectedCategoryMenuItem=new _105d({label:this.commonRes.header.all,selected:true,value:"*"});this.categoryMenu.addChild(this._selectedCategoryMenuItem);var _1071=this.categoryStore.query();_1053.when(_1071,lang.hitch(this,function(_1072){array.forEach(_1072,function(_1073){var _1074=array.some(_1070,function(_1075){return array.indexOf(_1075.categories,_1073.name)>=0;});if(_1074){this.categoryMenu.addChild(new _105d({label:_1073.displayName,value:_1073.name}));}},this);}));},_inCategoryFilter:function(_1076){var _1077=this.componentCategories;return _1077===null||array.some(_1076,function(c){return array.some(_1077,function(_1078){return _1078===c;});});},_onCategoryMenuClick:function(item,e){this._selectedCategoryMenuItem.set("selected",false);item.set("selected",true);this._selectedCategoryMenuItem=item;this.selectedCategory=item.value;this.searchBox.reset();this.grid.refresh();},_onSearchBoxChange:function(e){this.grid.refresh();}});return _1066;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_1079,Grid,_107a){return _1079([Grid,_107a],{});});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_107b,_107c,_107d,has,put,List,_107e){var _107f=has("ie")<8&&!has("quirks");function _1080(_1081,_1082){if(_1082&&_1082.nodeType){_1081.appendChild(_1082);}};function _1083(str){return _107e.escapeCssIdentifier(str,"-");};var Grid=_107c(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_1084){if(typeof _1084!="object"){return this.columns[_1084];}else{return this.cell(_1084).column;}},listType:"grid",cell:function(_1085,_1086){if(_1085.column&&_1085.element){return _1085;}if(_1085.target&&_1085.target.nodeType){_1085=_1085.target;}var _1087;if(_1085.nodeType){var _1088;do{if(this._rowIdToObject[_1085.id]){break;}var colId=_1085.columnId;if(colId){_1086=colId;_1087=_1085;break;}_1085=_1085.parentNode;}while(_1085&&_1085!=this.domNode);}if(!_1087&&typeof _1086!="undefined"){var row=this.row(_1085),_1089=row&&row.element;if(_1089){var _108a=_1089.getElementsByTagName("td");for(var i=0;i<_108a.length;i++){if(_108a[i].columnId==_1086){_1087=_108a[i];break;}}}}if(_1085!=null){return {row:row||this.row(_1085),column:_1086&&this.column(_1086),element:_1087};}},createRowCells:function(tag,each,_108b,_108c){var row=put("table.dgrid-row-table[role=presentation]"),_108d=this.cellNavigation,tbody=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_108e,_108f,id,_1090,_1091,cell,_1092,_1093,_1094;_108b=_108b||this.subRows;for(si=0,sl=_108b.length;si<sl;si++){_108e=_108b[si];tr=put(tbody,"tr");if(_108e.className){put(tr,"."+_108e.className);}for(i=0,l=_108e.length;i<l;i++){_108f=_108e[i];id=_108f.id;_1090=_108f.field?".field-"+_1083(_108f.field):"";_1091=typeof _108f.className==="function"?_108f.className(_108c):_108f.className;if(_1091){_1090+="."+_1091;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_1083(id):"")+_1090.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_107f){_1092=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_1092;}else{_1092=cell;}_1093=_108f.colSpan;if(_1093){cell.colSpan=_1093;}_1094=_108f.rowSpan;if(_1094){cell.rowSpan=_1094;}each(_1092,_108f);tr.appendChild(cell);}}return row;},left:function(cell,steps){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(steps||1),"dgrid-cell"));},right:function(cell,steps){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,steps||1,"dgrid-cell"));},renderRow:function(_1095,_1096){var self=this;var row=this.createRowCells("td",function(td,_1097){var data=_1095;if(_1097.get){data=_1097.get(_1095);}else{if("field" in _1097&&_1097.field!="_item"){data=data[_1097.field];}}if(_1097.renderCell){_1080(td,_1097.renderCell(_1095,data,td,_1096));}else{_1098.call(_1097,_1095,data,td,_1096);}},_1096&&_1096.subRows,_1095);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_1099=this.columns,_109a=this.headerNode,i=_109a.childNodes.length;_109a.setAttribute("role","row");while(i--){put(_109a.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_109b){var _109c=_109b.headerNode=th;if(_107f){th=th.parentNode;}var field=_109b.field;if(field){th.field=field;}if(_109b.renderHeaderCell){_1080(_109c,_109b.renderHeaderCell(_109c));}else{if("label" in _109b||_109b.field){_109c.appendChild(document.createTextNode("label" in _109b?_109b.label:_109b.field));}}if(_109b.sortable!==false&&field&&field!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_109a.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_107d(row,"click,keydown",function(event){if(event.type=="click"||event.keyCode==32||(!has("opera")&&event.keyCode==13)){var _109d=event.target,field,sort,_109e,_109f;do{if(_109d.sortable){_109e=[{attribute:(field=_109d.field||_109d.columnId),descending:(sort=grid._sort[0])&&sort.attribute==field&&!sort.descending}];_109f={bubbles:true,cancelable:true,grid:grid,parentType:event.type,sort:_109e};if(_107d.emit(event.target,"dgrid-sort",_109f)){grid._sortNode=_109d;grid.set("sort",_109e);}break;}}while((_109d=_109d.parentNode)&&_109d!=_109a);}});},resize:function(){var _10a0=this.headerNode.firstChild,_10a1=this.contentNode,width;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_10a1.style.width="";if(_10a1&&_10a0){if((width=_10a0.offsetWidth)!=_10a1.offsetWidth){_10a1.style.width=width+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_10a2,_10a3){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(field){var _10a4=this.columns;for(var i in _10a4){var _10a5=_10a4[i];if(_10a5.field==field){return _10a5.headerNode;}}},updateSortArrow:function(sort,_10a6){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_10a6){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_10a7=this._sortNode||this._findSortArrowParent(prop),_10a8;delete this._sortNode;if(_10a7){_10a7=_10a7.contents||_10a7;_10a8=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_10a8.innerHTML="&nbsp;";_10a7.insertBefore(_10a8,_10a7.firstChild);put(_10a7,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(colId,css){return this.addCssRule("#"+_107e.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_1083(colId),css);},_configColumns:function(_10a9,_10aa){var _10ab=[],_10ac=_10aa instanceof Array;function _10ad(_10ae,_10af){if(typeof _10ae=="string"){_10aa[_10af]=_10ae={label:_10ae};}if(!_10ac&&!_10ae.field){_10ae.field=_10af;}_10af=_10ae.id=_10ae.id||(isNaN(_10af)?_10af:(_10a9+_10af));if(this._configColumn){this._configColumn(_10ae,_10af,_10aa,_10a9);_10af=_10ae.id;}if(_10ac){this.columns[_10af]=_10ae;}_10ae.grid=this;if(typeof _10ae.init==="function"){_10ae.init();}_10ab.push(_10ae);};_107e.each(_10aa,_10ad,this);return _10ac?_10aa:_10ab;},_destroyColumns:function(){var _10b0=this.subRows,_10b1=_10b0&&_10b0.length,i,j,_10b2,len;this.cleanup();for(i=0;i<_10b1;i++){for(j=0,len=_10b0[i].length;j<len;j++){_10b2=_10b0[i][j];if(typeof _10b2.destroy==="function"){_10b2.destroy();}}}},configStructure:function(){var _10b3=this.subRows,_10b4=this._columns=this.columns;this.columns=!_10b4||_10b4 instanceof Array?{}:_10b4;if(_10b3){for(var i=0;i<_10b3.length;i++){_10b3[i]=this._configColumns(i+"-",_10b3[i]);}}else{this.subRows=[this._configColumns("",_10b4)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_10b5){this._destroyColumns();this.subRows=null;this.columns=_10b5;this._updateColumns();},_setSubRows:function(_10b6){this._destroyColumns();this.subRows=_10b6;this._updateColumns();},setColumns:function(_10b7){_107b.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_10b7);},setSubRows:function(_10b8){_107b.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_10b8);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _1098(_10b9,data,td,_10ba){if(this.formatter){var _10bb=this.formatter,_10bc=this.grid.formatterScope;td.innerHTML=typeof _10bb==="string"&&_10bc?_10bc[_10bb](data,_10b9):this.formatter(data,_10b9);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_1080;Grid.defaultRenderCell=_1098;return Grid;});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_10bd,_10be,lang,_10bf,dom,_10c0,_10c1,put){return _10be([List,_10bd],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_10c1.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_10c0(this.bodyNode,"scroll",_10c1[this.pagingMethod](function(event){self._processScroll(event);},null,this.pagingDelay));},renderQuery:function(query,_10c2){var self=this,_10c3=(_10c2&&_10c2.container)||this.contentNode,_10c4={query:query,count:0,options:_10c2},_10c5,_10c6=this.preload,_10c7;var _10c8={node:put(_10c3,"div.dgrid-preload",{rowIndex:0}),count:0,query:query,next:_10c4,options:_10c2};_10c8.node.style.height="0";_10c4.node=_10c5=put(_10c3,"div.dgrid-preload");_10c4.previous=_10c8;_10c5.rowIndex=this.minRowsPerPage;if(_10c6){if((_10c4.next=_10c6.next)&&_10c5.offsetTop>=_10c6.node.offsetTop){_10c4.previous=_10c6;}else{_10c4.next=_10c6;_10c4.previous=_10c6.previous;}_10c4.previous.next=_10c4;_10c4.next.previous=_10c4;}else{this.preload=_10c4;}var _10c9=put(_10c5,"-div.dgrid-loading"),_10ca=put(_10c9,"div.dgrid-below");_10ca.innerHTML=this.loadingMessage;function _10cb(err){put(_10c9,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_10c2=lang.mixin(this.get("queryOptions"),_10c2,{start:0,count:this.minRowsPerPage},"level" in query?{queryLevel:query.level}:null);this._trackError(function(){return _10c7=query(_10c2);});if(typeof _10c7==="undefined"){_10cb();return;}_10bf.when(self.renderArray(_10c7,_10c5,_10c2),function(trs){var total=typeof _10c7.total==="undefined"?_10c7.length:_10c7.total;return _10bf.when(total,function(total){var _10cc=trs.length,_10cd=_10c5.parentNode,_10ce=self.noDataNode;put(_10c9,"!");if(!("queryLevel" in _10c2)){self._total=total;}if(total===0){if(_10ce){put(_10ce,"!");delete self.noDataNode;}self.noDataNode=_10ce=put("div.dgrid-no-data");_10cd.insertBefore(_10ce,self._getFirstRowSibling(_10cd));_10ce.innerHTML=self.noDataMessage;}var _10cf=0;for(var i=0;i<_10cc;i++){_10cf+=self._calcRowHeight(trs[i]);}if(_10cc&&_10cf){self.rowHeight=_10cf/_10cc;}total-=_10cc;_10c4.count=total;_10c5.rowIndex=_10cc;if(total){_10c5.style.height=Math.min(total*self.rowHeight,self.maxEmptySpace)+"px";}else{_10c5.style.display="none";_10c2.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_10c7);delete self._refreshDeferred;}return trs;},_10cb);},_10cb);return _10c7;},refresh:function(_10d0){var self=this,keep=(_10d0&&_10d0.keepScrollPosition),dfd,_10d1;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _10bf();_10d1=self.renderQuery(function(_10d2){return self.store.query(self.query,_10d2);});if(typeof _10d1==="undefined"){dfd.reject();}return dfd.then(function(_10d3){setTimeout(function(){_10c0.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_10d3});},0);delete self._refreshDeferred;return _10d3;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_10d4){return _10d4.lastChild;},_calcRowHeight:function(_10d5){var _10d6=_10d5.nextSibling;if(_10d6&&!/\bdgrid-preload\b/.test(_10d6.className)){return _10d6.offsetTop-_10d5.offsetTop;}return _10d5.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_10d7=grid.bodyNode,_10d8=(evt&&evt.scrollTop)||this.getScrollPosition().y,_10d9=_10d7.offsetHeight+_10d8,_10da,_10db,_10dc=grid.preload,_10dd=grid.lastScrollTop,_10de=grid.bufferRows*grid.rowHeight,_10df=_10de-grid.rowHeight,_10e0,_10e1,_10e2,_10e3=true;var _10e4=1;grid.lastScrollTop=_10d8;function _10e5(_10e6,_10e7,_10e8,below){var _10e9=grid.farOffRemoval,_10db=_10e6.node;if(_10e7>2*_10e9){var row,_10ea=_10db[_10e8];var _10eb=0;var count=0;var _10ec=[];while((row=_10ea)){var _10ed=grid._calcRowHeight(row);if(_10eb+_10ed+_10e9>_10e7||(_10ea.className.indexOf("dgrid-row")<0&&_10ea.className.indexOf("dgrid-loading")<0)){break;}var _10ea=row[_10e8];_10eb+=_10ed;count+=row.count||1;grid.removeRow(row,true);_10ec.push(row);}_10e6.count+=count;if(below){_10db.rowIndex-=count;_10ee(_10e6);}else{_10db.style.height=(_10db.offsetHeight+_10eb)+"px";}var _10ef=put("div",_10ec);setTimeout(function(){put(_10ef,"!");},1);}};function _10ee(_10f0,noMax){_10f0.node.style.height=Math.min(_10f0.count*grid.rowHeight,noMax?Infinity:grid.maxEmptySpace)+"px";};function _10f1(_10f2,_10f3){do{_10f2=_10f3?_10f2.next:_10f2.previous;}while(_10f2&&!_10f2.node.offsetWidth);return _10f2;};while(_10dc&&!_10dc.node.offsetWidth){_10dc=_10dc.previous;}while(_10dc&&_10dc!=_10da){_10da=grid.preload;grid.preload=_10dc;_10db=_10dc.node;var _10f4=_10db.offsetTop;var _10f5;if(_10d9+_10e4+_10df<_10f4){_10dc=_10f1(_10dc,(_10e3=false));}else{if(_10d8-_10e4-_10df>(_10f4+(_10f5=_10db.offsetHeight))){_10dc=_10f1(_10dc,(_10e3=true));}else{var _10f6=((_10db.rowIndex?_10d8-_10de:_10d9)-_10f4)/grid.rowHeight;var count=(_10d9-_10d8+2*_10de)/grid.rowHeight;var _10f7=Math.max(Math.min((_10d8-_10dd)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);count+=Math.min(Math.abs(_10f7),10);if(_10db.rowIndex==0){_10f6-=count;}_10f6=Math.max(_10f6,0);if(_10f6<10&&_10f6>0&&count+_10f6<grid.maxRowsPerPage){count+=Math.max(0,_10f6);_10f6=0;}count=Math.min(Math.max(count,grid.minRowsPerPage),grid.maxRowsPerPage,_10dc.count);if(count==0){_10dc=_10f1(_10dc,_10e3);continue;}count=Math.ceil(count);_10f6=Math.min(Math.floor(_10f6),_10dc.count-count);var _10f8=lang.mixin(grid.get("queryOptions"),_10dc.options);_10dc.count-=count;var _10f9=_10db,_10fa,_10fb=grid.queryRowsOverlap,below=(_10db.rowIndex>0||_10db.offsetTop>_10d8)&&_10dc;if(below){var _10fc=_10dc.previous;if(_10fc){_10e5(_10fc,_10d8-(_10fc.node.offsetTop+_10fc.node.offsetHeight),"nextSibling");if(_10f6>0&&_10fc.node==_10db.previousSibling){_10f6=Math.min(_10dc.count,_10f6);_10dc.previous.count+=_10f6;_10ee(_10dc.previous,true);_10db.rowIndex+=_10f6;_10fb=0;}else{count+=_10f6;}_10dc.count-=_10f6;}_10f8.start=_10db.rowIndex-_10fb;_10f8.count=Math.min(count+_10fb,grid.maxRowsPerPage);_10db.rowIndex=_10f8.start+_10f8.count;}else{if(_10dc.next){_10e5(_10dc.next,_10dc.next.node.offsetTop-_10d9,"previousSibling",true);var _10f9=_10db.nextSibling;if(_10f9==_10dc.next.node){_10dc.next.count+=_10dc.count-_10f6;_10dc.next.node.rowIndex=_10f6+count;_10ee(_10dc.next);_10dc.count=_10f6;_10fb=0;}else{_10fa=true;}}_10f8.start=_10dc.count;_10f8.count=Math.min(count+_10fb,grid.maxRowsPerPage);}if(_10fa&&_10f9&&_10f9.offsetWidth){_10fa=_10f9.offsetTop;}_10ee(_10dc);if("level" in _10dc.query){_10f8.queryLevel=_10dc.query.level;}if(!("queryLevel" in _10f8)&&(_10f8.start>grid._total||_10f8.count<0)){continue;}var _10fd=put(_10f9,"-div.dgrid-loading[style=height:"+count*grid.rowHeight+"px]"),_10fe=put(_10fd,"div.dgrid-"+(below?"below":"above"));_10fe.innerHTML=grid.loadingMessage;_10fd.count=count;var _10ff=_10dc.query(_10f8),_1100=grid._trackError(function(){return _10ff;});if(_1100===undefined){put(_10fd,"!");return;}(function(_1101,below,_1102,_1103){_10e2=_10bf.when(grid.renderArray(_1103,_1101,_10f8),function(rows){_10e1=_1103;_10f9=_1101.nextSibling;put(_1101,"!");if(_1102&&_10f9&&_10f9.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_10f9.offsetTop-_1102,preserveMomentum:true});}_10bf.when(_1103.total||_1103.length,function(total){if(!("queryLevel" in _10f8)){grid._total=total;}if(below){below.count=total-below.node.rowIndex;if(below.count===0){_10f8.count++;}_10ee(below);}});grid._processScroll();return rows;},function(e){put(_1101,"!");throw e;});}).call(this,_10fd,below,_10fa,_10ff);_10dc=_10dc.previous;}}}if(_10e2&&(_10e0=this._refreshDeferred)){delete this._refreshDeferred;_10bf.when(_10e2,function(){_10e0.resolve(_10e1);});}},removeRow:function(_1104,_1105){function _1106(_1107,_1108){return _1107!=null?_1107:_1108;};if(_1104){var _1109=_1104.previousSibling,_110a=_1104.nextSibling,_110b=_1109&&_1106(_1109.observerIndex,_1109.previousObserverIndex),_110c=_110a&&_1106(_110a.observerIndex,_110a.nextObserverIndex),_110d=_1104.observerIndex;_1104.observerIndex=undefined;if(_1105){_1104.nextObserverIndex=_110c;_1104.previousObserverIndex=_110b;}if(this.cleanEmptyObservers&&_110d>-1&&_110d!==_110b&&_110d!==_110c){var _110e=this.observers;var _110f=_110e[_110d];if(_110f){if(!_1105){var rows=_110f.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_1104&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_110f.cancel();this._numObservers--;_110e[_110d]=0;}}}this.inherited(arguments);}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_1110,_1111,lang,_1112,_1113,_1114,put){function noop(value){return value;};function _1115(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_1113.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _1111(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_1114.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_1116){if(_1116.set){this._columnsWithSet[_1116.field]=_1116;}this.inherited(arguments);},_updateNotifyHandle:function(store){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(store&&typeof store.notify==="function"){this._notifyHandle=_1114.after(store,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){console.warn("Observable store detected, but no sort order specified. "+"You may experience quirks when adding/updating items.  "+"These can be resolved by setting a sort order on the list or grid.");}}},_setStore:function(store,query,_1117){this._updateNotifyHandle(store);this.store=store;this.dirty={};this.set("query",query,_1117);},_setQuery:function(query,_1118){var sort=_1118&&_1118.sort;this.query=query!==undefined?query:this.query;this.queryOptions=_1118||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(store,query,_1119){_1110.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",store,query,_1119);},setQuery:function(query,_111a){_1110.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",query,_111a);},_getQueryOptions:function(){var _111b=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_111b.sort=this._sort;}return _111b;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_111c,_111d){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_111e,_111f){this.inherited(arguments);if(_111e&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},refresh:function(){var _1120=this.inherited(arguments);if(!this.store){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return _1120;},renderArray:function(){var self=this;var rows=this.inherited(arguments);if(!this.store){_1112.when(rows,function(_1121){if(_1121.length&&self.noDataNode){put(self.noDataNode,"!");}});}return rows;},insertRow:function(_1122,_1123,_1124,i,_1125){var store=this.store,dirty=this.dirty,id=store&&store.getIdentity(_1122),_1126;if(id in dirty&&!(id in this._updating)){_1126=dirty[id];}if(_1126){_1122=lang.delegate(_1122,_1126);}return this.inherited(arguments);},updateDirty:function(id,field,value){var dirty=this.dirty,_1127=dirty[id];if(!_1127){_1127=dirty[id]={};}_1127[field]=value;},setDirty:function(id,field,value){_1110.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,field,value);},save:function(){var self=this,store=this.store,dirty=this.dirty,dfd=new _1112(),_1128=dfd.promise,_1129=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return store.get(id);}:function(){return data;};};function _112a(id,_112b){return function(_112c){var _112d=self._columnsWithSet,_112e=self._updating,key,data;if(typeof _112c.set==="function"){_112c.set(_112b);}else{for(key in _112b){_112c[key]=_112b[key];}}for(key in _112d){data=_112d[key].set(_112c);if(data!==undefined){_112c[key]=data;}}_112e[id]=true;return _1112.when(store.put(_112c),function(){delete dirty[id];delete _112e[id];});};};for(var id in dirty){var put=_112a(id,dirty[id]);_1128=_1128.then(_1129(id)).then(put);}dfd.resolve();return _1128;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _112f;if(typeof func=="string"){func=lang.hitch(this,func);}try{_112f=func();}catch(err){_1115.call(this,err);}return _1112.when(_112f,noop,lang.hitch(this,_1115));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_1130,_1131){var row={element:_1130};if(!_1131&&this.noDataMessage&&(this.up(row).element===_1130)&&(this.down(row).element===_1130)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_1132,_1133,_1134,on,has,_1135,List,_1136,put){has.add("dom-comparedocumentposition",function(_1137,doc,_1138){return !!_1138.compareDocumentPosition;});has.add("pointer",function(_1139){return "PointerEvent" in _1139?"pointer":"MSPointerEvent" in _1139?"MSPointer":false;});has.add("css-user-select",function(_113a,doc,_113b){var style=_113b.style,_113c=["Khtml","O","ms","Moz","Webkit"],i=_113c.length,name="userSelect";do{if(typeof style[name]!=="undefined"){return name;}}while(i--&&(name=_113c[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _113d=has("mac")?"metaKey":"ctrlKey",_113e=has("css-user-select"),_113f=has("pointer"),_1140=_113f&&_113f.slice(0,2)==="MS",_1141=_113f?_113f+(_1140?"Down":"down"):"mousedown",_1142=_113f?_113f+(_1140?"Up":"up"):"mouseup";function _1143(node,_1144){var value=node.unselectable=_1144?"on":"",_1145=node.getElementsByTagName("*"),i=_1145.length;while(--i){if(_1145[i].tagName==="INPUT"||_1145[i].tagName==="TEXTAREA"){continue;}_1145[i].unselectable=value;}};function _1146(grid,_1147){var node=grid.bodyNode,value=_1147?"text":has("ff")<21?"-moz-none":"none";if(_113e&&_113e!=="msUserSelect"){node.style[_113e]=value;}else{if(has("dom-selectstart")){if(!_1147&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_1147&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_1143(node,!_1147);if(!_1147&&!grid._unselectableHandle){grid._unselectableHandle=_1135.after(grid,"renderRow",function(row){_1143(row,true);return row;});}else{if(_1147&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _1133(null,{selectionDelegate:".dgrid-row",selectionEvents:_1141+","+_1142+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_1136.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _1148=this.selectionMode;this.selectionMode="";this._setSelectionMode(_1148);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_1132.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(allow){if(typeof allow!=="undefined"){_1146(this,allow);}else{_1146(this,this.selectionMode==="none");}this.allowTextSelection=allow;},_handleSelect:function(event,_1149){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_1149))||(event.type==="dgrid-cellfocusin"&&event.parentType==="mousedown")||(event.type===_1142&&_1149!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=event;if(!event.keyCode||!event.ctrlKey||event.keyCode==32){if(!event.shiftKey&&event.type===_1141&&this.isSelected(_1149)){this._waitForMouseUp=_1149;}else{this[this._selectionHandlerName](event,_1149);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(event,_114a){var _114b=event.keyCode?event.ctrlKey:event[_113d];if(this._lastSelected===_114a){this.select(_114a,null,!_114b||!this.isSelected(_114a));}else{this.clearSelection();this.select(_114a);this._lastSelected=_114a;}},_multipleSelectionHandler:function(event,_114c){var _114d=this._lastSelected,_114e=event.keyCode?event.ctrlKey:event[_113d],value;if(!event.shiftKey){value=_114e?null:true;_114d=null;}this.select(_114c,_114d,value);if(!_114d){this._lastSelected=_114c;}},_extendedSelectionHandler:function(event,_114f){if(event.button===2?!this.isSelected(_114f):!(event.keyCode?event.ctrlKey:event[_113d])){this.clearSelection(null,true);}this._multipleSelectionHandler(event,_114f);},_toggleSelectionHandler:function(event,_1150){this.select(_1150,null,null);},_initSelectionEvents:function(){var grid=this,_1151=this.contentNode,_1152=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_1151,_1136.selector(_1152,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_1151,on.selector(_1152,this.selectionEvents),function(event){if(grid._ignoreMouseSelect!==this){grid._handleSelect(event,this);}else{if(event.type===_1142){grid._ignoreMouseSelect=null;}}});}else{on(_1151,on.selector(_1152,this.selectionEvents),function(event){grid._handleSelect(event,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(event){grid._handleSelect(event,event.target);});}if(this.allowSelectAll){this.on("keydown",function(event){if(event[_113d]&&event.keyCode==65&&!/\bdgrid-input\b/.test(event.target.className)){event.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_1135.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,store=this.store,_1153,_1154;function _1155(_1156,_1157,_1158){var id=_1157||(_1156&&_1156[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_1159=row&&self.selection[row.id];if(_1159){self[_1158](row,null,_1159);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(store&&store.notify){_1153=_1135.before(store,"notify",function(_115a,_115b){if(!_115a){_1155(_115a,_115b,"deselect");}});_1154=_1135.after(store,"notify",function(_115c,_115d){_1155(_115c,_115d,"select");},true);this._removeDeselectSignals=function(){_1153.remove();_1154.remove();};}else{_1153=_1135.before(this,"removeRow",function(_115e,_115f){var row;if(!_115f){row=this.row(_115e);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_1153.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var queue=this._selectionEventQueues[type],_1160=this._selectionTriggerEvent,_1161;_1161={bubbles:true,grid:this};if(_1160){_1161.parentType=_1160.type;}_1161[this._selectionTargetType]=queue;on.emit(this.contentNode,"dgrid-"+type,_1161);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _1162=this._selectionEventQueues,type;for(type in _1162){if(_1162[type].length){this._fireSelectionEvent(type);}}},_select:function(row,toRow,value){var _1163,_1164,_1165,_1166,_1167;if(typeof value==="undefined"){value=true;}if(!row.element){row=this.row(row);}if(value===false||this.allowSelect(row)){_1163=this.selection;_1164=!!_1163[row.id];if(value===null){value=!_1164;}_1165=row.element;if(!value&&!this.allSelected){delete this.selection[row.id];}else{_1163[row.id]=value;}if(_1165){if(value){put(_1165,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_1165,"!dgrid-selected!ui-state-active");}}if(value!==_1164&&_1165){this._selectionEventQueues[(value?"":"de")+"select"].push(row);}if(toRow){if(!toRow.element){toRow=this.row(toRow);}if(!toRow){this._lastSelected=_1165;console.warn("The selection range has been reset because the "+"beginning of the selection is no longer in the DOM. "+"If you are using OnDemandList, you may wish to increase "+"farOffRemoval to avoid this, but note that keeping more nodes "+"in the DOM may impact performance.");return;}_1166=toRow.element;if(_1166){_1167=this._determineSelectionDirection(_1165,_1166);if(!_1167){_1166=document.getElementById(_1166.id);_1167=this._determineSelectionDirection(_1165,_1166);}while(row.element!=_1166&&(row=this[_1167](row))){this._select(row,null,value);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _1168=to.compareDocumentPosition(from);if(_1168&1){return false;}return _1168===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,toRow,value){this._select(row,toRow,value);this._fireSelectionEvents();},deselect:function(row,toRow){this.select(row,toRow,false);},clearSelection:function(_1169,_116a){this.allSelected=false;for(var id in this.selection){if(_1169!==id){this._select(id,null,false);}}if(!_116a){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_116b){if(typeof _116b==="undefined"||_116b===null){return false;}if(!_116b.element){_116b=this.row(_116b);}return (_116b.id in this.selection)?!!this.selection[_116b.id]:this.allSelected&&(!_116b.data||this.allowSelect(_116b));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_1134.when(rows,function(rows){var _116c=grid.selection,i,row,_116d;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_116d=row.id in _116c?_116c[row.id]:grid.allSelected;if(_116d){grid._select(row,null,_116d);}}grid._fireSelectionEvents();});return rows;}});});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(array,_116e,_116f,_1170,_1171,_1172,_1173,event,keys,lang,on,touch,_1174,_1175,_1176,_1177,_1178){var _1179=_116f("dijit.layout._Splitter",[_1175,_1176],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_1170.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _117a=_116e(this._cookieName);if(_117a){this.child.domNode.style[this.horizontal?"height":"width"]=_117a;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_117b=_1172.getMarginBox(this.child.domNode)[dim],_117c=array.filter(this.container.getChildren(),function(child){return child.region=="center";})[0],_117d=_1172.getMarginBox(_117c.domNode)[dim];return Math.min(this.child.maxSize,_117b+_117d);},_startDrag:function(e){if(!this.cover){this.cover=_1171.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_1170.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_1171.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_1170.add(this.domNode,"dijitSplitterShadow");_1171.place(this.fake,this.domNode,"after");}_1170.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_1170.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _117e=this._factor,_117f=this.horizontal,axis=_117f?"pageY":"pageX",_1180=e[axis],_1181=this.domNode.style,dim=_117f?"h":"w",_1182=_1172.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_1183=this.region,_1184=_1183=="top"||_1183=="bottom"?"top":"left",_1185=parseInt(_1181[_1184],10),_1186=this._resize,_1187=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,touch.move,this._drag=function(e,_1188){var delta=e[axis]-_1180,_1189=_117e*delta+_1182,_118a=Math.max(Math.min(_1189,max),min);if(_1186||_1188){_1187(_118a);}_1181[_1184]=delta+_1185+_117e*(_118a-_1189)+"px";}),on(de,"dragstart",event.stop),on(this.ownerDocumentBody,"selectstart",event.stop),on(de,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_1170.toggle(this.domNode,"dijitSplitterHover",o);_1170.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_1170.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_1171.destroy(this.fake);}_1170.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_116e(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _118b=this.horizontal;var tick=1;switch(e.charOrCode){case _118b?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _118b?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _118c=_1172.getMarginSize(this.child.domNode)[_118b?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_118c,this._computeMaxSize()),this.child.minSize));event.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _118d=_116f("dijit.layout._Gutter",[_1175,_1176],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_1170.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _118e=_116f("dijit.layout.BorderContainer",_1177,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_1179,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){var _118f=child.region;if(_118f){this.inherited(arguments);_1170.add(child.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_118f=="leading"){_118f=ltr?"left":"right";}if(_118f=="trailing"){_118f=ltr?"right":"left";}if(_118f!="center"&&(child.splitter||this.gutters)&&!child._splitterWidget){var _1190=child.splitter?this._splitterClass:_118d;if(lang.isString(_1190)){_1190=lang.getObject(_1190);}var _1191=new _1190({id:child.id+"_splitter",container:this,child:child,region:_118f,live:this.liveSplitters});_1191.isSplitter=true;child._splitterWidget=_1191;_1171.place(_1191.domNode,child.domNode,"after");_1191.startup();}child.region=_118f;}},layout:function(){this._layoutChildren();},addChild:function(child,_1192){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){var _1193=child.region;var _1194=child._splitterWidget;if(_1194){_1194.destroy();delete child._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_1170.remove(child.domNode,this.baseClass+"Pane");_1173.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1173.set(child.domNode,_1193=="top"||_1193=="bottom"?"width":"height","auto");},getChildren:function(){return array.filter(this.inherited(arguments),function(_1195){return !_1195.isSplitter;});},getSplitter:function(_1196){return array.filter(this.getChildren(),function(child){return child.region==_1196;})[0]._splitterWidget;},resize:function(_1197,_1198){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_1173.getComputedStyle(node);this.pe=_1172.getPadExtents(node,this.cs);this.pe.r=_1173.toPixelValue(node,this.cs.paddingRight);this.pe.b=_1173.toPixelValue(node,this.cs.paddingBottom);_1173.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_1199,_119a){if(!this._borderBox||!this._borderBox.h){return;}var _119b=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_119b.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _119c=[];array.forEach(_119b,function(_119d){var pane=_119d.pane;_119c.push(pane);if(pane._splitterWidget){_119c.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_1178.layoutChildren(this.domNode,dim,_119c,_1199,_119a);},destroyRecursive:function(){array.forEach(this.getChildren(),function(child){var _119e=child._splitterWidget;if(_119e){_119e.destroy();}delete child._splitterWidget;});this.inherited(arguments);}});_118e.ChildWidgetProperties={region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity};lang.extend(_1174,_118e.ChildWidgetProperties);_118e._Splitter=_1179;_118e._Gutter=_118d;return _118e;});},"epi/shell/widget/layout/_ComponentWrapper":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/string","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/Evented","dijit/_base/wai","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/BorderContainer","epi","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/GadgetAction","epi/shell/widget/command/RemoveGadget","epi/shell/widget/ComponentChrome","epi/shell/widget/layout/_ComponentResizeMixin","epi/shell/widget/layout/_ComponentSplitter","epi/shell/DialogService","dojo/text!./templates/_ComponentWrapperHeader.htm","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","dijit/form/Button","dijit/form/ToggleButton"],function(_119f,array,_11a0,lang,_11a1,_11a2,_11a3,_11a4,_11a5,wai,_11a6,_11a7,_11a8,_11a9,_11aa,epi,_11ab,_11ac,_11ad,_11ae,_11af,_11b0,_11b1,_11b2,res){var _11b3=_119f([_11a9,_11a7,_11a8,_11a6,_11a5],{templateString:_11b2,title:"",res:res,open:true,toggleable:true,closable:false,"class":"epi-gadgetHeader",toggle:function(){},onClose:function(){},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"epi-gadgetTitle");}},startup:function(){this.inherited(arguments);this.toggleButton.set("checked",!this.open);},_setClosableAttr:function(_11b4){_11a1.set(this.closeButton.domNode,"display",_11b4?"":"none");_11a3.toggle(this.titleBarNode,"epi-gadget-unlocked",_11b4);},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",this.title);},_setToggleableAttr:function(_11b5){this.toggleable=_11b5;wai.setWaiRole(this.focusNode,_11b5?"button":"heading");if(_11b5){wai.setWaiState(this.focusNode,"controls",this.id+"_pane");_11a2.set(this.focusNode,"tabIndex",this.tabIndex);}else{_11a2.remove(this.focusNode,"tabIndex");}this.toggleButton.set("disabled",!this.toggleable);this.toggleButton.set("iconClass",this.toggleable?"epi-gadget-toggle":"");}});return _119f([_11aa,_11af,_11a6,_11ab,_11a5],{dndType:"epi.shell.layout._ComponentWrapper",heading:"",toggleable:true,tabIndex:"0",baseClass:"epi-gadget","class":"epi-gadgetContainer",closable:false,dragRestriction:false,confirmationBeforeRemoval:true,res:res,gutters:false,postCreate:function(){this.inherited(arguments);this._header=new _11b3({region:"top",splitter:false,title:this.heading||"",closable:this.closable,toggle:lang.hitch(this,this.toggle),onClose:lang.hitch(this,this.onClose)});this.addChild(this._header);},_setIsRemovableAttr:function(_11b6){_11b6=_11b6!==false;this._set("isRemovable",_11b6);this.set("closable",!!(_11b6&&this.closable));},_setClosableAttr:function(_11b7){this._set("closable",_11b7);this._header&&this._header.set("closable",_11b7);},_showRemovalConfirmationDialog:function(){var _11b8=this.heading?_11a0.substitute(this.res.removecomponentquestion,{name:this.heading}):this.res.removecomponentquestionwithoutname;return _11b1.confirmation({description:_11b8,title:this.res.deletemenuitemlabel});},onClose:function(evt){if(!this.confirmationBeforeRemoval){_11a1.set(this.domNode,"display","none");this.onClosed();}else{this._showRemovalConfirmationDialog().then(function(){_11a1.set(this.domNode,"display","none");this.onClosed();}.bind(this));return true;}},startup:function(){this._header.set("open",this.open);this.set("open",this.open);this.inherited(arguments);},resize:function(_11b9){_11b9=lang.mixin({},_11b9);if(!_11b9.h){if(!this.open){var _11ba=_11a4.getMarginExtents(this.domNode).h;_11b9.h=_11ba+this._getClosedHeight();}else{if(this.lastOpenHeight){_11b9.h=this.lastOpenHeight;}}}this.inherited(arguments,[_11b9]);},getSize:function(){var size=_11a4.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _11bb=this._header?_11a4.getMarginBox(this._header.domNode).h:0,_11bc=this._splitter?_11a4.getMarginBox(this._splitter.domNode).h:0;return _11bb+_11bc;},onClosed:function(){},_setHeadingAttr:function(text){this._set("heading",text);this._header&&this._header.set("title",text);},_setToggleableAttr:function(_11bd){this._header&&this._header.set("toggleable",_11bd);},toggle:function(){if(this._started){if(!open){this.lastOpenHeight=_11a4.getMarginBox(this.domNode).h;}}this._started&&this.set("open",!this.get("open"));},_setOpenAttr:function(open){this.inherited(arguments);if(this._started){this.emit("toggle",this.open);}},addChild:function(child){if(child.isInstanceOf(_11b0)||child.isInstanceOf(_11b3)){return this.inherited(arguments);}this._addGadgetCommands(child);this.add("commands",new _11ad({model:this}));var _11be=new _11ae({region:"center",splitter:false});_11be.addProvider(this);_11be.addChild(child);this._child=_11be;this.inherited("addChild",[_11be]);if(this._started&&!child.started&&!child._started){child.startup();}},_addGadgetCommands:function(_11bf){if(_11bf&&lang.isArray(_11bf.gadgetActions)){array.forEach(_11bf.gadgetActions,function(_11c0){this.add("commands",new _11ac({actionName:_11c0.actionName,label:_11c0.text,model:_11bf}));},this);}}});});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_11c1,lang,dijit){var _11c2={hasWaiRole:function(elem,role){var _11c3=this.getWaiRole(elem);return role?(_11c3.indexOf(role)>-1):(_11c3.length>0);},getWaiRole:function(elem){return lang.trim((_11c1.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_11c1.set(elem,"role",role);},removeWaiRole:function(elem,role){var _11c4=_11c1.get(elem,"role");if(!_11c4){return;}if(role){var t=lang.trim((" "+_11c4+" ").replace(" "+role+" "," "));_11c1.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,state){return elem.hasAttribute?elem.hasAttribute("aria-"+state):!!elem.getAttribute("aria-"+state);},getWaiState:function(elem,state){return elem.getAttribute("aria-"+state)||"";},setWaiState:function(elem,state,value){elem.setAttribute("aria-"+state,value);},removeWaiState:function(elem,state){elem.removeAttribute("aria-"+state);}};lang.mixin(dijit,_11c2);return dijit;});},"epi/shell/command/_CommandProviderMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(array,_11c5,_11c6){return _11c5([_11c6],{commands:null,constructor:function(){this.commands=this.commands||[];},updateCommandModel:function(model){array.forEach(this.commands,function(_11c7){_11c7.set("model",model);});}});});},"epi/shell/widget/command/GadgetAction":function(){define(["dojo/_base/declare","epi/shell/command/_Command"],function(_11c8,_11c9){return _11c8([_11c9],{actionName:null,category:"setting",canExecute:true,_execute:function(){this.model.loadView({action:this.actionName});}});});},"epi/shell/command/_Command":function(){define(["dojo/_base/declare","dojo/Stateful"],function(_11ca,_11cb){return _11ca([_11cb],{label:null,tooltip:null,iconClass:null,category:null,order:null,model:null,canExecute:false,isAvailable:true,_callOnModelChange:false,postscript:function(){this.inherited(arguments);this.model&&this._onModelChange();this._callOnModelChange=true;},destroy:function(){},execute:function(){if(this.isAvailable&&this.canExecute){return this._execute();}},watchModelChange:function(){this.set("_callOnModelChange",true);},unwatchModelChange:function(){this.set("_callOnModelChange",false);},_execute:function(){},_onModelChange:function(){},_modelSetter:function(model){this.model=model;this._callOnModelChange&&this._onModelChange();}});});},"epi/shell/widget/command/RemoveGadget":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","epi/shell/command/_Command"],function(_11cc,lang,_11cd,_11ce){return _11cc([_11ce],{label:_11cd.deletemenuitemlabel,category:"setting",order:1000,canExecute:true,_execute:function(){this.model.onClose();}});});},"epi/shell/widget/ComponentChrome":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/layout/BorderContainer","epi/shell/widget/_FocusableMixin","epi/shell/widget/command/CommandToolbar","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/shell/command/_CommandConsumerMixin","epi/shell/command/builder/ButtonBuilder","epi/shell/command/builder/DropDownButtonBuilder","epi/shell/command/builder/MenuAssembler"],function(_11cf,lang,_11d0,_11d1,_11d2,_11d3,_11d4,_11d5,_11d6,_11d7,_11d8){return _11cf([_11d1,_11d5,_11d2],{gutters:false,iconClass:"dijitNoIcon",postCreate:function(){this.inherited(arguments);this.toolbar=new _11d3({"class":"epi-componentToolbar",region:"bottom",groups:["default","context","setting"]});this.inherited("addChild",[this.toolbar]);var _11d9={showLabel:false};var _11da=lang.mixin({"class":"epi-componentToolbarButton epi-mediumButton"},_11d9);var _11db=new _11d6({settings:_11da,optionClass:"epi-menu--inverted",optionItemClass:"epi-radioMenuItem"});var _11dc=new _11d7({itemSettings:_11d9,settings:lang.delegate(_11da,{iconClass:"epi-iconContextMenu",title:_11d4.contextmenutooltip})});var _11dd=new _11d7({itemSettings:_11d9,settings:lang.delegate(_11da,{"class":"epi-componentSettingsButton epi-componentToolbarButton epi-mediumButton",iconClass:"epi-iconSettingsMenu",title:_11d4.settingsmenutooltip})});var _11de=[{builder:_11db,target:this.toolbar},{category:"setting",builder:_11dd,target:this.toolbar},{category:"context",builder:_11dc,target:this.toolbar},{category:"popup",builder:_11dc,target:this.toolbar}];var _11df=new _11d8({configuration:_11de,commandSource:this});_11df.build();},addChild:function(child){if(child){this.set("heading",child.get("heading"));}child.region="center";this.inherited(arguments);}});});},"epi/shell/widget/command/CommandToolbar":function(){define(["dojo/_base/declare","dijit/Toolbar"],function(_11e0,_11e1){return _11e0([_11e1],{_positions:null,groups:null,constructor:function(){this._positions=[];this.groups=[];},postMixInProperties:function(){this.inherited(arguments);for(var i=0;i<this.groups.length;i++){var _11e2={category:this.groups[i],position:0};this._positions.push(_11e2);}},addChild:function(_11e3,_11e4){if(!_11e4){var _11e5=_11e3._commandCategory||"default";_11e4=this._getCurrentPosition(_11e5);this.inherited("addChild",[_11e3,_11e4]);this._updatePositions(_11e5);}else{this.inherited(arguments);}},_getCurrentPosition:function(_11e6){for(var i=0;i<this._positions.length;i++){if(this._positions[i].category===_11e6){return this._positions[i].position;}}return 0;},_updatePositions:function(_11e7){var _11e8=0;for(var i=0;i<this._positions.length;i++){if(this._positions[i].category===_11e7){_11e8=1;}this._positions[i].position=this._positions[i].position+_11e8;}}});});},"epi/shell/command/_CommandConsumerMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_11e9,lang){return _11e9(null,{providers:null,constructor:function(){this.providers=this.providers||[];},destroy:function(){this.inherited(arguments);array.forEach(this.providers,function(item){item.watch.unwatch();});},getConsumer:function(){return this;},addProvider:function(_11ea){var watch=_11ea.watch("commands",lang.hitch(this,this._commandsChanged));this.providers.push({provider:_11ea,watch:watch});this.onCommandsChanged("commands",null,_11ea.commands);return {removeProvider:lang.hitch(this,this.removeProvider,_11ea)};},removeProvider:function(_11eb){var _11ec=this.providers;for(var i=_11ec.length-1;i>=0;i--){if(_11ec[i].provider===_11eb){break;}}if(i>=0){var item=_11ec.splice(i,1)[0];item.watch.unwatch();item=null;this.onCommandsChanged("commands",_11eb.commands,null);}},getCommands:function(){var _11ed=[];array.forEach(this.providers,function(item){_11ed=_11ed.concat(item.provider.commands);});return _11ed;},onCommandsChanged:function(name,_11ee,added){},_commandsChanged:function(){this.onCommandsChanged.apply(this,arguments);}});});},"epi/shell/command/builder/ButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ToggleButton","epi/shell/command/ToggleCommand","../_CommandModelBindingMixin","./_Builder","./OptionsBuilderMixin"],function(_11ef,lang,Menu,_11f0,_11f1,_11f2,_11f3,_11f4,_11f5,_11f6){var _11f7=_11ef([_11f1,_11f4],{onClick:function(){}});var _11f8=_11ef([_11f2,_11f4]);return _11ef([_11f5],{optionClass:"",optionItemClass:"",_buttonClass:_11ef([_11f0,_11f4]),_dropDownClass:_11f7,_optionsMenuClass:_11ef([Menu,_11f6],{baseClass:"epi-optionsMenu"}),_create:function(_11f9){var _11fa=_11f9.get("options") instanceof Array,_11fb=this._createOptions(_11f9);if(_11fa){return new this._dropDownClass(lang.mixin({"class":"epi-chromeless epi-mediumButton",dropDown:new this._optionsMenuClass({"class":this.optionClass,model:_11f9,optionItemClass:this.optionItemClass})},_11fb));}if(_11f9 instanceof _11f3){return new _11f8(_11fb);}return new this._buttonClass(_11fb);},_createOptions:function(_11fc){var _11fd=lang.mixin({model:_11fc},this.settings);if(_11fd.hasOwnProperty("showLabel")&&!_11fc.label){_11fd.showLabel=false;_11fd.model.label=_11fd.model.tooltip||"";}return _11fd;}});});},"epi/shell/command/ToggleCommand":function(){define(["dojo/_base/declare","epi/shell/DestroyableByKey","epi/shell/command/_Command"],function(_11fe,_11ff,_1200){return _11fe([_1200,_11ff],{property:null,active:false,_execute:function(){var name=this.property,value=!this.active;this.model.set(name,value);this.set("active",value);},_onModelChange:function(){var self=this;var model=this.model,_1201=model&&model[this.property],_1202=typeof _1201=="boolean";this.set("canExecute",_1202);this.set("active",_1202&&_1201);if(model){this.destroyByKey("modelPropertyWatcher");this.ownByKey("modelPropertyWatcher",model.watch(this.property,function(name,_1203,value){self.set("active",!!value);}));}}});});},"epi/shell/command/_CommandModelBindingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-class","../widget/_ModelBindingMixin"],function(_1204,_1205,_1206,_1207){return _1204(_1207,{modelBindingMap:{label:["label"],tooltip:["tooltip"],iconClass:["iconClass"],canExecute:["canExecute"],isExecuting:["isExecuting"],isAvailable:["isAvailable"],active:["checked","isExpand"]},_setCanExecuteAttr:function(_1208){this.set("disabled",!_1208);},_setIsAvailableAttr:function(_1209){if(this.domNode){_1205.set(this.domNode,"display",_1209?"":"none");}},_setIsExecutingAttr:function(_120a){this.isExecutingClass&&_1206.toggle(this.domNode,this.isExecutingClass,_120a);},onClick:function(){this.inherited(arguments);this.model&&this.model.execute.apply(this.model,arguments);}});});},"epi/shell/widget/_ModelBindingMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/shell/DestroyableByKey"],function(array,_120b,lang,_120c){return _120b([_120c],{model:null,modelBindingMap:null,constructor:function(_120d){},postMixInProperties:function(){this.inherited(arguments);if(!this.modelBindingMap){this.modelBindingMap={};}},_setModelAttr:function(value){this.destroyByKey(this.model);this._set("model",value);this._setupModelBindings();},_setupModelBindings:function(){if(!this.model){return;}var _120e=lang.hitch(this,"_modelWatch");var _120f=this._getNormalizedBindingMap();for(var _1210 in _120f){var _1211=_120f[_1210];this.ownByKey(this.model,this.model.watch(_1210,_120e));array.forEach(_1211,function(_1212){this.set(_1212,this.model.get(_1210));},this);}},_modelWatch:function(_1213,_1214,value){var _1215=this._getNormalizedBindingMap();var _1216=_1215[_1213];array.forEach(_1216,function(_1217){this.set(_1217,value);},this);},_getNormalizedBindingMap:function(){var _1218={};if(this.modelBindingMap instanceof Array){this.modelBindingMap.forEach(function(_1219){_1218[_1219]=[_1219];});return _1218;}for(var _121a in this.modelBindingMap){if(!this.modelBindingMap.hasOwnProperty(_121a)){continue;}var _121b=this.modelBindingMap[_121a];if(!(_121b instanceof Array)){_121b=[_121b];}_1218[_121a]=_121b;}return _1218;}});});},"epi/shell/command/builder/_Builder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dijit/registry"],function(array,_121c,lang,_121d){return _121c(null,{settings:null,postscript:function(mixin){if(mixin){lang.mixin(this,mixin);}},create:function(_121e,_121f){var _1220=this._create(_121e);_1220._command=_121e.settings&&_121e.settings.model?_121e.settings.model:_121e;_1220._commandCategory=_121e.category;this._addToContainer(_1220,_121f);},remove:function(_1221,_1222){var _1223=this._getChildren(_1222),len=_1223.length,i=0;for(;i<len;i++){var child=_1223[i];if(child._command===_1221){this._onBeforeChildDestroy(_1222,i);if(_1222&&_1222.declaredClass){_1222.removeChild(child);}child.destroy();return true;}}return false;},_create:function(){},_onBeforeChildDestroy:function(){},_addToContainer:function(_1224,_1225){var _1226=null;if(_1224._command){var order=this._getSortOrder(_1224);this._getChildren(_1225).some(function(child,index){var _1227=this._getSortOrder(child);if(_1227>order){_1226=index;return true;}},this);}_1224.placeAt(_1225,_1226);},_getSortOrder:function(_1228){return (_1228._command&&_1228._command.order)?_1228._command.order:0;},_getChildren:function(_1229){if(typeof (_1229.getChildren)==="function"){return _1229.getChildren();}else{return _121d.findWidgets(_1229);}}});});},"epi/shell/command/builder/OptionsBuilderMixin":function(){define(["epi","dojo/_base/declare","dojo/_base/lang","dojo/on","dojox/html/entities","dijit/CheckedMenuItem","../OptionGroup","epi/shell/widget/MenuHeaderSeparator","epi/shell/DestroyableByKey"],function(epi,_122a,lang,on,_122b,_122c,_122d,_122e,_122f){return _122a([_122f],{optionItemClass:"",constructor:function(_1230){_122a.safeMixin(this,_1230);},startup:function(){this.inherited(arguments);this._addOptionMenuItems();},_addOptionMenuItems:function(){if(!this._started){return;}this.getChildren().forEach(function(child){this.removeChild(child);if(typeof child.destroy==="function"){child.destroy();}},this);this._createOptionMenuItems(this.model).forEach(this.addChild.bind(this));},_createOptionMenuItems:function(model){var items=[];var _1231=model.get("options");if(!lang.isArray(_1231)){return items;}if(model.optionsLabel){items.push(new _122e({label:model.optionsLabel}));}_1231.forEach(function(_1232){if(_1232 instanceof _122d){items.push(new _122e({label:_1232.label}));items=items.concat(this._createOptionMenuItems(_1232));}else{items.push(this._createMenuItem(_1232,model));}},this);return items;},_setModelAttr:function(model){this._set("model",model);this.destroyByKey("optionsWatch");this.ownByKey("optionsWatch",model.watch("options",this._addOptionMenuItems.bind(this)));},_createMenuItem:function(_1233,model){var _1234=new _122c({label:_122b.encode(_1233.label),checked:epi.areEqual(model.get("selected"),_1233.value),"class":this.optionItemClass});_1234.own(on(_1234,"click",function(){model.set("selected",_1233.value);}));_1234.own(model.watch("selected",function(name,_1235,_1236){_1234.set("checked",epi.areEqual(_1236,_1233.value));}));return _1234;}});});},"epi/shell/command/OptionGroup":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/DestroyableByKey"],function(_1237,lang,_1238,_1239){return _1237([_1238,_1239],{label:"",options:null,model:null,selected:null,property:"",constructor:function(){this.options=[];},_selectedSetter:function(value){if(this.selected!==value){this.selected=value;this.model&&this.model.set(this.property,value);}},_modelSetter:function(model){this.destroyByKey("_model");this.model=model;if(model){this.set("selected",model.get(this.property));this.ownByKey("_model",model.watch(this.property,lang.hitch(this,function(name,_123a,_123b){this.set("selected",_123b);})));}}});});},"epi/shell/widget/MenuHeaderSeparator":function(){define(["dojo/_base/declare","dijit/MenuSeparator","dojo/text!./templates/MenuHeaderSeparator.html"],function(_123c,_123d,_123e){return _123c([_123d],{templateString:_123e,_setLabelAttr:{node:"labelNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuHeaderSeparator.html":"<tr class=\"dijitMenuSeparator epi-invertedTooltip\" role=\"separator\">\r\n    <td colspan=\"4\">\r\n        <div class=\"epi-tooltipDialogTop\">\r\n            <span data-dojo-attach-point=\"labelNode\"></span>\r\n        </div>\r\n    </td>\r\n</tr>\r\n","epi/shell/command/builder/DropDownButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dijit/Menu","dijit/form/DropDownButton","epi/shell/command/builder/MenuBuilder","epi/shell/DestroyableByKey"],function(_123f,lang,_1240,Menu,_1241,_1242,_1243){return _123f([_1242,_1243],{hideEmptyButton:false,_button:null,remove:function(_1244,_1245){var _1246=this._button,_1247=_1246.dropDown?_1246.dropDown.getChildren():[];_1247.forEach(function(child){if(child._command===_1244){this.destroyByKey(_1244);_1246.removeChild(child);child.destroy();return true;}},this);return false;},_addToContainer:function(_1248,_1249){if(!this._button){this._button=new _1241(lang.mixin({dropDown:new Menu()},this.settings));this._button._commandCategory=_1248._commandCategory;}if(_1249.addChild){_1249.addChild(this._button);}else{this._button.placeAt(_1249);this._button.startup();}this.inherited(arguments,[_1248,this._button.dropDown]);this._toggleButton();this.ownByKey(_1248._command,_1248._command.watch("isAvailable",lang.hitch(this,this._toggleButton)));},_toggleButton:function(){var _124a=this._button.dropDown.getChildren(),len=_124a.length,i=0,_124b=true,child;for(i;i<len;i++){child=_124a[i];if(child._command.isAvailable){_124b=false;break;}}if(this.hideEmptyButton){_1240.toggle(this._button.domNode,"dijitHidden",_124b);}else{this._button.set("disabled",_124b);}}});});},"epi/shell/command/builder/MenuBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/MenuItem","dijit/CheckedMenuItem","dijit/PopupMenuItem","epi/shell/command/builder/_Builder","epi/shell/command/builder/OptionsBuilderMixin","epi/shell/command/_CommandModelBindingMixin"],function(_124c,lang,Menu,_124d,_124e,_124f,_1250,_1251,_1252){return _124c([_1250],{_menuItemClass:_124c([_124d,_1252]),_checkedMenuItemClass:_124c([_124e,_1252]),_popupMenuItemClass:_124c([_124f,_1252]),_optionsMenuClass:_124c([Menu,_1251]),_create:function(_1253){var _1254=typeof _1253.active=="boolean",_1255=lang.isArray(_1253.options),_1256="popup" in _1253,cls=_1254?this._checkedMenuItemClass:((_1255||_1256)?this._popupMenuItemClass:this._menuItemClass),_1257=lang.mixin({model:_1253},this.itemSettings);var _1258=new cls(_1257);if(_1256){if(_1253.popupClass){_1253.set("popup",new _1253.popupClass({category:_1253.popupCategory}));}_1258.popup=_1253.popup;}if(_1255){_1258.popup=new this._optionsMenuClass({model:_1253});}return _1258;}});});},"epi/shell/command/builder/MenuAssembler":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(array,_1259,_125a,lang,_125b){return _125a([_125b],{commandSource:null,configuration:null,_commandSourceConnect:null,destroy:function(){_1259.disconnect(this._commandSourceConnect);},build:function(){this.set("commandSource",this.commandSource);},_commandSourceSetter:function(value){if(this._commandSourceConnect&&this.commandSource){_1259.disconnect(this._commandSourceConnect);this._removeCommands(this.commandSource.getCommands());}this.commandSource=value;if(this.commandSource){this._addCommands(this.commandSource.getCommands());this._commandSourceConnect=_1259.connect(this.commandSource,"onCommandsChanged",this,this._commandsChanged);}},_commandsChanged:function(name,_125c,added){if(_125c){this._removeCommands(_125c);}if(added){this._addCommands(added);}},_getBuildInfo:function(_125d){var _125e,_125f=_125d.category;array.some(this.configuration,function(item){if(item.category==_125f){_125e=item;return true;}return false;});return _125e;},_addCommands:function(_1260){array.forEach(_1260,this._addCommand,this);},_addCommand:function(_1261){var _1262=this._getBuildInfo(_1261);if(_1262){_1262.builder.create(_1261,_1262.target);}},_removeCommands:function(_1263){array.forEach(_1263,function(_1264){var _1265=this._getBuildInfo(_1264);if(_1265){_1265.builder.remove(_1264,_1265.target);}},this);}});});},"epi/shell/widget/layout/_ComponentResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/widget/layout/_ComponentSplitter"],function(_1266,_1267,_1268){return _1266(null,{showSplitter:true,open:true,resizable:true,startup:function(){this.inherited(arguments);if(!this._splitter){var _1269={child:this,container:this.getParent(),id:this.id+"_splitter",region:"bottom"};if(this._splitterNode){this._splitter=new _1268(_1269,this._splitterNode);}else{this._splitter=new _1268(_1269);this.addChild(this._splitter);}}this._toggleSplitter(this.showSplitter);this._splitter.startup();this._splitter.set("disabled",!this.resizable);},destroy:function(){if(this._splitter){this._splitter.destroyRecursive();}this.inherited(arguments);},_setOpenAttr:function(value){this._set("open",value);_1267.set(this.domNode,"minHeight",this.get("minHeight")+"px");this.set("resizable",value);},_setResizableAttr:function(value){this._set("resizable",value);if(this._splitter){this._splitter.set("disabled",!value);}},_getMinHeightAttr:function(){if(this.open){return this.minHeight;}return this.getSize().h;},_setShowSplitterAttr:function(_126a){this._set("showSplitter",_126a);this._toggleSplitter(_126a);},_toggleSplitter:function(show){if(this._splitter){_1267.set(this._splitter.domNode,"display",show?"":"none");}},getSize:function(){},_setLastOpenHeightAttr:function(value){this._set("lastOpenHeight",value);if(value&&this.open){_1267.set(this.domNode,"height",value+"px");}},_getSettingsAttr:function(){return {open:this.open,lastOpenHeight:this.open?this.getSize().h:this.lastOpenHeight};}});});},"epi/shell/widget/layout/_ComponentSplitter":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/on","dojo/touch","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin"],function(_126b,event,lang,win,_126c,_126d,keys,on,touch,_126e,_126f,_1270){return _126b([_126e,_126f,_1270],{baseClass:"epi-gadgetGutter",templateString:"<div data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag\" role=\"separator\" tabindex=\"0\"></div>",disabled:false,constructor:function(){this._handlers=[];},_startDrag:function(e){if(this.disabled){return;}var _1271=this.domNode.style,_1272=e.pageY,node=this.child.domNode,_1273=_126d.getComputedStyle(node),_1274=_126c.getMarginExtents(node,_1273).h,_1275=_126c.getMarginBox(node,_1273).h,_1276=this.container._getMaxSizeChild?lang.hitch(this.container,"_getMaxSizeChild"):lang.hitch(this,function(){return this.child.maxHeight||Infinity;}),min=this.child.minHeight||0,_1277=parseInt(_1271.top,10),_1278=lang.hitch(this.container,"_layoutChildren",this.child),doc=win.doc;this._handlers=this._handlers.concat([on(doc,touch.move,this._drag=function(e,_1279){var delta=e.pageY-_1272,_127a=delta+_1275,_127b=Math.max(Math.min(_127a,_1276()),min+_1274);_1278(_127b,_1279);_1271.top=delta+_1277+_127b-_127a+"px";}),on(doc,"dragstart",event.stop),on(win.body(),"selectstart",event.stop),on(doc,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_stopDrag:function(e){try{this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}},_onKeyPress:function(e){var tick=1;switch(e.keyCode){case keys.UP_ARROW:tick=-1;break;case keys.DOWN_ARROW:break;default:return;}var _127c=_126c.getMarginSize(this.child.domNode).h+tick;this.container._layoutChildren(this.child,Math.max(Math.min(_127c,this.child.maxSize),this.child.minSize));event.stop(e);},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;this.inherited(arguments);}});});},"url:epi/shell/widget/layout/templates/_ComponentWrapperHeader.htm":"<div>\r\n    <div class=\"epi-gadgetTitle dojoxDragHandle\" data-dojo-attach-point=\"titleBarNode\">\r\n        <div data-dojo-attach-point=\"focusNode\" class=\"epi-gadgetTitleFocus\">\r\n            <button data-dojo-type=\"dijit/form/ToggleButton\" data-dojo-attach-point=\"toggleButton\"\r\n                data-dojo-attach-event=\"onClick:toggle\" data-dojo-props=\"title:'${res.togglebuttontooltip}', showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\">\r\n                ${title}</button>\r\n        </div>\r\n        <div class=\"epi-gadgetButtonBar\">\r\n            <button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"closeButton\" data-dojo-attach-event=\"onClick:onClose\"\r\n                data-dojo-props=\"showLabel:false, title:'${res.closebuttontooltip}', iconClass:'epi-gadget-delete', 'class':'epi-chromelessButton'\">\r\n                ${res.closebuttontooltip}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/layout/ComponentTabContainer":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/topic","dojo/when","dojo/Evented","dojo/text!./templates/ComponentTabContainer.htm","dijit/layout/TabContainer","dijit/layout/utils","epi/dependency","epi/shell/widget/layout/_ComponentTabController","epi/shell/widget/layout/_ComponentResizeMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton","epi/shell/widget/ComponentChrome","epi/shell/widget/_FocusableMixin","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/RemoveGadget"],function(array,lang,_127d,_127e,_127f,_1280,_1281,_1282,topic,when,_1283,_1284,_1285,_1286,_1287,_1288,_1289,_128a,_128b,_128c,_128d,_128e,_128f){return _127d([_1285,_128a,_1289,_128d,_1283,_128e],{useMenu:true,doLayout:true,useSlider:false,toggleable:true,templateString:_1284,controllerWidget:_1288,_removeCommand:null,postMixInProperties:function(){this.inherited(arguments);this.profile=this.profile||_1287.resolve("epi.shell.Profile");this._removeCommand=new _128f({model:this});},startup:function(){if(this._started){return;}this.inherited(arguments);when(this.profile.get(this.componentId+"_selectedTab")).then(this._selectStoredTab.bind(this));if(this.maxHeight){_127e.set(this.containerNode,"maxHeight",this.maxHeight);}},_selectStoredTab:function(_1290){if(!_1290){return;}var _1291=this.getChildren();var _1292=_1291.some(function(child){return child.id===_1290;});if(_1292){this.selectChild(_1290,false,true);}},postCreate:function(){this.inherited(arguments);this.add("commands",this._removeCommand);this.tablist.on("toggle",lang.hitch(this,function(_1293){this._started&&this.set("open",_1293);}));},addChild:function(child,_1294){var _1295=new _128c({title:child.get("heading")||""});_1295.addChild(child);this.inherited(arguments,[_1295,_1294]);if(this._started&&!_1295._started){_1295.startup();}},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _1296=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_1296;var _1297=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_1296},{domNode:this.containerNode,layoutAlign:"client"}];if(this._splitter){_1297.push({domNode:this._splitter.domNode,layoutAlign:"bottom"});}_1286.layoutChildren(this.domNode,this._contentBox,_1297);this._containerContentBox=_1286.marginBox2contentBox(this.containerNode,_1297[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1282.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}}},resize:function(_1298){_1298=lang.mixin({},_1298);if(!_1298.h){if(!this.open){_1298.h=this._getClosedHeight();}else{if(this.lastOpenHeight){_1298.h=this.lastOpenHeight;}}}this.inherited(arguments,[_1298]);},getSize:function(){var size=_1282.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _1299=_1282.getMarginExtents(this.domNode).h,_129a=this.tablist?_1282.getMarginBox(this.tablist.domNode).h:0,_129b=this._splitter?_1282.getMarginBox(this._splitter.domNode).h:0;return _129a+_129b+_1299;},selectChild:function(page,_129c,_129d){this.inherited(arguments);if(!_129d){this.profile.set(this.componentId+"_selectedTab",this.selectedChildWidget.id);}this._removeCommand.set("model",this.selectedChildWidget);},_makeController:function(_129e){var _129f=this.inherited(arguments);_129f.set("title",this.get("heading")||"");return _129f;},_setToggleableAttr:function(_12a0){this._set("toggleable",_12a0);this.tablist&&this.tablist.set("toggleable",this.toggleable);},_setOpenAttr:function(open){this.inherited(arguments);this.tablist.setOpen(open);_127e.set(this.containerNode,"display",open?"":"none");if(this._started){if(!open){this.lastOpenHeight=_1282.getMarginBox(this.domNode).h;}this.emit("toggle",this.open);}}});});},"url:epi/shell/widget/layout/templates/ComponentTabContainer.htm":"<div class=\"dijitTabContainer dojoxDragHandle epi-componentGroup epi-compactTabs\">\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n    <div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n    <div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n    <div data-dojo-attach-point=\"_splitterNode\"></div>\r\n</div>\r\n","dijit/layout/TabContainer":function(){define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_12a1,_12a2,_12a3,_12a4){return _12a1("dijit.layout.TabContainer",_12a2,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_12a5){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_12a3=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _12a3({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_12a5);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_12a4:_12a3;}}});});},"dijit/layout/_TabContainerBase":function(){require({cache:{"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n"}});define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_12a6,_12a7,_12a8,_12a9,_12aa,_12ab,_12ac,_12ad){return _12aa("dijit.layout._TabContainerBase",[_12a7,_12a9],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_12a6,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_12ad.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_12ab.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_12ab.add(this.domNode,"dijitTabContainerNested");_12ab.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_12ab.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_12ab.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_12ab.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_12ab.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _12ae=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_12ae;var _12af=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_12ae},{domNode:this.containerNode,layoutAlign:"client"}];_12a8.layoutChildren(this.domNode,this._contentBox,_12af);this._containerContentBox=_12a8.marginBox2contentBox(this.containerNode,_12af[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_12ac.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});});},"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(array,_12b0,_12b1,_12b2,has,lang,ready,topic,_12b3,_12b4,_12b5){if(has("dijit-legacy-requires")){ready(0,function(){var _12b6=["dijit/layout/StackController"];require(_12b6);});}var _12b7=_12b1("dijit.layout.StackContainer",_12b5,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_12b2.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _12b8=this.getChildren();array.forEach(_12b8,this._setupChild,this);if(this.persist){this.selectedChildWidget=_12b3.byId(_12b0(this.id+"_selectedChild"));}else{array.some(_12b8,function(child){if(child.selected){this.selectedChildWidget=child;}return child.selected;},this);}var _12b9=this.selectedChildWidget;if(!_12b9&&_12b8[0]){_12b9=this.selectedChildWidget=_12b8[0];_12b9.selected=true;}topic.publish(this.id+"-startup",{children:_12b8,selected:_12b9});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _12ba=this.selectedChildWidget;if(_12ba){this._showChild(_12ba);}}this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);_12b2.replace(child.domNode,"dijitHidden","dijitVisible");child.domNode.title="";},addChild:function(child,_12bb){this.inherited(arguments);if(this._started){topic.publish(this.id+"-addChild",child,_12bb);this.layout();if(!this.selectedChildWidget){this.selectChild(child);}}},removeChild:function(page){this.inherited(arguments);if(this._started){topic.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _12bc=this.getChildren();if(_12bc.length){this.selectChild(_12bc[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_12bd){page=_12b3.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_12bd);this._set("selectedChildWidget",page);topic.publish(this.id+"-selectChild",page);if(this.persist){_12b0(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_12be,_12bf){if(_12bf){this._hideChild(_12bf);}var d=this._showChild(_12be);if(_12be.resize){if(this.doLayout){_12be.resize(this._containerContentBox||this._contentBox);}else{_12be.resize();}}return d;},_adjacent:function(_12c0){var _12c1=this.getChildren();var index=array.indexOf(_12c1,this.selectedChildWidget);index+=_12c0?1:_12c1.length-1;return _12c1[index%_12c1.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){topic.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var child=this.selectedChildWidget;if(child&&child.resize){if(this.doLayout){child.resize(this._containerContentBox||this._contentBox);}else{child.resize();}}},_showChild:function(page){var _12c2=this.getChildren();page.isFirstChild=(page==_12c2[0]);page.isLastChild=(page==_12c2[_12c2.length-1]);page._set("selected",true);_12b2.replace(page.domNode,"dijitVisible","dijitHidden");return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_12b2.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _12c3=page.onClose(this,page);if(_12c3){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_12c4){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;array.forEach(this.getChildren(),function(child){if(!_12c4){this.removeChild(child);}child.destroyRecursive(_12c4);},this);this._descendantsBeingDestroyed=false;}});_12b7.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_12b4,_12b7.ChildWidgetProperties);return _12b7;});},"dijit/layout/ScrollingTabController":function(){require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>"}});define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(array,_12c5,_12c6,_12c7,_12c8,fx,lang,on,query,has,_12c9,_12ca,_12cb,_12cc,_12cd,_12ce,Menu,_12cf,_12d0,_12d1){var _12d2=_12c5("dijit.layout.ScrollingTabController",[_12cc,_12ce],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_12ca,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_12c6.add(n,"tabStrip-disabled");}_12c6.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_12c8.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_12d3){this.inherited(arguments);_12c8.set(this.containerNode,"width",(_12c8.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_12d4){var _12d5=this.pane2button[page.id];if(this._selectedTab===_12d5.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_12c7.getMarginSize(btn).w;return true;}else{_12c8.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _12d6=this.getChildren();if(_12d6.length){var _12d7=_12d6[this.isLeftToRight()?0:_12d6.length-1].domNode,_12d8=_12d6[this.isLeftToRight()?_12d6.length-1:0].domNode;return _12d8.offsetLeft+_12d8.offsetWidth-_12d7.offsetLeft;}else{return 0;}},_enableBtn:function(width){var _12d9=this._getTabsWidth();width=width||_12c8.get(this.scrollNode,"width");return _12d9>0&&width<_12d9;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_12cd.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_12c7.setContentSize(this.domNode,cb);var _12da=this._enableBtn(this._contentBox.w);this._buttons.style("display",_12da?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";_12cd.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_12c8.get(this.containerNode,"width")-_12c8.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _12db=_12c8.get(this.containerNode,"width")-_12c8.get(this.scrollNode,"width");return (has("ie")>=8?-1:1)*(val-_12db);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_12c8.get(this.scrollNode,"width")<node.offsetLeft+_12c8.get(node,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _12dc=this.getChildren(),_12dd=_12c8.get(this.scrollNode,"width"),_12de=_12c8.get(this.containerNode,"width"),_12df=_12de-_12dd,_12e0=this._getTabsWidth();if(_12dc.length&&_12e0>_12dd){return {min:this.isLeftToRight()?0:_12dc[_12dc.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_12dc[_12dc.length-1].domNode.offsetLeft+_12dc[_12dc.length-1].domNode.offsetWidth)-_12dd:_12df};}else{var _12e1=this.isLeftToRight()?0:_12df;return {min:_12e1,max:_12e1};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_12e2=_12c8.get(this.scrollNode,"width"),_12e3=this._getScrollBounds();var pos=(n.offsetLeft+_12c8.get(n,"width")/2)-_12e2/2;pos=Math.min(Math.max(pos,_12e3.min),_12e3.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _12e4=this._getScrollBounds();x=Math.min(Math.max(x,_12e4.min),_12e4.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_12c6.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_12e5,node){if(node&&_12c6.contains(node,"dijitTabDisabled")){return;}var _12e6=_12c8.get(this.scrollNode,"width");var d=(_12e6*0.75)*_12e5;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_12e7){var _12e8=this._getScrollBounds();this._leftBtn.set("disabled",_12e7<=_12e8.min);this._rightBtn.set("disabled",_12e7>=_12e8.max);}});var _12e9=_12c5("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_12cb,tabIndex:"",isFocusable:function(){return false;}});_12c5("dijit.layout._ScrollingTabControllerButton",[_12d0,_12e9]);_12c5("dijit.layout._ScrollingTabControllerMenuButton",[_12d0,_12d1,_12e9],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_12ea){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _12eb=_12c9.byId(this.containerId);array.forEach(_12eb.getChildren(),function(page){var _12ec=new _12cf({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,onClick:function(){_12eb.selectChild(page);}});this.dropDown.addChild(_12ec);},this);_12ea();},closeDropDown:function(focus){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _12d2;});},"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","epi/shell/widget/layout/_ComponentTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/Evented","dojo/text!./templates/_ComponentTabController.htm","dijit/layout/ScrollingTabController","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton"],function(array,_12ed,lang,_12ee,_12ef,_12f0,_12f1,_12f2,_12f3,_12f4,_12f5){return _12ed([_12f3,_12f4,_12f1],{templateString:_12f2,title:"",toggleable:true,open:true,addChild:function(child,index){if(index&&typeof index=="number"){index++;}else{index=this.getChildren().length+1;}this.inherited("addChild",[child,index]);_12ee.set(child.domNode,"display",this.open?"":"none");},_toggle:function(e){if(e){this._started&&!this._initializing&&this.set("open",!this.get("open"));}},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",title);},setOpen:function(open){this._initializing=true;this.set("open",open);this.toggleButton.set("checked",!this.open);this._initializing=false;},_setOpenAttr:function(open){this._set("open",open);if(!this.open){_12f0.add(this.tablistWrapper,"closed");}else{_12f0.remove(this.tablistWrapper,"closed");}this.toggleButton.set("showLabel",!this.open);array.forEach(this.getChildren(),lang.hitch(this,function(child){if(child!==this.toggleButton){_12ee.set(child.domNode,"display",this.open?"":"none");}}));!this._initializing&&this.emit("toggle",this.open);},_setToggleableAttr:function(_12f6){this._set("toggleable",_12f6);_12ee.set(this.toggleButton.domNode,"display",this.toggleable?"":"none");}});});},"url:epi/shell/widget/layout/templates/_ComponentTabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    \r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_menuBtn\"\r\n         data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n         data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_leftBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_rightBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n    <div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n        <div role='tablist' data-dojo-attach-event='onkeypress:onkeypress' data-dojo-attach-point='containerNode' class=\"nowrapTabStrip\" >\r\n            <div data-dojo-type=\"dijit.form.ToggleButton\" data-dojo-attach-point=\"toggleButton\" data-dojo-attach-event=\"onClick:_toggle\" data-dojo-props=\"showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/layout/ComponentPaneContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","epi/shell/widget/_ScrollbarMeasurementMixin","epi/shell/widget/layout/ComponentContainer"],function(array,_12f7,lang,_12f8,_12f9,_12fa,_12fb){return _12f7([_12fb,_12fa],{_previousChildrenCount:null,layoutComponents:function(){_12f9.set(this.containerNode,"overflow-y","hidden");var _12fc=this.getChildren();array.forEach(_12fc,function(_12fd){if(_12fd.lastOpenHeight&&(_12fd.lastOpenHeight<_12fd.minHeight)){_12fd.set("lastOpenHeight",_12fd.minHeight);}});if(_12fc.length===1){var child=_12fc[0];if(!child.open){child.set("open",true);}child.resize(this._containerSize);}else{if(_12fc.length===2){var _12fe=array.every(_12fc,function(child){return child.open;});array.forEach(_12fc,function(child){child.set("resizable",_12fe);});this._layout2Children(_12fc[0],_12fc[1]);}else{var _12ff=lang.hitch(this,function(width){var _1300=0;this.getChildren().forEach(function(child){_1300+=child.getSize().h;});if(width&&(_1300>this._containerSize.h)){width-=this.getScrollbarSize().x;}array.forEach(this.getChildren(),function(_1301){_1301.set("resizable",_1301.open);if(_1301.resize&&lang.isFunction(_1301.resize)){if(width){_1301.resize({w:width});}else{_1301.resize();}}});});if(this._previousChildrenCount<3){_12ff(null);}_12ff(this._containerSize.w);}}this._previousChildrenCount=_12fc.length;_12f9.set(this.containerNode,"overflow-y","auto");},_layout2Children:function(child,_1302){var _1303=this._containerSize;var _1304={w:_1303.w};var _1305={w:_1303.w};var _1306=child.getSize().h;var _1307=_1302.getSize().h;var _1308=Math.floor(_1303.h/2);if(child.open&&_1302.open&&(!child.lastOpenHeight||!_1302.lastOpenHeight)){_1304.h=_1308;_1305.h=_1303.h-_1308;}else{if(!child.open&&!_1302.open){_1304.h=_1306;_1305.h=_1307;child.set("lastOpenHeight",_1308);_1302.set("lastOpenHeight",_1303.h-_1308);}else{if(_1306<_1307){_1304.h=_1306;_1305.h=_1303.h-_1306;}else{_1304.h=_1303.h-_1307;_1305.h=_1307;}}}child.resize(_1304);_1302.resize(_1305);},_layoutChildren:function(child,_1309,_130a){var _130b=this.getChildren(),_130c=_12f8.getContentBox(this.containerNode).h;child.resize({h:_1309});if(_130b.length===2){array.forEach(_130b,function(_130d){if(_130d!==child){_130d.resize({h:_130c-_1309});}});}if(_130a){array.forEach(_130b,function(_130e){if(_130e.getSize().h){_130e.set("lastOpenHeight",_130e.getSize().h);}});this.layoutComponents();this._persistComponentSettings();}},_onCompontentsChanged:function(){var _130f=this.getChildren(),_1310=_130f.length>1,_1311=_130f.length>2,_1312=_130f.length===1;array.forEach(_130f,function(child,index){child.set("showSplitter",_1311||index<_130f.length-1);child.set("toggleable",_1310);if(_1312&&child.setDefaultStates){child.setDefaultStates();}},this);},_componentToggle:function(){var _1313=this.getChildren();if(_1313.length===2){var _1314=array.every(_1313,function(child){return child.open;});array.forEach(_1313,function(child){child.set("resizable",_1314);});}this.inherited(arguments);},_getMaxSizeChild:function(){var _1315=this.getChildren(),child=_1315[0],_1316=_1315[1],_1317=_12f8.getMarginBox(child.domNode).h;if(_1315.length===2){_1317+=_12f8.getMarginBox(_1316.domNode).h-_1316.minHeight;return _1317;}return child.maxHeight||Infinity;}});});},"epi/shell/widget/_ScrollbarMeasurementMixin":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dojo/dom-style"],function(_1318,win,_1319,_131a){var mixin=_1318([],{getScrollbars:function(node){var _131b=this.getScrollbarSize(),root=node.documentElement||node,_131c;function _131d(size,sb){if(root){return {y:root.scrollHeight>root.clientHeight?size.y:sb.y,x:root.scrollWidth>root.clientWidth?size.x:sb.x};}return {x:0,y:0};};function _131e(size){var _131f={x:0,y:0};if(root){_131a.get(root,"overflow-y")==="scroll"?_131f.y=size.y:_131f.y=0;_131a.get(root,"overflow-x")==="scroll"?_131f.x=size.x:_131f.x=0;_131a.get(root,"overflow")==="scroll"?_131f={x:size.x,y:size.y,permanent:true}:_131f.permanent=false;}return _131f;};if(root){_131c=_131e(_131b);return _131c.permanent?_131c:_131d(_131b,_131c);}return {x:0,y:0};},getScrollbarSize:function(){function _1320(){var _1321;try{var _1322=_1319.create("div",{style:{overflow:"scroll",position:"absolute",top:"-200px",left:"-200px",width:"100px",height:"100px"}},win.body());_1321={x:_1322.offsetWidth-_1322.clientWidth,y:_1322.offsetHeight-_1322.clientHeight};_1319.destroy(_1322);}catch(ex){_1321={x:16,y:16};}return _1321;};return mixin._scrollbarSize=mixin._scrollbarSize||_1320();}});return mixin;});},"epi/shell/widget/DateRange":function(){define(["dojo","dojo/i18n","epi","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/DateTextBox"],function(dojo,i18n,epi,_1323,_1324,_1325){return dojo.declare([_1323,_1324,_1325],{templateString:"<div class=\"ui-daterange-popup\" style=\"width:390px;\">            <div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"startDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"endDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>            </div>            <div style=\"text-align: right;margin: 20px 7px 0 0;\">                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"chooseButton\">${commonRes.action.choose}</button>                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"cancelButton\">${commonRes.action.cancel}</button>            </div>        </div>",closeParent:true,commonRes:epi.resources,forbidCloseParent:function(){this.closeParent=false;},allowCloseParent:function(){this.closeParent=true;}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_1326,_1327,_1328){return _1326("dijit.form.DateTextBox",_1328,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1327,_selector:"date",value:new Date("")});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(array,date,local,_1329,_132a,_132b,event,_132c,keys,lang,has,_132d,_132e,_132f,_1330,_1331){var _1332=_1329("dijit.Calendar",[_132d,_132e,_132f],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(value){_132c.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",value);},_createMonthWidget:function(){return new _1332._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_1333){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_1333);var _1334=this.dateModule.getDaysInMonth(date);var _1335=this.currentFocus.getDate();date.setDate(Math.min(_1335,_1334));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_132b.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_132b.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_132b.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_132b.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_132b.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_132b.contains(node,"dijitCalendarDisabledDate")){_132b.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_132b.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _1336=-1,_1337,_1338=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_1336=1;case keys.LEFT_ARROW:_1337="day";if(!this.isLeftToRight()){_1336*=-1;}break;case keys.DOWN_ARROW:_1336=1;case keys.UP_ARROW:_1337="week";break;case keys.PAGE_DOWN:_1336=1;case keys.PAGE_UP:_1337=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_1338=this.dateModule.add(_1338,"month",1);_1337="day";case keys.HOME:_1338=new this.dateClassObj(_1338);_1338.setDate(1);break;case keys.ENTER:case keys.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_1337){_1338=this.dateModule.add(_1338,_1337,_1336);}this._setCurrentFocusAttr(_1338);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){event.stop(evt);}},onValueSelected:function(){},onChange:function(value){this.onValueSelected(value);},getClassForDate:function(){}});_1332._MonthDropDownButton=_1329("dijit.Calendar._MonthDropDownButton",_1331,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _1332._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(month){var _1339=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.dropDown.set("months",_1339);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_1339[month.getMonth()]+"</div>";}});_1332._MonthDropDown=_1329("dijit.Calendar._MonthDropDown",[_132e,_1330],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_133a){this.domNode.innerHTML=array.map(_133a,function(month,idx){return month?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+month+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_132a.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_132b.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _1332;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./hccss"],function(array,_133b,_133c,date,_133d,stamp,dom,_133e,event,lang,has,_133f,_1340,_1341,_1342){var _1343=_133b("dijit.CalendarLite",[_1340,_1341],{templateString:_1342,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var value=new this.dateClassObj(this.value);value.setHours(0,0,0,0);if(value.getDate()<this.value.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_1344){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_1344||typeof _1344=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);var _1345=month.getDay(),_1346=this.dateModule.getDaysInMonth(month),_1347=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_1348=_133c.getFirstDayOfWeek(this.lang);if(_1348>_1345){_1348-=7;}if(!this.summary){var _1349=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.gridNode.setAttribute("summary",_1349[month.getMonth()]);}this._date2cell={};array.forEach(this.dateCells,function(_134a,idx){var i=idx+_1348;var date=new this.dateClassObj(month),_134b,clazz="dijitCalendar",adj=0;if(i<_1345){_134b=_1347-_1345+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_1345+_1346)){_134b=i-_1345-_1346+1;adj=1;clazz+="Next";}else{_134b=i-_1345+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_134b);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_134a.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_134a.removeAttribute("aria-disabled");_134a.setAttribute("aria-selected","false");}var _134c=this.getClassForDate(date,this.lang);if(_134c){clazz=_134c+" "+clazz;}_134a.className=clazz+"Month dijitCalendarDateTemplate";var _134d=date.valueOf();this._date2cell[_134d]=_134a;_134a.dijitDateValue=_134d;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_134e){this.dateModule=_134e.datePackage?lang.getObject(_134e.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_134e.datePackage?lang.getObject(_134e.datePackage+".locale",false):_133d;},_createMonthWidget:function(){return _1343._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_134f=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1350=_133c.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_133f.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _134f[_1350++%7];});var r=_133f.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _1351=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_1351,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _1352=lang.hitch(this,function(_1353,part,_1354){this.connect(this[_1353],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_1354));});});_1352("incrementMonth","month",1);_1352("decrementMonth","month",-1);_1352("nextYearLabelNode","year",1);_1352("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_1355){var _1356=this.currentFocus,_1357=this._getNodeByDate(_1356);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_1356,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _1358=this._getNodeByDate(date);_1358.setAttribute("tabIndex",this.tabIndex);if(this.focused||_1355){_1358.focus();}if(_1357&&_1357!=_1358){if(has("webkit")){_1357.setAttribute("tabIndex","-1");}else{_1357.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){event.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_133e.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_1359,cell){_133e.toggle(cell,"dijitCalendarSelectedDate",_1359);cell.setAttribute("aria-selected",_1359?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_1343._MonthWidget=_133b("dijit.CalendarLite._MonthWidget",_1340,{_setMonthAttr:function(month){var _135a=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_135b=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_135a,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_135b+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_135a[month.getMonth()]+"</div>";}});return _1343;});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_135c,stamp,_135d,lang,_135e,_135f,_1360){new Date("X");var _1361=_135d("dijit.form._DateTimeTextBox",[_135e,_135f],{templateString:_1360,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_135c.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _1362=this._isInvalidDate(val1);var _1363=this._isInvalidDate(val2);return _1362?(_1363?0:-1):(_1363?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(value,_1364){if(!value){return "";}return this.dateLocaleModule.format(value,_1364);},"parse":function(value,_1365){return this.dateLocaleModule.parse(value,_1365)||(this._isEmpty(value)?null:undefined);},serialize:function(val,_1366){if(val.toGregorian){val=val.toGregorian();}return stamp.toISOString(val,_1366);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_1367){this.dateModule=_1367.datePackage?lang.getObject(_1367.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_1367.datePackage?lang.getObject(_1367.datePackage+".locale",false):_135c;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_1368){_1368.selector=this._selector;_1368.fullYear=true;var _1369=stamp.fromISOString;if(typeof _1368.min=="string"){_1368.min=_1369(_1368.min);}if(typeof _1368.max=="string"){_1368.max=_1369(_1368.max);}this.inherited(arguments);},_isInvalidDate:function(value){return !value||isNaN(value)||typeof value!="object"||value.toString()==this._invalidDate;},_setValueAttr:function(value,_136a,_136b){if(value!==undefined){if(typeof value=="string"){value=stamp.fromISOString(value);}if(this._isInvalidDate(value)){value=null;}if(value instanceof Date&&!(this.dateClassObj instanceof Date)){value=new this.dateClassObj(value);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",value,false);}},_set:function(attr,value){if(attr=="value"&&this.value instanceof Date&&this.compare(value,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_136c){if(this.dropDown){this.dropDown.destroy();}var _136d=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_136e=this,value=this.get("value");this.dropDown=new _136d({onChange:function(value){_136e.set("value",value,true);},id:this.id+"_popup",dir:_136e.dir,lang:_136e.lang,value:value,currentFocus:!this._isInvalidDate(value)?value:this.dropDownDefaultValue,constraints:_136e.constraints,filterString:_136e.filterString,datePackage:_136e.params.datePackage,isDisabledDate:function(date){return !_136e.rangeCheck(date,_136e.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(value,_136f){this._setValueAttr(this.parse(value,this.constraints),_136f,value);}});return _1361;});},"epi/shell/widget/DateRangePicker":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/_base/window","dojo/has","dojo/topic","dijit/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_HasDropDown","epi/shell/widget/DateRange","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(_1370,lang,_1371,win,has,topic,popup,_1372,_1373,_1374,_1375,res){return _1370([_1372,_1373,_1374],{templateString:"<div>                             <a class=\"epi-iconToolbar-item-link epi-iconToolbar-calendar\" href=\"#\" title=\"${res.selectdateinterval}\" data-dojo-attach-point=\"_buttonNode, focusNode\"></a>                         </div>",res:res,startDate:new Date(),endDate:new Date(),openDropDown:function(){if(this.dropDown){this.dropDown.destroy();}this.dropDown=new _1375();this.dropDown.startDateInput._setValueAttr(this.startDate);this.dropDown.endDateInput._setValueAttr(this.endDate);this.connect(this.dropDown.chooseButton,"onClick",lang.hitch(this,"_onChooseClick"));this.connect(this.dropDown.cancelButton,"onClick",lang.hitch(this,"_closeDropDown"));this.connect(this.dropDown,"onMouseLeave",lang.hitch(this.dropDown,"allowCloseParent"));this.connect(win.body(),(!has("mozilla")?"onmousewheel":"DOMMouseScroll"),lang.hitch(this,"_closeDropDown"));this.inherited(arguments);_1371.set(this.dropDown.domNode,"width","390px");},_onBlur:function(){if(this.dropDown&&this.dropDown.closeParent){popup.close(this.dropDown);this._opened=false;}},_closeDropDown:function(){this.closeDropDown();},_onChooseClick:function(){this.startDate=this.dropDown.startDateInput.get("value");this.endDate=this.dropDown.endDateInput.get("value");this.closeDropDown();topic.publish("intervalHasBeenSet",this.id);}});});},"epi/shell/widget/DateTimeSelector":function(){define(["dojo/_base/declare","dojo/keys","dojo/aspect","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Calendar","epi/shell/widget/TimeSpinner","epi/datetime","dojo/text!./templates/DateTimeSelector.html","epi/shell/widget/TimeZoneInfo"],function(_1376,keys,_1377,_1378,_1379,_137a,_137b,_137c,_137d,_137e){return _1376([_1378,_1379,_137a],{templateString:_137e,value:null,postCreate:function(){this.inherited(arguments);_1377.after(this.calendar,"handleKey",function(evt){switch(evt.keyCode){case keys.RIGHT_ARROW:case keys.LEFT_ARROW:case keys.DOWN_ARROW:case keys.UP_ARROW:this.set("value",this.currentFocus);return true;default:return true;}},true);this.timeZoneInfo.updateOffset(this.calendar.get("value"));},_setValueAttr:function(value){this.calendar.set("value",value,false);this.timePicker.set("value",value,false);},_onCalendarKeyPress:function(e){if(e.keyCode===keys.TAB){this.timePicker.focus();}},_onTimePickerKeyPress:function(e){if(e.keyCode===keys.TAB){this.calendar.focus();}},_getValueAttr:function(){var _137f=this.calendar.get("value");var _1380=this.timePicker.get("value");if(!_137f&&!_1380){return null;}if(!_137f){this.calendar.goToToday();_137f=this.calendar.get("value");}if(!_1380){_1380=new Date(0,0,0,0,0,0,0);this.timePicker.set("value",_1380,false);}return new Date(_137f.getFullYear(),_137f.getMonth(),_137f.getDate(),_1380.getHours(),_1380.getMinutes(),_1380.getSeconds(),_1380.getMilliseconds());},_onChange:function(value){var _1381=this.get("value");this.onChange(_1381);this.timeZoneInfo.updateOffset(_1381);},onChange:function(value){},focus:function(){this.calendar.focus();}});});},"epi/shell/widget/TimeSpinner":function(){define(["dojo/_base/declare","epi/datetime","dojox/form/TimeSpinner"],function(_1382,_1383,_1384){return _1382([_1384],{smallDelta:60,largeDelta:360,_arrowPressed:function(_1385,_1386,_1387){this.inherited(arguments);this.onChange(this.get("value"));}});});},"dojox/form/TimeSpinner":function(){define("dojox/form/TimeSpinner",["dojo/_base/lang","dojo/_base/event","dijit/form/_Spinner","dojo/keys","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare"],function(lang,event,_1388,keys,_1389,_138a,_138b,_138c){return _138c("dojox.form.TimeSpinner",_1388,{required:false,adjust:function(val,delta){return _1389.add(val,"minute",delta);},isValid:function(){return true;},smallDelta:5,largeDelta:30,timeoutChangeRate:0.5,parse:function(time,_138d){return _138a.parse(time,{selector:"time",formatLength:"short"});},format:function(time,_138e){if(lang.isString(time)){return time;}return _138a.format(time,{selector:"time",formatLength:"short"});},serialize:_138b.toISOString,value:"12:00 AM",_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var value=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(value){this._setValueAttr(value,true);}event.stop(e);}}});});},"url:epi/shell/widget/templates/DateTimeSelector.html":"<div style=\"position: relative;\" class=\"epi-dateTimeWrapper\">\r\n    <div data-dojo-attach-point=\"calendar\" data-dojo-type=\"dijit/Calendar\"  data-dojo-attach-event=\"onChange: _onChange, onKeyPress:_onCalendarKeyPress\" ></div>\r\n    <div data-dojo-attach-point=\"calendarOverlay\" style=\"position: absolute; left: 0; top: 0;\"></div>\r\n    <div style=\"text-align: center; padding: 5px\" class=\"epi-timePickerWrapper\">\r\n        <div class=\"dijitInline dijitIcon epi-iconClock\"></div><div data-dojo-attach-point=\"timePicker\" data-dojo-type=\"epi/shell/widget/TimeSpinner\" data-dojo-attach-event=\"onKeyPress:_onTimePickerKeyPress, onChange: _onChange\"></div>\r\n        <div data-dojo-attach-point=\"timeZoneInfo\" data-dojo-type=\"epi/shell/widget/TimeZoneInfo\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/TimeZoneInfo":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","epi/shell/TimeZoneUtils"],function(_138f,_1390,_1391,_1392){return _138f([_1390,_1391],{templateString:"<div data-dojo-attach-point='timeZone' class='epi-timeZoneInfo'></div>",updateOffset:function(date){date=date?date:new Date();var _1393=Intl.DateTimeFormat().resolvedOptions().timeZone;var _1394=_1392.getOffset(date);this.timeZone.innerText=(_1393?_1393.replace("_"," ")+" ":"")+"("+_1394+")";}});});},"epi/shell/TimeZoneUtils":function(){define("epi/shell/TimeZoneUtils",[],function(){return {getOffset:function(date){var _1395=new RegExp("([A-Z]+[+-][0-9]{2})([0-9]{2})");var _1396=date.toString().match(_1395);return _1396[1]+":"+_1396[2];}};});},"epi/shell/widget/DateTimeSelectorDropDown":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","dijit/form/_DateTimeTextBox","epi/shell/widget/DateTimeSelector"],function(_1397,lang,keys,_1398,_1399){return _1397([_1398],{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1399,forceWidth:false,_isSelecting:false,_canceled:false,_isDropDownShowing:false,constructor:function(){this.constraints={formatLength:"short",fullYear:"true"};},toggleDropDown:function(){this._isSelecting=!this._isSelecting;this.inherited(arguments);},openDropDown:function(){this.inherited(arguments);this.dropDown.onChange=function(){};this.connect(this.dropDown.domNode,"onkeypress",lang.hitch(this,function(e){this._canceled=e.keyCode===keys.ESCAPE;if(e.keyCode===keys.ESCAPE||e.keyCode===keys.ENTER){this._isSelecting=false;this.closeDropDown(true);}}));this._isSelecting=true;this._canceled=false;this._dropDownShowing=true;},closeDropDown:function(focus){if(!this._isSelecting&&this._dropDownShowing){if(!this._canceled&&this.dropDown){this.set("value",this.dropDown.get("value"));}this.inherited(arguments);this._dropDownShowing=false;}},_onBlur:function(){this._isSelecting=false;if(this._dropDownShowing){this.closeDropDown();}this.inherited(arguments);}});});},"epi/shell/widget/FormContainer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dojo/aspect","dojo/has","dojo/when","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Form","epi/epi","require","epi/shell/widget/WidgetFactory","epi/shell/MetadataTransformer"],function(_139a,array,lang,_139b,_139c,has,when,_139d,_139e,_139f,Form,epi,_13a0,_13a1,_13a2){return _139a([_139d,_139e,_139f],{templateString:"<div class=\"epi-form-container\">                            <div data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">                            </div>                         </div>",value:null,metadata:null,propertyFilter:null,defaultContainerWidget:"epi/shell/layout/SimpleContainer",useDefaultValue:null,readOnly:false,doLayout:true,_widgetMap:null,_uiSetUp:false,_aspectHandles:null,postMixInProperties:function(){this.inherited(arguments);this._widgetMap={};this._aspectHandles=[];},startup:function(){if(this._started){return;}this.inherited(arguments);this._setupUI();},destroy:function(_13a3){array.forEach(this._aspectHandles,function(item){item.remove();});this._aspectHandles=null;if(this.containerLayout){this.containerLayout.destroyRecursive(_13a3);this.containerLayout=null;}this.inherited(arguments);},_getValueAttr:function(){return this._formCreated?this.form.get("value"):this.value;},_setValueAttr:function(value){if(this._formCreated){if(value){this.form.set("value",value);}else{this.form.reset();}}this._set("value",value);},_setMetadataAttr:function(_13a4){this._set("metadata",_13a4);},_getUseDefaultValueAttr:function(){if(this.useDefaultValue===null){return !this.value;}return this.useDefaultValue;},onGroupCreated:function(_13a5,_13a6){},onChange:function(value){},onFieldCreated:function(_13a7,_13a8){},_onFormCreated:function(_13a9){if(epi.isEmpty(this.get("value"))){this._onChange();}this.onFormCreated(_13a9);},onFormCreated:function(_13aa){},_setupUI:function(){var _13ab=new _13a1();var _13ac=this.metadataTransformer||new _13a2({propertyFilter:this.propertyFilter});when(this.metadata,lang.hitch(this,function(item){if(false){var _13ad=_13a0.timedGroup("FormContainer::_setupUI "+arguments.callee.caller.nom);}var _13ae=this.get("useDefaultValue");var _13af=_13ac.toComponentDefinitions(item,"",_13ae,this.readOnly);var _13b0=item.layoutType||this.defaultContainerWidget;require([_13b0],lang.hitch(this,function(_13b1){var _13b2=[],_13b3=[];this.containerLayout=new _13b1();_13b2.push(this.containerLayout);this.connect(_13ab,"onWidgetCreated",function(_13b4,_13b5){var _13b6=_13b2[_13b2.length-1];var _13b7=_13b3.length?_13b3[_13b3.length-1]:null;this._widgetMap[_13b4.id]={parent:_13b6,group:_13b7};this.own(this.watch("readOnly",lang.hitch(this,function(name,_13b8,value){_13b4.set("readOnly",value);})));if(_13b5.settings._type==="field"){_13b4.set("editMode","createcontent");this.connect(_13b4,"onChange","_onChange");this._aspectHandles.push(_139c.before(_13b4,"focus",lang.hitch(this,function(){this._beforeSetFocus(_13b4);})));this.onFieldCreated(_13b5.settings.name,_13b4);}else{if(_13b5.settings._type==="group"){_13b3.push(_13b4);this.onGroupCreated(_13b5.settings.name,_13b4,_13b7);}else{if(_13b5.settings._type==="parent"){_13b2.push(_13b4);}}}});this.connect(_13ab,"onWidgetHierarchyCreated",function(_13b9,_13ba){if(_13ba.settings._type==="group"){_13b3.pop();}else{if(_13ba.settings._type==="parent"){_13b2.pop();}}});when(_13ab.createWidgets(this.containerLayout,_13af,false),lang.hitch(this,function(_13bb){if(this._destroyed){if(false){_13ad.end();}return;}this.containerLayout.placeAt(this.form.domNode);this._formCreated=true;this.form.connectChildren();if(this.value!==null){this.set("value",this.value);}this.layout();this._uiSetUp=true;this._onFormCreated(this);_13ab=null;_13b2=null;_13b3=null;if(false){_13ad.end();}}));this.own(this.form.watch("state",lang.hitch(this,function(name,_13bc,value){this.set("state",value);})));}));}));},_onChange:function(){if(!this._uiSetUp){return;}var _13bd=this.form.get("value");if(!epi.areEqual(this.value,_13bd)){this.value=_13bd;this.onChange(_13bd);}},focus:function(){},layout:function(){if(!this._started){return;}var child=this.containerLayout;if(child&&child.resize){var size=this._containerContentBox||this._contentBox;child.resize(this.doLayout&&size&&size.w&&size.h?size:null);}},validate:function(){return this._uiSetUp&&this.form.validate();},isValid:function(){return this.validate();},_beforeSetFocus:function(_13be){if(this._widgetMap[_13be.id]){var _13bf=this._widgetMap[_13be.id].parent;var group=this._widgetMap[_13be.id].group;this._beforeSetFocus(_13bf);if(_13bf.selectChild){_13bf.selectChild(group);}}}});});},"dijit/form/Form":function(){define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_13c0,_13c1,event,_13c2,has,_13c3,_13c4,_13c5,_13c6){return _13c0("dijit.form.Form",[_13c3,_13c4,_13c5,_13c6],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(value){this.encType=value;_13c1.set(this.domNode,"encType",value);if(has("ie")){this.domNode.encoding=value;}},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);event.stop(e);return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_13c2.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){event.stop(e);}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"epi/shell/MetadataTransformer":function(){define("epi/shell/MetadataTransformer",["dojo/_base/declare","dojo/_base/lang","epi/string","epi/shell/TypeDescriptorManager"],function(_13c7,lang,_13c8,_13c9){return _13c7(null,{defaultGroupType:"epi/shell/layout/GroupContainer",defaultSingleGroupType:"epi/shell/layout/SimpleContainer",defaultParentType:"epi/shell/layout/ParentContainer",defaultGroupName:"defaultGroup",defaultGroupTitle:"",propertyFilter:null,constructor:function(args){_13c7.safeMixin(this,args);},toComponentDefinitions:function(item,_13ca,_13cb,_13cc){var _13cd=this._filterProperties(item);var _13ce=lang.getObject("additionalValues.modelTypeIdentifier",false,item);return this._getComponentDefinitions(_13cd,item.groups,_13ca,_13cb,_13cc,_13ce);},transformPropertySettings:function(_13cf,_13d0,_13d1,_13d2,_13d3){var _13d4=lang.mixin(_13d1?{value:_13cf.initialValue}:{},{_type:_13cf.hideSurroundingHtml?"hiddenfield":"field",name:_13d0+_13c8.pascalToCamel(_13cf.name),label:_13cf.displayName,selections:_13cf.selections,displayui:_13cf.displayui,readOnly:_13d2},_13cf.settings);this._setTranslatedLabelAndTooltip(_13d4,_13d3);return {settings:_13d4,widgetType:_13cf.uiType,widgetPackage:_13cf.uiPackage};},_filterProperties:function(_13d5){var _13d6=this.propertyFilter,_13d7=_13d5.properties;return _13d6?_13d7.filter(lang.hitch(this,function(prop){return _13d6(_13d5,prop);})):_13d7;},_getComponentDefinitions:function(_13d8,_13d9,_13da,_13db,_13dc,_13dd){var _13de=lang.clone(_13d8)||[],_13df,_13e0={},_13e1=_13c8.pascalToCamel(this.defaultGroupName),_13e2,_13e3=function(item1,item2){return (item1.displayOrder||0)-(item2.displayOrder||0);};_13df=(_13d9||[]).map(function createGroups(group){var _13e4=this._createGroupContainer(group,_13dc);_13e0[_13e4.settings.name]=_13e4;return _13e4;},this);_13df.sort(_13e3);_13df.unshift(_13e0[_13e1]=_13e2=this._createGroupContainer({name:_13e1,title:this.defaultGroupTitle,displayUI:true},_13dc));_13de.sort(_13e3);_13de.forEach(function createProperties(_13e5){if(!_13e5.showForEdit){return;}var _13e6=_13c8.pascalToCamel(_13e5.groupName||""),group=_13e0[_13e6]||_13e2;var _13e7=_13e5.uiType?this.transformPropertySettings(_13e5,_13da,_13db,_13dc,_13dd):this._createParentContainer(_13e5,_13da,_13db,_13dc,_13dd);_13e7 instanceof Array?Array.prototype.push.apply(group.components,_13e7):group.components.push(_13e7);},this);_13df=_13df.filter(function(group){return group.settings.displayui&&group.components.length;});if(_13df.length===1&&_13df[0].widgetType===this.defaultGroupType){_13df[0].widgetType=this.defaultSingleGroupType;}return _13df;},_createGroupContainer:function(group,_13e8){var _13e9={_type:"group",name:_13c8.pascalToCamel(group.name),title:group.title,readOnly:_13e8,displayui:group.displayUI};return {displayOrder:group.displayOrder,settings:lang.mixin(_13e9,group.options),widgetType:group.uiType||this.defaultGroupType,components:[]};},_createParentContainer:function(_13ea,_13eb,_13ec,_13ed,_13ee){var _13ef={_type:"parent",name:_13eb+_13c8.pascalToCamel(_13ea.name),title:_13ea.displayName};this._setTranslatedLabelAndTooltip(_13ef,_13ee);var _13f0=this._filterProperties(_13ea);return {settings:lang.mixin(_13ef,_13ea.settings),widgetType:_13ea.layoutType||this.defaultParentType,components:this._getComponentDefinitions(_13f0,_13ea.groups,_13ef.name+".",_13ec,_13ed,_13ee)};},_setTranslatedLabelAndTooltip:function(_13f1,_13f2){var _13f3;var _13f4="properties."+_13f1.name.toLowerCase();if(!_13f2||!(_13f3=_13c9.getResourceValue(_13f2,_13f4))){return;}if(_13f3.caption){_13f1.label=_13f3.caption;if(_13f1.hasOwnProperty("title")){_13f1.title=_13f3.caption;}}if(!_13f1.tooltip&&_13f3.help){_13f1.tooltip=_13f3.help;}}});});},"epi/string":function(){define("epi/string",["dojo/_base/lang","dojox/html/entities"],function(lang,_13f5){var _13f6=document.implementation.createHTMLDocument("nonEvaluating").body;return {pascalToCamel:function(input){var parts=input.split(".");var _13f7=this._toCamelCase(parts[0]);for(var i=1;i<parts.length;i++){_13f7+="."+this._toCamelCase(parts[i]);}return _13f7;},_toCamelCase:function(input){if(!input){return "";}if(input[0]===input[0].toLowerCase()){return input;}var _13f8="";for(var i=0;i<input.length;i++){var _13f9=(i+1<input.length);if((i===0||!_13f9)||input[i+1]===input[i+1].toUpperCase()){_13f8+=input[i].toLowerCase();}else{_13f8+=input.substring(i);break;}}return _13f8;},stripHtmlTags:function(input){if(this.isNullOrEmpty(input)){return "";}_13f6.innerHTML=input.replace(/&/gim,"&amp;");return this.removeAllCarriageReturns(_13f6.textContent);},removeAllCarriageReturns:function(input){if(this.isNullOrEmpty(input)){return "";}var _13fa=input.replace(/\t|\r|\n/gim,"");return _13fa.replace(/ {2,}/gim," ");},encodeForWebString:function(input,_13fb){if(this.isNullOrEmpty(input)){return "";}var _13fc=_13f5.encode(input);if(!_13fb||_13fb.length===0){return _13fc;}var _13fd=new RegExp("&lt;(/?("+_13fb.join("|")+")/?\\s*)&gt;","gim");return _13fc.replace(_13fd,"<$1>");},isNullOrEmpty:function(input){return !input||(/^\s*$/).test(input);},toHTML:function(input){if(this.isNullOrEmpty(input)){return "";}return input.replace(/\r\n|\n|\r|\\n/g,"<br/>");},toTooltipText:function(input){if(this.isNullOrEmpty(input)){return "";}return input.replace(/\\n/gim,"\n");},appendTrailingSlash:function(url){return url.replace(/\/?$/,"/");},truncateMiddle:function(words,_13fe,_13ff){if(typeof words==="string"){words=words.split(/\s+/g);}else{words=words.concat();}if(words.join("").length<=_13fe){return words;}var _1400=function(words,_1401,_1402){if(_1402){return _1400(words.reverse(),_1401).reverse();}var count=0;return words.filter(function(word){count+=word.length;return count<=_1401;});};var _1403=Math.ceil(_13fe/2);var _1404=Math.floor(_13fe/2);var _1405=_1400(words,_1403);_13ff=_13ff||"&hellip;";_1405.push(_13ff);return _1405.concat(_1400(words,_1404,true));}};});},"epi/shell/widget/HelpButton":function(){define(["dojo/_base/declare","dojo/i18n","epi","epi/dependency","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/HelpButton.htm"],function(_1406,i18n,epi,_1407,_1408,_1409,_140a){return _1406([_1408,_1409],{moduleName:null,webHelpAlias:null,helpUrl:null,templateString:_140a,commonRes:epi.resources,postMixInProperties:function(){if(this.helpUrl===null){var _140b=_1407.resolve("epi.ModuleManager");var _140c=_140b.getModule(this.moduleName);this.helpUrl=_140c.helpPath+"#"+this.webHelpAlias;}this.inherited(arguments);}});});},"url:epi/shell/widget/templates/HelpButton.htm":"<span><a target=\"_blank\" href=\"${helpUrl}\" title=\"${commonRes.action.help}\" onclick=\"window.open('${helpUrl}','_blank', 'scrollbars=yes, height=500, location=no, menubar=no, resizable=yes, toolbar=no, width=840');return false;\" class=\"epi-helpIcon\">&nbsp;</a></span>","epi/shell/widget/IframeWithOverlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","dojo/number","dojo/aspect","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct","dojo/dom-class","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","./_ScrollbarMeasurementMixin","./AutoResizingIframe","./overlay/OverlayContainer","epi/shell/layout/_LayoutWidget","epi/shell/widget/DelayableStandby","dojo/text!./templates/IframeWithOverlay.html"],function(_140d,lang,array,has,_140e,_140f,_1410,_1411,_1412,_1413,_1414,_1415,_1416,_1417,_1418,_1419,_141a,_141b){return _140d([_1419,_1414,_1415,_1416],{templateString:_141b,autoResize:true,previewSize:null,devicePreviewClass:"",iframeName:"",previewClass:"",standbySettings:{delayTime:3000,duration:350},postCreate:function(){this.inherited(arguments);this.overlay.set("target",this.iframe);this._setupStandby();},startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.iframe,"onUnload",function(){this._standby.show();});this.connect(this.iframe,"onLoad",function(){this._standby.hide();});this.own(_140f.after(this.iframe,"onAfterResize",function(){this.emit("viewportresized");}.bind(this),true));this._setCenterViewport(this._availableViewport||this._contentBox||_1410.getContentBox(this.containerNode),true);},addChild:function(_141c,_141d){function show(){this.layout();array.forEach(_141c.getChildren(),function(_141e){_141e.connect(_141e,"onLayoutChanged",lang.hitch(this,function(){if(_141c.open){this.layout();}}));},this);};_141c.connect(_141c,"onAfterShow",lang.hitch(this,show));_141c.connect(_141c,"onAfterHide",lang.hitch(this,this._hide));this.inherited(arguments);},onLayoutChanged:function(){this.inherited(arguments);this.getChildren().forEach(lang.hitch(this,function(_141f){if(_141f.open){this.scrollIntoView(_141f.overlayItem);}else{if(_141f!==this.iframe||_141f!==this.overlay){this._hide();}}}));},layout:function(force){if(!this._contentBox){return;}this._layoutChildren(force);this.inherited(arguments);},_layoutChildren:function(force){if(force){this._resetScroll();}this._positionChildren();this._setCenterViewport(this._availableViewport,force);},_positionChildren:function(){var _1420=this.get("centerSize");this._availableViewport=lang.mixin({},this._contentBox);_1411.set(this.scroller,{width:""});var _1421=this.getScrollbars(this.scroller);array.forEach(this.getChildren(),function(child){if(child===this.iframe||child===this.overlay||child.open===false||child.visible===false){return;}var _1422;switch(child.region){case "leading":if(child.resize){child.resize({t:0,l:0,h:this._contentBox.h-_1421.x});}_1422=_1410.position(child.domNode);this._availableViewport.w-=_1422.w;this._availableViewport.l+=_1422.w;break;case "trailing":if(child.resize){if(!child._computedStyle){child._computedStyle=_1411.getComputedStyle(child.domNode);}_1422=_1410.getMarginBox(child.domNode,child._computedStyle);child.resize({t:0,h:this._contentBox.h-_1421.x});_1411.set(child.domNode,{right:_1421.y+"px"});_1411.set(this.scroller,{width:(this._availableViewport.w-_1422.w)+"px"});this._availableViewport.w-=_1422.w+_1421.y;}break;case "center":if(child.resize){child.resize(_1420);}break;default:break;}},this);},_setCenterViewport:function(_1423,_1424){var _1425=lang.clone(this.get("centerSize")),_1426,_1427;function _1428(_1429,axis){var _142a=_1423[_1429],_142b=_1425[_1429],size=_142a>_142b?(_142a-_142b)/2:0;size-=_1427[axis];return Math.round(size);};if(!_1425){return;}this.previewContainer._computedStyle=this.previewContainer._computedStyle||_1411.getComputedStyle(this.previewContainer);_1427=_1410.getPadBorderExtents(this.previewContainer,this.previewContainer._computedStyle);if(!this.autoResize){_1426=this.getScrollbarSize();_1425.w=parseInt(_1425.w)+_1426.x;_1425.h=parseInt(_1425.h);}_1411.set(this.previewContainer,{top:_1428("h","t")+"px",left:_1428("w","l")+"px",width:_1425.w+"px",height:_1425.h+"px"});this.iframe.resize(_1425,!!_1424);},onViewportPullDown:function(){this.emit("viewportpulldown");},scrollIntoView:function(_142c){var _142d,_142e,_142f,_1430=16;if(this.iframe.isLoading||!this._contentBox){return;}this._layoutChildren();if((!this.autoResize&&this.previewSize.w<this._availableViewport.w)){return;}_142d=_142c.get("position");_142e=_142d.x+_142d.w+_1430-this.scroller.scrollLeft-this._availableViewport.w;_142f=this.previewContainer.clientWidth+_142e;_1411.set(this.scrollSizer,{width:_142f+"px"});this.previewContainer.scrollLeft=_142e;this._positionChildren(this.get("centerSize"));},_resetScroll:function(){_1411.set(this.scrollSizer,{width:"1px"});},_setupStandby:function(){var _1431=lang.mixin(this.standbySettings,{target:this.scroller});this.own(this._standby=new _141a(_1431).placeAt(this.domNode,"last"));},_getCenterSizeAttr:function(){return this.previewSize||this._contentBox;},_setPreviewSizeAttr:function(size){this.autoResize=!size;this.previewSize=size;_1413.toggle(this.scroller,"epi-editorViewport-preview",!this.autoResize);this.layout();},_setDevicePreviewClassAttr:function(value){if(value){_1413.replace(this.scroller,value,this.devicePreviewClass);}else{_1413.remove(this.scroller,this.devicePreviewClass);}this._set("devicePreviewClass",value);},_setPreviewClassAttr:function(value){if(value){_1413.replace(this.scroller,value,this.previewClass);}else{_1413.remove(this.scroller,this.previewClass);}this._set("previewClass",value);},_hide:function(){this._resetScroll();_1411.set(this.scroller,{width:""});this._setCenterViewport(this._contentBox);},showDelay:function(delay){this._standby.show(delay);},hideDelay:function(delay){this._standby.hide();}});});},"dojo/number":function(){define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_1432,_1433,_1434){var _1435={};lang.setObject("dojo.number",_1435);_1435.format=function(value,_1436){_1436=lang.mixin({},_1436||{});var _1437=i18n.normalizeLocale(_1436.locale),_1438=i18n.getLocalization("dojo.cldr","number",_1437);_1436.customs=_1438;var _1439=_1436.pattern||_1438[(_1436.type||"decimal")+"Format"];if(isNaN(value)||Math.abs(value)==Infinity){return null;}return _1435._applyPattern(value,_1439,_1436);};_1435._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_1435._applyPattern=function(value,_143a,_143b){_143b=_143b||{};var group=_143b.customs.group,_143c=_143b.customs.decimal,_143d=_143a.split(";"),_143e=_143d[0];_143a=_143d[(value<0)?1:0]||("-"+_143e);if(_143a.indexOf("%")!=-1){value*=100;}else{if(_143a.indexOf("")!=-1){value*=1000;}else{if(_143a.indexOf("")!=-1){group=_143b.customs.currencyGroup||group;_143c=_143b.customs.currencyDecimal||_143c;_143a=_143a.replace(/\u00a4{1,3}/,function(match){var prop=["symbol","currency","displayName"][match.length-1];return _143b[prop]||_143b.currency||"";});}else{if(_143a.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _143f=_1435._numberPatternRE;var _1440=_143e.match(_143f);if(!_1440){throw new Error("unable to find a number expression in pattern: "+_143a);}if(_143b.fractional===false){_143b.places=0;}return _143a.replace(_143f,_1435._formatAbsolute(value,_1440[0],{decimal:_143c,group:group,places:_143b.places,round:_143b.round}));};_1435.round=function(value,_1441,_1442){var _1443=10/(_1442||10);return (_1443*+value).toFixed(_1441)/_1443;};if((0.9).toFixed()==0){var round=_1435.round;_1435.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return round(v,p,m)+(v>0?d:-d);};}_1435._formatAbsolute=function(value,_1444,_1445){_1445=_1445||{};if(_1445.places===true){_1445.places=0;}if(_1445.places===Infinity){_1445.places=6;}var _1446=_1444.split("."),comma=typeof _1445.places=="string"&&_1445.places.indexOf(","),_1447=_1445.places;if(comma){_1447=_1445.places.substring(comma+1);}else{if(!(_1447>=0)){_1447=(_1446[1]||[]).length;}}if(!(_1445.round<0)){value=_1435.round(value,_1447,_1445.round);}var _1448=String(Math.abs(value)).split("."),_1449=_1448[1]||"";if(_1446[1]||_1445.places){if(comma){_1445.places=_1445.places.substring(0,comma);}var pad=_1445.places!==undefined?_1445.places:(_1446[1]&&_1446[1].lastIndexOf("0")+1);if(pad>_1449.length){_1448[1]=_1433.pad(_1449,pad,"0",true);}if(_1447<_1449.length){_1448[1]=_1449.substr(0,_1447);}}else{if(_1448[1]){_1448.pop();}}var _144a=_1446[0].replace(",","");pad=_144a.indexOf("0");if(pad!=-1){pad=_144a.length-pad;if(pad>_1448[0].length){_1448[0]=_1433.pad(_1448[0],pad);}if(_144a.indexOf("#")==-1){_1448[0]=_1448[0].substr(_1448[0].length-pad);}}var index=_1446[0].lastIndexOf(","),_144b,_144c;if(index!=-1){_144b=_1446[0].length-index-1;var _144d=_1446[0].substr(0,index);index=_144d.lastIndexOf(",");if(index!=-1){_144c=_144d.length-index-1;}}var _144e=[];for(var whole=_1448[0];whole;){var off=whole.length-_144b;_144e.push((off>0)?whole.substr(off):whole);whole=(off>0)?whole.slice(0,off):"";if(_144c){_144b=_144c;delete _144c;}}_1448[0]=_144e.reverse().join(_1445.group||",");return _1448.join(_1445.decimal||".");};_1435.regexp=function(_144f){return _1435._parseInfo(_144f).regexp;};_1435._parseInfo=function(_1450){_1450=_1450||{};var _1451=i18n.normalizeLocale(_1450.locale),_1452=i18n.getLocalization("dojo.cldr","number",_1451),_1453=_1450.pattern||_1452[(_1450.type||"decimal")+"Format"],group=_1452.group,_1454=_1452.decimal,_1455=1;if(_1453.indexOf("%")!=-1){_1455/=100;}else{if(_1453.indexOf("")!=-1){_1455/=1000;}else{var _1456=_1453.indexOf("")!=-1;if(_1456){group=_1452.currencyGroup||group;_1454=_1452.currencyDecimal||_1454;}}}var _1457=_1453.split(";");if(_1457.length==1){_1457.push("-"+_1457[0]);}var re=_1434.buildGroupRE(_1457,function(_1458){_1458="(?:"+_1434.escapeString(_1458,".")+")";return _1458.replace(_1435._numberPatternRE,function(_1459){var flags={signed:false,separator:_1450.strict?group:[group,""],fractional:_1450.fractional,decimal:_1454,exponent:false},parts=_1459.split("."),_145a=_1450.places;if(parts.length==1&&_1455!=1){parts[1]="###";}if(parts.length==1||_145a===0){flags.fractional=false;}else{if(_145a===undefined){_145a=_1450.pattern?parts[1].lastIndexOf("0")+1:Infinity;}if(_145a&&_1450.fractional==undefined){flags.fractional=true;}if(!_1450.places&&(_145a<parts[1].length)){_145a+=","+parts[1].length;}flags.places=_145a;}var _145b=parts[0].split(",");if(_145b.length>1){flags.groupSize=_145b.pop().length;if(_145b.length>1){flags.groupSize2=_145b.pop().length;}}return "("+_1435._realNumberRegexp(flags)+")";});},true);if(_1456){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(match,_145c,_145d,after){var prop=["symbol","currency","displayName"][_145d.length-1],_145e=_1434.escapeString(_1450[prop]||_1450.currency||"");_145c=_145c?"[\\s\\xa0]":"";after=after?"[\\s\\xa0]":"";if(!_1450.strict){if(_145c){_145c+="*";}if(after){after+="*";}return "(?:"+_145c+_145e+after+")?";}return _145c+_145e+after;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:group,decimal:_1454,factor:_1455};};_1435.parse=function(_145f,_1460){var info=_1435._parseInfo(_1460),_1461=(new RegExp("^"+info.regexp+"$")).exec(_145f);if(!_1461){return NaN;}var _1462=_1461[1];if(!_1461[1]){if(!_1461[2]){return NaN;}_1462=_1461[2];info.factor*=-1;}_1462=_1462.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _1462*info.factor;};_1435._realNumberRegexp=function(flags){flags=flags||{};if(!("places" in flags)){flags.places=Infinity;}if(typeof flags.decimal!="string"){flags.decimal=".";}if(!("fractional" in flags)||/^0/.test(flags.places)){flags.fractional=[true,false];}if(!("exponent" in flags)){flags.exponent=[true,false];}if(!("eSigned" in flags)){flags.eSigned=[true,false];}var _1463=_1435._integerRegexp(flags),_1464=_1434.buildGroupRE(flags.fractional,function(q){var re="";if(q&&(flags.places!==0)){re="\\"+flags.decimal;if(flags.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+flags.places+"}";}}return re;},true);var _1465=_1434.buildGroupRE(flags.exponent,function(q){if(q){return "([eE]"+_1435._integerRegexp({signed:flags.eSigned})+")";}return "";});var _1466=_1463+_1464;if(_1464){_1466="(?:(?:"+_1466+")|(?:"+_1464+"))";}return _1466+_1465;};_1435._integerRegexp=function(flags){flags=flags||{};if(!("signed" in flags)){flags.signed=[true,false];}if(!("separator" in flags)){flags.separator="";}else{if(!("groupSize" in flags)){flags.groupSize=3;}}var _1467=_1434.buildGroupRE(flags.signed,function(q){return q?"[-+]":"";},true);var _1468=_1434.buildGroupRE(flags.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_1434.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=flags.groupSize,grp2=flags.groupSize2;if(grp2){var _1469="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_1469+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_1469;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _1467+_1468;};return _1435;});},"dojo/cldr/nls/number":function(){define("dojo/cldr/nls/number",{root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:letter:]","infinity":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:letter:]","currencyFormat":"#,##0.00","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000T","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});},"epi/shell/widget/AutoResizingIframe":function(){define(["dojo/_base/declare","./Iframe","./_AutoResizingIframeMixin","./_DynamicStyleSheetIframeMixin"],function(_146a,_146b,_146c,_146d){return _146a([_146b,_146c,_146d],{});});},"epi/shell/widget/_AutoResizingIframeMixin":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/dom-style","dojo/has","epi/shell/postMessage","epi/shell/widget/_ScrollbarMeasurementMixin"],function(_146e,_146f,_1470,_1471,has,_1472,_1473){return _146e([_1473],{onAfterResize:function(size){},postCreate:function(){var self=this,_1474=this.name+"/site/resize";this.inherited(arguments);this.own(_1472.subscribe(_1474,function(_1475){self.contentChange(_1475);}));},checkSize:function(){_1472.publish("/site/checksize",{},this.getWindow());},onLoad:function(){if(this.isInspectable()){this.setOverflow("hidden");}this.inherited(arguments);},onUnload:function(){this.inherited(arguments);if(this._contentBox){_1471.set(this.iframe,{width:this._contentBox.w+"px",height:this._contentBox.h+"px"});}},contentChange:function(_1476){if(this._contentBox){this.resize(this._contentBox,true,_1476);}},resize:function(size,force,_1477){var self=this,def=this._resize(size,force,_1477);def.then(function(_1478){self.onAfterResize(_1478);});return def;},_resize:function(size,force,_1479){var _147a=this._contentBox||{h:0,w:0},self=this,_147b=new _146f(),_147c=new _146f(),_147d={h:size.h,w:size.w};function _147e(_147f){if(self.resizeThrottle){clearTimeout(self.resizeThrottle);self.resizeThrottle=null;}self.resizeThrottle=setTimeout(function(){_1471.set(self.iframe,{width:(_147f.w)+"px"});_147b.resolve();},50);return _147b;};if(force||(size&&(size.h!==_147a.h||size.w!==_147a.w))){this._contentBox=size;_147d.w-=this.getScrollbarSize().x;_147e(_147d).then(function(){var _1480={h:0,w:0};if(self.isInspectable()){_1480=self._setToDocumentSize(_147d);}else{if(_1479){_1471.set(self.iframe,{width:Math.max(_147d.w,_1479.w)+"px",height:Math.max(_147d.h,_1479.h)+"px"});}}_147c.resolve(_1480);});}return _147c.promise;},_setToDocumentSize:function(_1481){this.setOverflow("visible");var _1482={w:Math.max(this.iframe.contentDocument.body.scrollWidth,_1481.w),h:Math.max(this.iframe.contentDocument.body.scrollHeight,_1481.h)};if(_1482.w>0&&_1482.h>0){_1471.set(this.iframe,{width:_1482.w+"px",height:_1482.h+"px"});}this.setOverflow("hidden");_1470.set(this.iframe,"data-epi-ipad-ping","pong");return _1482;},setOverflow:function(_1483){var doc=this.getDocument();if(doc&&doc.documentElement&&doc.body){_1471.set(doc.documentElement,{overflow:_1483});_1471.set(doc.body,{overflow:_1483});}}});});},"epi/shell/widget/_DynamicStyleSheetIframeMixin":function(){define(["dojo/_base/declare","dijit/Destroyable","epi/shell/DynamicStyleSheet"],function(_1484,_1485,_1486){return _1484([_1485],{cssRules:null,postMixInProperties:function(){this.inherited(arguments);this.cssRules=[];},postCreate:function(){this.inherited(arguments);this.own(this.watch("isLoading",this._isLoadingHandler));this._setup();},destroy:function(){if(this._css){this._css.destroy();}this.inherited(arguments);},addCssRules:function(rules){var _1487=rules instanceof Array;_1487?this.cssRules=this.cssRules.concat(rules):this.cssRules.push(rules);if(this._css){_1487?this._css.addRules(rules):this._css.addRule(rules);}},_isLoadingHandler:function(name,_1488,_1489){if(_1489){if(this._css){this._css.destroy();}}else{this._setup();}},_setup:function(){if(this.isInspectable()){this._css=new _1486({doc:this.getDocument(),rules:this.cssRules});}}});});},"epi/shell/DynamicStyleSheet":function(){define("epi/shell/DynamicStyleSheet",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(array,_148a,_148b){return _148a(null,{doc:null,_styleSheet:null,_ruleIndexes:null,_addedRules:null,constructor:function(_148c){if(!_148c||!_148c["doc"]){throw new Error("No doc parameter specified");}this._doc=_148c["doc"];this._addedRules=[];this._ruleIndexes=[];var rules=_148c["rules"];if(rules&&rules.length>0){this.addRules(rules);}},destroy:function(){delete this._styleSheet;delete this._doc;},addRules:function(rules){var _148d=[];array.forEach(rules,function(rule){_148d.push(this.addRule(rule.selector,rule.css));},this);return _148d;},addRule:function(_148e,css){var self,_148f=this._getStyleSheet();function _1490(_1491){var _1492=self._ruleIndexes[_1491],_1493=self._ruleIndexes.length;if(_1492===undefined){return;}_148f.deleteRule?_148f.deleteRule(_1492):_148f.removeRule(_1492);self._ruleIndexes[_1491]=undefined;for(var i=_1491;i<_1493;i++){if(self._ruleIndexes[i]>_1492){self._ruleIndexes[i]--;}}_148f=null;};var index=this._ruleIndexes.length;if(_148f){this._ruleIndexes[index]=(_148f.cssRules||_148f.rules).length;_148f.addRule?_148f.addRule(_148e,css):_148f.insertRule(_148e+"{"+css+"}",this._ruleIndexes[index]);}return {remove:function(){_1490(index);}};},_getStyleSheet:function(){if(this._styleSheet){return this._styleSheet;}var _1494=_148b.create("style",{type:"text/css"},this._doc.getElementsByTagName("head")[0]);return this._styleSheet=_1494.sheet||_1494.styleSheet;}});});},"epi/shell/widget/overlay/OverlayContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/dom-style","dijit/_Container","dijit/_WidgetBase","dijit/_TemplatedMixin","epi/shell/postMessage"],function(array,_1495,_1496,lang,_1497,_1498,_1499,_149a,_149b){return _1495([_1499,_1498,_149a],{updateInterval:250,enabled:false,target:null,targetCoverEnabled:false,templateString:"<div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-container\"><div data-dojo-attach-point=\"targetCover\" class=\"epi-overlay-targetCover\"></div></div>",startup:function(){if(this._started){return;}this.inherited(arguments);this._toggleTargetCover(this.enabled);this.subscribe("/dnd/start",function(){this.set("targetCoverEnabled",true);});this.subscribe("/dnd/cancel",function(){this.set("targetCoverEnabled",false);});this.subscribe("/dnd/drop",function(){this.set("targetCoverEnabled",false);});this.connect(this.target,"onUnload",this.disconnectOverlayItems);this.connect(this.target,"onAfterResize",this._onAfterResizeHandler);},addChild:function(_149c,_149d){this.inherited(arguments);_149c.set("parent",this);_149c.resize();if(_149c.onResize){_149c.own(_149c.on("resize",this._onContentChange.bind(this)));}},disconnectOverlayItems:function(){this.set("enabled",false);array.forEach(this.getChildren(),lang.hitch(this,function(_149e){_149e.set("sourceItemNode",null);}));},_setReadOnlyAttr:function(_149f){this._set("readOnly",_149f);array.forEach(this.getChildren(),lang.hitch(this,function(_14a0){_14a0.set("readOnly",_149f);}));},_onAfterResizeHandler:function(_14a1){this.set("documentSize",_14a1);this._updateOverlayItems(true);},_onContentChange:function(){this.target.contentChange();},_updateOverlayItems:function(_14a2){if(!this.get("enabled")||this.isUpdating||!this.target.isInspectable()){return;}var _14a3=4;var _14a4=1;var dirty;var _14a5;this.isUpdating=true;do{dirty=false;array.forEach(this.getChildren(),function(_14a6){var _14a7=_14a6.get("position");_14a5=_14a7.isChanged||_14a5;if(_14a7.isChanged){dirty=_14a6.updatePosition(_14a7)||dirty;}},this);}while(dirty&&_14a4++<_14a3);this.isUpdating=false;if(_14a4>=2||!_14a2&&_14a5){this.target.contentChange();}else{if(!_14a2){this.target.checkSize();}}},_toggleTargetCover:function(_14a8){var _14a9=this.get("documentSize");if(_14a8&&_14a9){_1497.set(this.targetCover,{width:(_14a9.w)+"px",height:(_14a9.h)+"px"});}_1497.set(this.targetCover,{display:_14a8?"block":"none"});},_togglePoller:function(_14aa){var self=this;function _14ab(){self._updateOverlayItems();if(self.updateInterval>0){self._pollerToken=setTimeout(_14ab,self.updateInterval);}};if(self._pollerToken){clearTimeout(self._pollerToken);}if(_14aa){_14ab();}},_setUpdateIntervalAttr:function(_14ac){this._set("updateInterval",_14ac);this._togglePoller(_14ac>0);},_setEnabledAttr:function(value){this._set("enabled",value);if(value){this._updateOverlayItems();}array.forEach(this.getChildren(),function(w){w.set("disabled",!value);},this);this._togglePoller(value);_1497.set(this.domNode,{display:value?"":"none"});},_setTargetCoverEnabledAttr:function(value){if(this.targetCoverEnabled===value){return;}this._toggleTargetCover(value);this._set("targetCoverEnabled",value);}});});},"epi/shell/layout/_LayoutWidget":function(){define(["dojo/_base/declare","dijit/layout/_LayoutWidget"],function(_14ad,_14ae){return _14ad([_14ae],{onLayoutChanged:function(){},layout:function(){this.inherited(arguments);this.onLayoutChanged();}});});},"epi/shell/widget/DelayableStandby":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/widget/Standby"],function(_14af,lang,_14b0){return _14af([_14b0],{delayTime:300,showTimeOut:30000,color:"#FFFFFF",_timeoutId:-1,_isShowing:false,destroy:function(){this._clearTimeout();this.inherited(arguments);},show:function(_14b1,_14b2){var _14b3=arguments;this._clearTimeout();this._isShowing=true;if(typeof _14b1!==undefined&&_14b1===0){this.inherited(_14b3);}else{this._timeoutId=setTimeout(lang.hitch(this,function(){var _14b4=_14b2||this.showTimeOut;if(_14b4>=0){this._timeoutId=setTimeout(lang.hitch(this,function(){this.hide();}),_14b4);}this.inherited(_14b3);}),_14b1||this.delayTime);}},hide:function(){this._isShowing=false;this._clearTimeout();this.inherited(arguments);},_clearTimeout:function(){if(this._timeoutId>=0){clearTimeout(this._timeoutId);}},_getIsShowingAttr:function(){return this._isShowing;}});});},"dojox/widget/Standby":function(){define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_14b5,_14b6,array,event,has,dom,attr,_14b7,_14b8,_14b9,_14ba,_14bb,_14bc,fx,_14bd,_14be,_14bf){_14b5.experimental("dojox.widget.Standby");return _14b6("dojox.widget.Standby",[_14bd,_14be],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_14bf.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_14b9.set(this._underlayNode,{display:"none",backgroundColor:this.color});_14b9.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_14bb.body()){_14bb.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_14b7.create("div");_14b9.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_14bb.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_14b9.set(this._centerNode,"display","none");_14b9.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_14bb.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_14bb.body(),"dir");if(dir){dir=dir.toLowerCase();}var _14c0;var _14c1=this._scrollerWidths();var _14c2=this.target;var _14c3=_14b9.get(this._centerNode,"display");_14b9.set(this._centerNode,"display","block");var box=_14b8.position(_14c2,true);if(_14c2===_14bb.body()||_14c2===_14bb.doc){box=_14ba.getBox();box.x=box.l;box.y=box.t;}var _14c4=_14b8.getMarginBox(this._centerNode);_14b9.set(this._centerNode,"display",_14c3);if(this._ieFixNode){_14c0=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_14c0);box.y=Math.floor((box.y+0.9)/_14c0);box.w=Math.floor((box.w+0.9)/_14c0);box.h=Math.floor((box.h+0.9)/_14c0);}var zi=_14b9.get(_14c2,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var cNode=_14c2.parentNode;var oldZi=-100000;while(cNode&&cNode!==_14bb.body()&&_14c2!==_14bb.body()){zi=_14b9.get(cNode,"zIndex");if(!zi||zi==="auto"){cNode=cNode.parentNode;}else{var newZi=parseInt(zi,10);if(oldZi<newZi){oldZi=newZi;ziUl=newZi+1;ziIn=newZi+2;}cNode=cNode.parentNode;}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_14b9.set(this._centerNode,"zIndex",ziIn);_14b9.set(this._underlayNode,"zIndex",ziUl);var pn=_14c2.parentNode;if(pn&&pn!==_14bb.body()&&_14c2!==_14bb.body()&&_14c2!==_14bb.doc){var obh=box.h;var obw=box.w;var pnBox=_14b8.position(pn,true);if(this._ieFixNode){_14c0=-this._ieFixNode.offsetTop/1000;pnBox.x=Math.floor((pnBox.x+0.9)/_14c0);pnBox.y=Math.floor((pnBox.y+0.9)/_14c0);pnBox.w=Math.floor((pnBox.w+0.9)/_14c0);pnBox.h=Math.floor((pnBox.h+0.9)/_14c0);}pnBox.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14c1.v:0;pnBox.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_14c1.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14c1.v:0;pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14c1.v:0;}else{if(has("ie")){pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14c1.v:0;}else{if(has("webkit")){}}}}if(pnBox.w<box.w){box.w=box.w-pnBox.w;}if(pnBox.h<box.h){box.h=box.h-pnBox.h;}var vpTop=pnBox.y;var _14c5=pnBox.y+pnBox.h;var bTop=box.y;var _14c6=box.y+obh;var _14c7=pnBox.x;var _14c8=pnBox.x+pnBox.w;var bLeft=box.x;var _14c9=box.x+obw;var delta;if(_14c6>vpTop&&bTop<vpTop){box.y=pnBox.y;delta=vpTop-bTop;var _14ca=obh-delta;if(_14ca<pnBox.h){box.h=_14ca;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_14c1.h:0);}}else{if(bTop<_14c5&&_14c6>_14c5){box.h=_14c5-bTop;}else{if(_14c6<=vpTop||bTop>=_14c5){box.h=0;}}}if(_14c9>_14c7&&bLeft<_14c7){box.x=pnBox.x;delta=_14c7-bLeft;var _14cb=obw-delta;if(_14cb<pnBox.w){box.w=_14cb;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14c1.w:0);}}else{if(bLeft<_14c8&&_14c9>_14c8){box.w=_14c8-bLeft;}else{if(_14c9<=_14c7||bLeft>=_14c8){box.w=0;}}}}if(box.h>0&&box.w>0){_14b9.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _14cc=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_14cc);if(!has("ie")){_14cc=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_14cc,this);}var _14cd=(box.h/2)-(_14c4.h/2);var _14ce=(box.w/2)-(_14c4.w/2);if(box.h>=_14c4.h&&box.w>=_14c4.w){_14b9.set(this._centerNode,{top:(_14cd+box.y)+"px",left:(_14ce+box.x)+"px",display:"block"});}else{_14b9.set(this._centerNode,"display","none");}}else{_14b9.set(this._underlayNode,"display","none");_14b9.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){array.forEach(list,function(s){_14b9.set(this._underlayNode,s,_14b9.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _14cf=_14bc.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _14d0=_14bc.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_14cf,_14d0]);this._anim.play();},_fadeOut:function(){var self=this;var _14d1=_14bc.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_14b9.set(this.node,{"display":"none","zIndex":"-1000"});}});var _14d2=_14bc.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_14b9.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_14d1,_14d2]);this._anim.play();},_ignore:function(e){if(e){event.stop(e);}},_scrollerWidths:function(){var div=_14b7.create("div");_14b9.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_14b7.create("div");_14b9.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_14bb.body().appendChild(div);var b=_14b8.getContentBox(div);_14b9.set(div,"overflow","scroll");var a=_14b8.getContentBox(div);_14bb.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_14b9.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_14d3){this.centerIndicator=_14d3;if(_14d3==="image"){this._centerNode=this._imageNode;_14b9.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_14b9.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_14bb.body()||this.target===_14bb.doc){this._overflowDisabled=true;var body=_14bb.body();if(body.style&&body.style.overflow){this._oldOverflow=_14b9.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_14b9.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_14b9.set(body.parentNode,"overflow","hidden");}_14b9.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_14bb.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_14b9.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_14b7.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"url:epi/shell/widget/templates/IframeWithOverlay.html":"<div data-dojo-attach-point=\"containerNode\" class=\"epi-editorViewport\">\r\n    <div data-dojo-attach-point=\"scroller\" class=\"epi-editorViewport-center\">\r\n        <div data-dojo-attach-point=\"previewContainer\" class=\"epi-editorViewport-previewBox\"  data-dojo-props=\"region: 'center'\">\r\n            <iframe data-dojo-attach-point=\"iframe\" data-dojo-type=\"epi/shell/widget/AutoResizingIframe\" data-dojo-props=\"autoFit : false\" name=\"${iframeName}\"></iframe>\r\n            <div data-dojo-attach-point=\"overlay\" data-dojo-type=\"epi/shell/widget/overlay/OverlayContainer\"></div>\r\n            <div data-dojo-attach-point=\"scrollSizer\" class=\"epi-editorViewport-scrollSizer\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/LabeledInput":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/_LabeledInput_Top.htm","dojo/text!./templates/_LabeledInput_Bottom.htm","dojo/text!./templates/_LabeledInput_Left.htm","dojo/text!./templates/_LabeledInput_Right.htm"],function(_14d4,lang,_14d5,_14d6,_14d7,_14d8,_14d9,_14da,_14db){return _14d4([_14d6,_14d7],{templateString:null,postMixInProperties:function(){var _14dc=this.params.labelPos;switch(_14dc){case 2:this.templateString=_14d9;break;case 3:this.templateString=_14da;break;case 4:this.templateString=_14db;break;default:this.templateString=_14d8;break;}},postCreate:function(){var _14dd=this.params;if(_14dd.wrappedDojoType){var _14de=_14dd.wrappedDojoType;var _14df=_14dd.label;delete _14dd.wrappedDojoType;delete _14dd.labelPos;require([_14de],lang.hitch(this,function(ctor){var _14e0=new ctor(_14dd,this.input);_14d5.set(this.label,"for",_14e0.id);}));this.label.innerHTML=_14df;}}});});},"url:epi/shell/widget/templates/_LabeledInput_Top.htm":"<div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Bottom.htm":"<div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Left.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float:left;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Right.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float: right;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","epi/shell/widget/LicenseInformation":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/when","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","epi/dependency","dojo/text!./templates/LicenseInformation.html","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.licenseinformation"],function(_14e1,lang,_14e2,_14e3,topic,when,_14e4,_14e5,_14e6,_14e7,_14e8,_14e9,_14ea){return _14e1([_14e4,_14e5,_14e6],{templateString:_14e9,licenseInformationStore:null,visible:false,_res:_14ea,postMixInProperties:function(){this.inherited(arguments);var _14eb=_14e8.resolve("epi.storeregistry");this.licenseInformationStore=this.licenseInformationStore||_14eb.get("epi.shell.licenseinformation");},buildRendering:function(){this.inherited(arguments);when(this.licenseInformationStore.query(),lang.hitch(this,this._bindInformation));},_setVisibleAttr:function(value){if(!value&&value===this.visible){return;}this._set("visible",value);_14e3.set(this.domNode,"display",value?"":"none");topic.publish("/epi/shell/globalnavigation/layoutchange");},_onRefreshButtonClick:function(){when(this.licenseInformationStore.refresh("1"),lang.hitch(this,this._bindInformation));},_bindInformation:function(_14ec){if(!_14ec||_14ec.isValid){this.set("visible",false);}else{this.mainInfoNode.innerHTML=_14ec.message;this.additionalInfoNode.innerHTML=_14ec.additionalInformation;this.set("visible",true);}}});});},"url:epi/shell/widget/templates/LicenseInformation.html":"<div class=\"epi-notificationBar epi-status-bar--error\" style=\"display:none;\">\r\n    <div class=\"epi-notificationBarItem\">\r\n        <div class=\"epi-notificationBarText\">\r\n            <p><strong data-dojo-attach-point=\"mainInfoNode\"></strong></p>\r\n            <p data-dojo-attach-point=\"additionalInfoNode\"></p>\r\n        </div>\r\n        <div class=\"epi-notificationBarButtonContainer\">\r\n            <button data-dojo-type=\"dijit/form/Button\" class=\"epi-chromelessButton\" data-dojo-attach-event=\"onClick: _onRefreshButtonClick\">${_res.refresh}</button>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/MenuGroup":function(){define(["dojo","dijit/MenuSeparator","dojo/text!./templates/MenuGroup.htm"],function(dojo,_14ed,_14ee){return dojo.declare([_14ed],{templateString:_14ee,label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuGroup.htm":"<li class=\"epi-menugGoup\">\r\n    <span data-dojo-attach-point=\"containerNode\"></span>\r\n</li>","epi/shell/widget/overlay/_Base":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/has","dijit/_Widget"],function(_14ef,_14f0,_14f1,_14f2,has,_14f3){return _14ef([_14f3],{disabled:false,sourceItemNode:null,position:null,parent:null,adjustForMargins:true,onResize:function(){},destroy:function(){this.sourceItemNode=null;this.parent=null;this.inherited(arguments);},refresh:function(){this._reset();this.resize();this.onResize();},resize:function(size){if(!this.canUpdatePosition()){return false;}size=size||this.get("position");this.updatePosition(size);},updatePosition:function(_14f4){_14f2.set(this.domNode,{left:_14f4.x+"px",top:_14f4.y+"px",width:_14f4.w+"px",height:_14f4.h+"px"});if(_14f4.y<1&&_14f4.w<1){_14f2.set(this.domNode,{display:"none"});}else{_14f2.set(this.domNode,{display:""});}return false;},_getPositionAttr:function(){if(!this.canUpdatePosition()){return {x:0,y:0,w:0,h:0};}var _14f5=_14f0.position(this.sourceItemNode,false),_14f6=this._rawPosition,_14f7,_14f8,_14f9;if(_14f6){_14f7=_14f6.x!==_14f5.x||_14f6.y!==_14f5.y||_14f6.w!==_14f5.w||_14f6.h!==_14f5.h;if(!_14f7){this.position.isChanged=false;return this.position;}}this._rawPosition={x:_14f5.x,y:_14f5.y,w:_14f5.w,h:_14f5.h};if(this.adjustForMargins){_14f8=_14f2.getComputedStyle(this.sourceItemNode);if(_14f8){_14f9=_14f0.getMarginExtents(this.sourceItemNode,_14f8);if(_14f9.l<0){_14f5.x-=_14f9.l;_14f5.w+=_14f9.l;}if(_14f9.r<0){_14f5.w-=_14f9.r;}if(_14f9.t<0){_14f5.x-=_14f9.t;_14f5.h+=_14f9.t;}if(_14f9.b<0){_14f5.h-=_14f9.b;}}}_14f5.isChanged=true;this.set("position",_14f5);return _14f5;},_reset:function(){this._clearPosition();},_clearPosition:function(){this.position=this._rawPosition=null;},_setDisabledAttr:function(_14fa){this._set("disabled",_14fa);_14f2.set(this.domNode,{display:_14fa?"none":""});},_setSourceItemNodeAttr:function(value){this._clearPosition();this._set("sourceItemNode",value);},canUpdatePosition:function(){if(this.disabled){return false;}try{if(!this.sourceItemNode||!this.sourceItemNode.ownerDocument){return false;}}catch(ex){return false;}return true;}});});},"epi/shell/widget/overlay/Item":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/mouse","dojo/on","dojo/promise/all","dojo/when","dijit/_CssStateMixin","dijit/_TemplatedMixin","./_Base","epi/shell/dnd/Target"],function(array,_14fb,lang,_14fc,_14fd,mouse,on,_14fe,when,_14ff,_1500,_1501,_1502){return _14fb([_1501,_1500,_14ff],{baseClass:"epi-overlay-item",name:"",_displayName:null,_description:null,_setDisplayNameAttr:function(value){this._displayName=value;if(this.informationNode){this.informationNode.textContent=value;}},_setDescriptionAttr:function(value){this._description=value;if(this.informationNode){this.informationNode.title=value||"";}},templateString:"<div data-dojo-attach-point=\"item\">                            <div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-item-container\">                                <span data-dojo-attach-point=\"informationNode\" class=\"epi-overlay-item-info\"></span>                                <div class=\"epi-overlay-bracket\"></div>                            </div>                        </div>",allowedDndTypes:null,error:false,childItems:null,parent:null,onClick:function(_1503,e){},onDrop:function(_1504,_1505){},onMouseEnter:function(e){},onMouseLeave:function(e){},constructor:function(){this.childItems=[];},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"click",lang.hitch(this,function(e){this.onClick(this,e);})),on(this.domNode,mouse.enter,lang.hitch(this,this.onMouseEnter)),on(this.domNode,mouse.leave,lang.hitch(this,this.onMouseLeave)));this.transferDndControlTo(this);},destroy:function(){if(this.parent&&this.parent.removeChild){this.parent.removeChild(this);}for(var i=0;i<this.childItems.length;i++){this.childItems[i].destroyRecursive();}this.childItems=null;if(this._dropTarget){this._dropTarget.destroy();this._dropTarget=null;}this.inherited(arguments);},resize:function(size){this.inherited(arguments);if(this.childItems){array.forEach(this.childItems,function(item,i){item.resize();});}},updatePosition:function(_1506){var node=this.informationNode;if(node){var _1507=_14fd.get(node,"minHeight");_14fc.toggle(node,"epi-overlay-item-info--inside",_1506.y<_1507);}return this.inherited(arguments);},transferDndControlTo:function(_1508){var _1509=_1508.allowedDndTypes,_150a=_1508.restrictedDndTypes,_150b=_1508.onDropData,_150c=_1508;if(this._dropDataHandler){this.disconnect(this._dropDataHandler);this._dropDataHandler=null;}if(!this._dropTarget){this._setupDnd(_150c,_1509,_150a,_150b);}else{this.own(this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1508,_150b)));var types=_1509;this._dropTarget.accept={};if(types){types.forEach(function(type){this._dropTarget.accept[type]=1;},this);}var _150d=this.reject;if(_150d){for(var i=0;i<_150d.length;++i){this._dropTarget.accept[_150d[i]]=0;}}}},onDropData:function(_150e,_150f,items,copy){var _1510=_150e.map(function(item){return item.data;});_14fe(_1510).then(function(_1511){var _1512=this.dndSourcePropertyName;_1511.forEach(function(item){var value=_1512?item[_1512]:item;this.onDrop(this,value);},this);}.bind(this));},_setupDnd:function(_1513,_1514,_1515,_1516){if(_1514){this._dropTarget=new _1502(this.domNode,{accept:_1514,reject:_1515,createItemOnDrop:false});this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1513,_1516));this.own(this._dropTarget,this._dropDataHandler);}},_setReadOnlyAttr:function(_1517){this._set("readOnly",_1517);if(this._dropTarget){this._dropTarget.readOnly=_1517;}},_setErrorAttr:function(value){this.set("state",value?"Error":"");this._set("error",value);}});});},"epi/shell/widget/PropagatingContainer":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_Container","dijit/_Contained"],function(epi,dojo,dijit,_1518,_1519,_151a){return dojo.declare([_1518,_1519,_151a],{buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},set:function(_151b,value){this.inherited(arguments);dojo.forEach(this.getChildren(),function(child){child.set(_151b,value);});}});});},"epi/shell/widget/SpaceToolbarSeparator":function(){define(["epi","dojo","dijit","dijit/ToolbarSeparator"],function(epi,dojo,dijit,_151c){return dojo.declare([_151c],{templateString:"<div class=\"epi-spaceToolbarSeparator dijitInline\" role=\"presentation\"></div>"});});},"epi/shell/widget/TabContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/aspect","dojo/dom-class","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/registry","epi","epi/dependency","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/TabController","epi/shell/widget/_ActionConsumerWidget","epi/shell/DialogService","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(array,_151d,_151e,lang,_151f,_1520,_1521,_1522,_1523,epi,_1524,_1525,_1526,_1527,_1528,res){return _151d([_1522,_1527],{controllerWidget:_1526,_selectedPage:null,_componentsController:null,res:res,confirmationBeforeRemoval:true,startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.tablist,"onLayoutChanged",this._changeLayout);this.connect(this.tablist,"onTabTitleChanged",this._changeName);this.connect(this.tablist,"onAddNewTab",this._createTab);this._componentsController=_1524.resolve("epi.shell.controller.Components");if(this.getChildren().length<=0){this._createTab();}},postCreate:function(){this.inherited(arguments);_1520.add(this.domNode,"epi-mainApplicationArea");},_makeController:function(){var _1529=this.inherited(arguments);this.connect(_1529,"onSelectChild",this._pageSelected);var _152a=[{label:this.res.addgadget,onClick:lang.hitch(this,this._showComponentDialog)},{label:this.res.createtab,onClick:lang.hitch(this,this._createTab)},{label:this.res.rearrangegadget,onChange:lang.hitch(this,this._rearrangeGadgets),type:"checkedmenuitem",checked:false,rearrangeGadgets:function(_152b){this.set("checked",_152b);}}];array.forEach(_152a,_1529.addAddMenuItem,_1529);return _1529;},_rearrangeGadgets:function(_152c){if(this._selectedPage){this._selectedPage.changeLockButtonState(_152c);}},_showComponentDialog:function(){if(this._selectedPage){this._selectedPage.showComponentSelector();}},_componentSelected:function(){var _152d=this._selectedPage;_152d.addComponent.apply(_152d,arguments);},_pageSelected:function(page){this._selectedPage=page;},_createTab:function(){this._componentsController.getEmptyComponentDefinition("EPiServer.Shell.ViewComposition.Containers.ComponentContainer",lang.hitch(this,function(_152e){var comp=_152e[0];comp.settings.numberOfColumns=2;comp.settings.containerUnlocked=true;comp.settings.closable=true;this._componentsController.addComponent(this,comp,lang.hitch(this,function(resp){var _152f=this.getChildren();this.selectChild(_152f[_152f.length-1]);}));}));},_changeName:function(page,value){if(this._isEmpty(value)){this._showMessageDialog(this.res.tabnamecannotbeemptymessage).then(function(){page.controlButton.tabName.innerHTML=page.controlButton.tabCurrentName;page.controlButton._setTabTitleEditable(true);});}else{var _1530=String(page.title);var item=this._componentsController.getComponentDefinition(page.id);page.title=value;page.tabCurrentName=value;if(item){item.settings.personalizableHeading=value;this._componentsController.saveComponents([item],function(){},lang.hitch(this,function(){this._showMessageDialog(this.res.tabnamecouldnotbesaved).then(function(){page.set("title",_1530);page.set("tabCurrentName",_1530);page.controlButton.revertTabTitleChanges(true,_1530,value);});}));}else{}}},_getNumberOfColumns:function(evt){if(!evt||!evt.target){return 1;}var _1531=_1523.getEnclosingWidget(evt.target);if(!_1531||!_1531.column){return 1;}return _1531.column;},_changeLayout:function(page,evt){var _1532=this._getNumberOfColumns(evt),item=null;if(typeof page.setColumns=="function"){page.setColumns(_1532);}item=this._componentsController.getComponentDefinition(page.id);if(item){item.settings.numberOfColumns=_1532;this._componentsController.saveComponents([item]);}else{}},closeChild:function(page){if(this.getChildren().length===1){return;}if(!this.confirmationBeforeRemoval){this.inherited(arguments);this._removeTab(page);}else{return this._showRemovalConfirmationDialog().then(function(){_1522.prototype.closeChild.apply(this,[page]);this._removeTab(page);}.bind(this));}},_removeTab:function(page){var item=this._componentsController.getComponentDefinition(page.id);this._componentsController.removeComponent(item.id);var _1533=this.getChildren().length;if(_1533===1){for(var _1534 in this.tablist.pane2button){this.tablist.pane2button[_1534].closeTabMenuItem.set("disabled",true);}}},_showRemovalConfirmationDialog:function(){return _1528.confirmation({description:this.res.removetabquestion,title:epi.resources.header.episerver});},_showMessageDialog:function(_1535){return _1528.alert(_1535);},_isEmpty:function(_1536){return (lang.trim(_1536)===""?true:false);}});});},"epi/shell/widget/TabController":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dojo/query","dojo/sniff","dijit/layout/ScrollingTabController","dijit/layout/StackController","dijit/layout/utils","dijit/form/DropDownButton","dijit/form/TextBox","dijit/CheckedMenuItem","dijit/InlineEditBox","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuSeparator","dijit/registry","epi/shell/widget/_TabButton","dojo/text!./templates/_TabController.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome"],function(_1537,lang,_1538,_1539,array,query,has,_153a,_153b,_153c,_153d,_153e,_153f,_1540,Menu,_1541,_1542,_1543,_1544,_1545,_1546,res){return _1537(_153a,{buttonWidget:_1545,res:res,useAddMenu:true,templateString:_1546,onAddChild:function(page,_1547){this.inherited(arguments);this.connect(page.controlButton,"onClick",lang.hitch(this,"onButtonClick",page));this.connect(page.controlButton,"onClickCloseButton",lang.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onCloseMenuItem",lang.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onLayoutClick",lang.hitch(this,"onLayoutChanged",page));this.connect(page.controlButton,"onTabTitleChanged",lang.hitch(this,"onTabTitleChanged",page));if(!this.isLeftToRight()&&has("ie")&&this._rectifyRtlTabList){this._rectifyRtlTabList();}var _1548;if(this.useMenu){var _1549=this.containerId;_1548=new _1541({id:page.id+"_stcMi",label:page.title,dir:page.dir,lang:page.lang,onClick:lang.hitch(this,function(){var _154a=_1544.byId(_1549);_154a.selectChild(page);})});this._menuChildren[page.id]=_1548;this._menu.addChild(_1548,_1547);}_1538.set(this.containerNode,"width",(_1538.get(this.containerNode,"width")+200)+"px");var _154b=page.params.numberOfColumns||1;var _154c=page.controlButton.menuLayout.getChildren()[_154b-1];_154c&&_154c.set("checked",true);var _154d=this.getChildren().length;for(var _154e in this.pane2button){this.pane2button[_154e].closeTabMenuItem.set("disabled",(_154d===1?true:false));}},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn===this._menuBtn.domNode)||(this.useAddMenu&&btn===this._addBtn.domNode)||(this.useSlider&&(btn===this._rightBtn.domNode||btn===this._leftBtn.domNode))){this._btnWidth+=_1539.getMarginBox(btn).w;return true;}else{_1538.set(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new Menu({id:this.id+"_menu",dir:this.dir,lang:this.lang,targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}_1538.set(this._addBtn.domNode,"display",this.useAddMenu?"":"none");},addAddMenuItem:function(_154f){if(!this.useAddMenu){return;}var _1550=null;if(_154f.type&&_154f.type==="checkedmenuitem"){_1550=new _153f(_154f);}else{_1550=new _1541(_154f);}if(_1550){this._addMenu.addChild(_1550);}},resize:function(dim){if(this.domNode.offsetWidth===0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=_153c.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;_1539.setContentSize(this.domNode,this._contentBox);var _1551=this._enableBtn(this._contentBox.w);this._buttons.style("display",_1551?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";this._addBtn.layoutAlign=this.isLeftToRight()?"right":"left";_153c.layoutChildren(this.domNode,this._contentBox,[this._addBtn,this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()==="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());_1538.set(this._toolbar.domNode,"height",_1539.position(this.domNode).h+"px");this._postResize=true;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){this.pane2button[this._currentChild.id].toggleMenu(false);}this.pane2button[page.id].toggleMenu(true);array.some(this._addMenu.getChildren(),function(menu){if(menu.rearrangeGadgets){menu.rearrangeGadgets(page.containerUnlocked);return;}});this.inherited(arguments);},onLayoutChanged:function(page,evt){},onTabTitleChanged:function(page,value){},onAddGadget:function(evt){}});});},"dijit/InlineEditBox":function(){require({cache:{"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n"}});define("dijit/InlineEditBox",["require","dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/when","./focus","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","./_Container","./form/Button","./form/_TextBoxMixin","./form/TextBox","dojo/text!./templates/InlineEditBox.html","dojo/i18n!./nls/common"],function(_1552,array,_1553,_1554,_1555,_1556,_1557,event,i18n,_1558,keys,lang,has,when,fm,_1559,_155a,_155b,_155c,_155d,_155e,_155f,_1560){var _1561=_1553("dijit._InlineEditor",[_1559,_155a,_155b],{templateString:_1560,postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit","common",this.lang);array.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},buildRendering:function(){this.inherited(arguments);var Cls=typeof this.editor=="string"?(lang.getObject(this.editor)||_1552(this.editor)):this.editor;var _1562=this.sourceStyle,_1563="line-height:"+_1562.lineHeight+";",_1564=_1557.getComputedStyle(this.domNode);array.forEach(["Weight","Family","Size","Style"],function(prop){var _1565=_1562["font"+prop],_1566=_1564["font"+prop];if(_1566!=_1565){_1563+="font-"+prop+":"+_1562["font"+prop]+";";}},this);array.forEach(["marginTop","marginBottom","marginLeft","marginRight","position","left","top","right","bottom","float","clear","display"],function(prop){this.domNode.style[prop]=_1562[prop];},this);var width=this.inlineEditBox.width;if(width=="100%"){_1563+="width:100%;";this.domNode.style.display="block";}else{_1563+="width:"+(width+(Number(width)==width?"px":""))+";";}var _1567=lang.delegate(this.inlineEditBox.editorParams,{style:_1563,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new Cls(_1567,this.editorPlaceholder);if(this.inlineEditBox.autoSave){_1556.destroy(this.buttonContainer);}},postCreate:function(){this.inherited(arguments);var ew=this.editWidget;if(this.inlineEditBox.autoSave){this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in ew){ew.set("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.set("disabled",true);}}},startup:function(){this.editWidget.startup();this.inherited(arguments);},_onIntermediateChange:function(){this.saveButton.set("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.get(("displayedValue" in ew||"_getDisplayedValueAttr" in ew)?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==keys.ESCAPE){event.stop(e);this.cancel(true);}else{if(e.charOrCode==keys.ENTER&&e.target.tagName=="INPUT"){event.stop(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){fm.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():true;},focus:function(){this.editWidget.focus();if(this.editWidget.focusNode){fm._onFocusNode(this.editWidget.focusNode);if(this.editWidget.focusNode.tagName=="INPUT"){this.defer(function(){_155e.selectInputText(this.editWidget.focusNode);});}}}});var _1568=_1553("dijit.InlineEditBox",_1559,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:_155f,editorWrapper:_1561,editorParams:{},disabled:false,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:has("ie")<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>":"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _1569={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _1569){this.connect(this.displayNode,name,_1569[name]);}this.displayNode.setAttribute("role","button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}if(!this.value&&!("value" in this.params)){this.value=lang.trim(this.renderAsHtml?this.displayNode.innerHTML:(this.displayNode.innerText||this.displayNode.textContent||""));}if(!this.value){this.displayNode.innerHTML=this.noValueIndicator;}_1555.add(this.displayNode,"dijitInlineEditBoxDisplayMode");},setDisabled:function(_156a){_1558.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_156a);},_setDisabledAttr:function(_156b){this.domNode.setAttribute("aria-disabled",_156b?"true":"false");if(_156b){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}_1555.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",_156b);this._set("disabled",_156b);},_onMouseOver:function(){if(!this.disabled){_1555.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover");}},_onMouseOut:function(){_1555.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover");},_onClick:function(e){if(this.disabled){return;}if(e){event.stop(e);}this._onMouseOut();this.defer("edit");},edit:function(){if(this.disabled||this.editing){return;}this._set("editing",true);this._savedTabIndex=_1554.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var _156c=_1556.create("span",null,this.domNode,"before");var Ewc=typeof this.editorWrapper=="string"?lang.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new Ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:_1557.getComputedStyle(this.displayNode),save:lang.hitch(this,"save"),cancel:lang.hitch(this,"cancel"),textDir:this.textDir},_156c);if(!this.wrapperWidget._started){this.wrapperWidget.startup();}if(!this._started){this.startup();}}var ww=this.wrapperWidget;_1555.add(this.displayNode,"dijitOffScreen");_1555.remove(ww.domNode,"dijitOffScreen");_1557.set(ww.domNode,{visibility:"visible"});_1554.set(this.displayNode,"tabIndex","-1");var ew=ww.editWidget;var self=this;when(ew.onLoadDeferred,lang.hitch(ww,function(){ew.set(("displayedValue" in ew||"_setDisplayedValueAttr" in ew)?"displayedValue":"value",self.value);this.defer(function(){ww.saveButton.set("disabled","intermediateChanges" in ew);this.focus();this._resetValue=this.getValue();});}));},_onBlur:function(){this.inherited(arguments);if(!this.editing){}},destroy:function(){if(this.wrapperWidget&&!this.wrapperWidget._destroyed){this.wrapperWidget.destroy();delete this.wrapperWidget;}this.inherited(arguments);},_showText:function(focus){var ww=this.wrapperWidget;_1557.set(ww.domNode,{visibility:"hidden"});_1555.add(ww.domNode,"dijitOffScreen");_1555.remove(this.displayNode,"dijitOffScreen");_1554.set(this.displayNode,"tabIndex",this._savedTabIndex);if(focus){fm.focus(this.displayNode);}},save:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);var ww=this.wrapperWidget;var value=ww.getValue();this.set("value",value);this._showText(focus);},setValue:function(val){_1558.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(val){val=lang.trim(val);var _156d=this.renderAsHtml?val:val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=_156d||this.noValueIndicator;this._set("value",val);if(this._started){this.defer(function(){this.onChange(val);});}if(this.textDir=="auto"){this.applyTextDir(this.displayNode,this.displayNode.innerText);}},getValue:function(){_1558.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value");},cancel:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);this.defer("onCancel");this._showText(focus);},_setTextDirAttr:function(_156e){if(!this._created||this.textDir!=_156e){this._set("textDir",_156e);this.applyTextDir(this.displayNode,this.displayNode.innerText);this.displayNode.align=this.dir=="rtl"?"right":"left";}}});_1568._InlineEditor=_1561;return _1568;});},"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n","url:epi/shell/widget/templates/_TabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    <div data-dojo-type=\"dijit/Toolbar\" class=\"epi-componentToolbar\" data-dojo-attach-point=\"_toolbar\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" id=\"${id}_addBtn\" class=\"epi-componentToolbarButton epi-componentSettingsContainer epi-mediumButton\" iconClass=\"epi-iconSettingsMenu\" data-dojo-attach-point=\"_addBtn\" showLabel=\"false\" title=\"${res.settingsmenutooltip}\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"_addMenu\"></div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_menuBtn\" iconClass=\"dijitTabStripMenuIcon\" data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\" data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\" data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistWrapper\">\r\n        <div wairole=\"tablist\" data-dojo-attach-event=\"onkeypress:onkeypress\" data-dojo-attach-point=\"containerNode\" class=\"nowrapTabStrip\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/ValidationTextarea":function(){define(["dojo/_base/declare","dijit/form/Textarea","epi/shell/widget/_ValueRequiredMixin"],function(_156f,_1570,_1571){return _156f([_1570,_1571],{_setPlaceHolderAttr:function(_1572){this.inherited(arguments);this.set("placeholder",_1572);},_setValueAttr:function(value){this.inherited(arguments);this._started&&this.validate();}});});},"epi/shell/widget/_ValueRequiredMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_CssStateMixin","dijit/Tooltip"],function(_1573,lang,_1574,_1575){return _1573([_1574],{required:null,missingMessage:"",_valueValidationTooltip:null,buildRendering:function(){this.inherited(arguments);this.own(this._valueValidationTooltip=new _1575());},_onFocus:function(){this.inherited(arguments);this.validate(true);},_onBlur:function(){this.inherited(arguments);this.validate();},validate:function(_1576){var _1577=this.isValid(_1576);var state=_1577?"":this._hasBeenBlurred?"Error":"Incomplete";this.set("state",state);this.set("message",this.getErrorMessage(_1576));this.displayMessage(_1577?"":this.getErrorMessage());return _1577;},isValid:function(_1578){return (!this.required||this.value||this.value===0||(lang.isArray(this.value)&&this.value.length===0));},displayMessage:function(_1579){var _157a=this.tooltipNode||this.domNode;if(_1579&&this.focused&&!this.isShowingChildDialog){this._valueValidationTooltip.set("label",_1579);this._valueValidationTooltip.open(_157a);}else{this.hideMessage();}},hideMessage:function(){this._valueValidationTooltip.close(this.tooltipNode||this.domNode);},getErrorMessage:function(_157b){var _157c=this.get("state")!=="Error";return _157c?"":this.missingMessage;}});});},"epi/shell/widget/WidgetSwitcher":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/topic","dojo/when","epi/shell/StickyViewSelector","epi/shell/_ContextMixin","epi/shell/layout/AnimatedCardContainer","epi/shell/TypeDescriptorManager"],function(array,_157d,lang,_157e,topic,when,_157f,_1580,_1581,_1582){return _157d([_1581,_1580],{componentConstructorArgs:null,supportedContextTypes:null,_stickyViewSelector:null,constructor:function(){this._viewHistory=[];},postMixInProperties:function(){this.inherited(arguments);this._stickyViewSelector=new _157f();if(this.supportedContextTypes){if(!lang.isArray(this.supportedContextTypes)){this.supportedContextTypes=[this.supportedContextTypes];}if(!array.every(this.supportedContextTypes,function(type){return typeof type=="string";})){throw new Error("supportedContextTypes must be string, array of strings or null.");}}},postCreate:function(){this.inherited(arguments);when(this.getCurrentContext(),lang.hitch(this,this.contextChanged));this.own(topic.subscribe("/epi/shell/action/changeview",lang.hitch(this,"viewComponentChangeRequested")),topic.subscribe("/epi/shell/action/changeview/back",lang.hitch(this,"_viewComponentBackRequested")),topic.subscribe("/epi/shell/action/changeview/updatestate",lang.hitch(this,"_changeViewState")));},contextChanged:function(_1583,data){if(!this._isContextTypeSupported(_1583)){return;}var view=_1583.customViewType||(data?data.viewType:null);var _1584=this._getCurrentWidgetInfo();if(data&&data.contextIdSyncChange&&_1584){view=_1584.type;data=lang.mixin({},data,{viewName:_1584.viewName,availableViews:_1584.availableViews});}if(!view&&_1583.dataType){view=_1582.getValue(_1583.dataType,"mainWidgetType");}if(view){this._getObject(view,null,_1583,data);}else{var _1585=_1582.getValue(_1583.dataType,"defaultView"),_1586=this._getAvailableViews(_1583.dataType),_1587=data?data.viewName:null;when(this._stickyViewSelector.get(_1583.hasTemplate,_1583.dataType)).then(function(_1588){if(_1588){_1585=_1588;}var _1589=["view","sidebysidecompare","allpropertiescompare"];if(_1584&&_1589.indexOf(_1584.viewName)>=0){array.some(_1586,function(_158a){if(_158a.key===_1584.viewName){_1585=_1584.viewName;return true;}return false;});}var _158b=this._getViewByKey(_1587||_1585,_1586);if(!_158b){return;}this._loadViewComponentByConfiguration(_158b,_1586,null,_1583,data);}.bind(this));}},_getViewByKey:function(key,_158c){return array.filter(_158c,function(_158d){return _158d.key===key;})[0];},_getAvailableViews:function(_158e){var _158f=_1582.getAndConcatenateValues(_158e,"availableViews"),_1590=_1582.getValue(_158e,"disabledViews");var _1591=array.filter(_158f,function(_1592){return array.every(_1590,function(_1593){return _1592.key!==_1593;});});return _1591.sort(function(x,y){return x.sortOrder<y.sortOrder?-1:1;});},_loadViewComponentByConfiguration:function(view,_1594,args,_1595,data,_1596){data=lang.mixin({},data,{viewName:view.key,availableViews:_1594});this._getObject(view.controllerType,args,_1595,data,_1596);},viewComponentChangeRequested:function(type,args,data,_1597){when(this.getCurrentContext(),lang.hitch(this,function(_1598){var _1599=_1598?_1598.dataType:null;var _159a=_1598?_1598.hasTemplate:false;var _159b=this._getAvailableViews(_1599);var _159c;var _159d;if(!type&&_1599){_159c=_1582.getValue(_1599,"defaultView");_159d=this._stickyViewSelector.get(_159a,_1599);if(_159d){type=_159d;}else{type=_159c;}}when(type).then(function(_159e){var view=this._getViewByKey(_159e||_159c,_159b);if(view){this._loadViewComponentByConfiguration(view,_159b,args,_1598,data,_1597);}else{this._getObject(_159e,args,_1598,data,_1597);}}.bind(this));}));},_viewComponentBackRequested:function(_159f){var _15a0=this._getPreviousWidgetInfo();if(_15a0){if(typeof _159f==="undefined"){_159f=false;}var data={skipUpdateView:!_159f,availableViews:_15a0.availableViews,viewName:_15a0.viewName};when(this.getCurrentContext(),lang.hitch(this,function(_15a1){this._getObject(_15a0.type,null,_15a1,data);}));}},_changeViewState:function(state){var _15a2=this._getCurrentWidgetInfo();if(_15a2){lang.mixin(_15a2,state);}},_getPreviousWidgetInfo:function(){var _15a3=this._viewHistory.length;var _15a4=this._viewHistory;var _15a5=(_15a4.length>1)?_15a4[_15a4.length-2]:null;this._viewHistory.splice(_15a3-1,1);return _15a5;},_getCurrentWidgetInfo:function(){var _15a6=this._viewHistory;return (_15a6.length>0)?_15a6[_15a6.length-1]:null;},_isContextTypeSupported:function(_15a7){if(!_15a7){return false;}if(!this.supportedContextTypes){return true;}return array.some(this.supportedContextTypes,function(type){return _15a7.type===type;});},_getObject:function(type,args,_15a8,data,_15a9){if(!type){return;}var _15aa=this.selectedChildWidget;var func=lang.hitch(this,function(){when(this._testComponentInstanceOf(_15aa,type),lang.hitch(this,function(_15ab){if(_15a9){this._stickyViewSelector.save(_15a8.hasTemplate,_15a8.dataType,data.viewName);}if(_15ab){this._updateHistory(type,data,_15a8);this._updateView(_15aa,_15a8,data);this._onViewChanged(type,args,data);}else{this._changeViewComponent(type,args,_15a8,data);}}));});if(_15aa&&_15aa.savePendingChanges){when(_15aa.savePendingChanges(),func);}else{func();}},_changeViewComponent:function(type,args,_15ac,data){when(this._getChildByType(type),lang.hitch(this,function(_15ad){var _15ae=this.selectedChildWidget;if(_15ae){_15ae.set("isActive",false);}if(_15ad){_15ad.set("isActive",true);if(data&&data.treatAsSecondaryView){this.selectSecondaryChild(_15ad);}else{this.selectChild(_15ad);}this._updateHistory(type,data,_15ac);this._updateView(_15ad,_15ac,data,true);this._onViewChanged(type,args,data);}else{require([type],lang.hitch(this,function(_15af){var _15b0=lang.mixin(lang.mixin({},this.componentConstructorArgs,{componentTypeName:type}),args);_15ad=new _15af(_15b0);_15ad.fitContainer=true;this.addChild(_15ad);var _15b1;if(data&&data.treatAsSecondaryView){_15b1=this.selectSecondaryChild(_15ad);}else{_15b1=this.selectChild(_15ad);}when(_15b1,lang.hitch(this,function(){this._updateHistory(type,data,_15ac);this._updateView(_15ad,_15ac,data,true);this._onViewChanged(type,args,data);}));}));}}));},_updateView:function(_15b2,_15b3,data,_15b4){if(_15b2&&!_15b2._started&&typeof _15b2.startup==="function"){_15b2.startup();}if(_15b2&&typeof _15b2.updateView==="function"){_15b2.updateView(data,_15b3,{widgetResumed:_15b4});}},_getChildByType:function(type){var def=new _157e();require([type],lang.hitch(this,function(_15b5){var _15b6=array.filter(this.getChildren(),function(child){return child.constructor===_15b5;},this);def.resolve(_15b6.length?_15b6[0]:null);}));return def;},_testComponentInstanceOf:function(_15b7,type){var def=new _157e();if(_15b7){if(typeof type==="string"){require([type],function(_15b8){def.resolve(_15b7&&_15b7.constructor===_15b8);});}else{def.resolve(_15b7&&_15b7.constructor===type.constructor);}}else{def.resolve(false);}return def;},_onViewChanged:function(type,args,data){topic.publish("/epi/shell/action/viewchanged",type,args,data);},_updateHistory:function(type,data,_15b9){var _15ba=this._viewHistory,_15bb=_15ba.length,item=this.createStoreItem(type,data,_15b9);if(_15bb&&_15ba[_15bb-1].id===item.id){return;}if(_15bb===9){_15ba.shift();}_15ba.push(item);},createStoreItem:function(type,data,_15bc){var _15bd={type:type,id:type};if(data){var _15be=data.availableViews||(_15bc&&this._getAvailableViews(_15bc.dataType));var _15bf=data.viewName||this._getViewName(_15be,_15bc);_15bd=lang.mixin(_15bd,{availableViews:_15be,viewName:_15bf});_15bd.id+="#"+_15bf;}return _15bd;},_getViewName:function(_15c0,_15c1){if(!_15c1){return null;}var _15c2=this._getViewByKey(_1582.getValue(_15c1.dataType,"defaultView"),_15c0);if(!_15c2){return null;}return _15c2.key;}});});},"epi/shell/layout/AnimatedCardContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/fx","dojo/aspect","dojo/has","dojo/on","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/Deferred","dojo/query","dojo/when","dijit/_TemplatedMixin","dijit/layout/StackContainer","dgrid/util/has-css3"],function(_15c3,lang,fx,_15c4,has,on,_15c5,_15c6,_15c7,_15c8,query,when,_15c9,_15ca,_15cb){return _15c3([_15ca,_15c9],{doLayout:true,templateString:"<div><div class='dijitContainer' style='position: relative; width: 100%; height: 100%' data-dojo-attach-point='containerNode'></div></div>",cssClasses:{animationNode:"epi-animation-node",child:"epi-cardContainer-child",primary:"epi-cardContainer-child--primary",secondary:"epi-cardContainer-child--secondary",secondaryOut:"epi-cardContainer-child--secondary-out",visible:"dijitVisible",hidden:"dijitHidden"},addChild:function(child){var r=this.inherited(arguments);_15c5.add(child.domNode,this.cssClasses.child);return r;},selectSecondaryChild:function(page){return this.selectChild(page,has("css-transitions"));},_transition:function(_15cc,_15cd,_15ce){var d;if(_15ce&&_15cd){d=this._showChild(_15cc);if(_15cc.resize){if(this.doLayout){_15cc.resize(this._containerContentBox||this._contentBox);}else{_15cc.resize();}}_15c5.add(_15cd.domNode,this.cssClasses.primary);_15cd.onHide&&_15cd.onHide();when(this._executeTransition(_15cc,this.cssClasses.secondary),lang.hitch(this,function(_15cf){if(this.selectedPreviousChild&&this.selectedPreviousChild!==_15cc){_15c5.add(_15cd.domNode,this.cssClasses.hidden);_15c5.remove(_15cd.domNode,this.cssClasses.visible);}}));this.selectedPreviousChild=_15cd;}else{if(this.selectedPreviousChild===_15cc){_15c5.add(this.selectedPreviousChild.domNode,this.cssClasses.visible);_15c5.remove(this.selectedPreviousChild.domNode,this.cssClasses.hidden);_15c5.remove(this.selectedPreviousChild.domNode,this.cssClasses.primary);_15c5.remove(this.selectedChildWidget.domNode,this.cssClasses.secondary);when(this._executeTransition(this.selectedChildWidget,this.cssClasses.secondaryOut),lang.hitch(this,function(_15d0){_15c5.remove(_15d0.domNode,this.cssClasses.visible);_15c5.add(_15d0.domNode,this.cssClasses.hidden);_15c5.remove(_15d0.domNode,this.cssClasses.secondaryOut);}),lang.hitch(this,function(_15d1){_15c5.remove(_15d1.domNode,this.cssClasses.visible);_15c5.add(_15d1.domNode,this.cssClasses.hidden);}));if(_15cc!==this.selectedPreviousChild){_15c5.replace(this.selectedPreviousChild.domNode,this.cssClasses.hidden,this.cssClasses.visible);}this.selectedPreviousChild=null;}else{if(_15cd){this._hideChild(_15cd);_15c5.remove(_15cd.domNode,this.cssClasses.primary);}}d=this._showChild(_15cc);_15c5.add(_15cc.domNode,this.cssClasses.primary);if(_15cc.resize){if(this.doLayout){_15cc.resize(this._containerContentBox||this._contentBox);}else{_15cc.resize();}}}return d;},_executeTransition:function(_15d2,_15d3){var d=new _15c8();var _15d4=_15d2.domNode;var _15d5=query("."+this.cssClasses.animationNode,_15d4);var _15d6=_15d5.length>0?_15d5[0]:null;if(_15d6&&_15d4&&has("css-transitions")){_15c5.add(_15d4,_15d3);this.own(this.defer(function(){on.once(_15d6,has("transitionend"),function(){d.resolve(_15d2);});},1));}else{d.reject(_15d2);}return d;}});});},"dgrid/util/has-css3":function(){define(["dojo/has"],function(has){var _15d7=["ms","O","Moz","Webkit"];function _15d8(_15d9,_15da){var style=_15d9.style,i;if(_15da in style){return true;}_15da=_15da.slice(0,1).toUpperCase()+_15da.slice(1);for(i=_15d7.length;i--;){if((_15d7[i]+_15da) in style){return _15d7[i];}}return false;};has.add("css-transitions",function(_15db,doc,_15dc){return _15d8(_15dc,"transitionProperty");});has.add("css-transforms",function(_15dd,doc,_15de){return _15d8(_15de,"transform");});has.add("css-transforms3d",function(_15df,doc,_15e0){return _15d8(_15e0,"perspective");});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});return has;});},"xstyle/core/load-css":function(){define([],function(){"use strict";var cache=typeof _css_cache=="undefined"?{}:_css_cache;var doc=document;function has(){return !doc.createStyleSheet;};var head=doc.head;function _15e1(css){if(has("dom-create-style-element")){_15e2=doc.createElement("style");_15e2.setAttribute("type","text/css");_15e2.appendChild(doc.createTextNode(css));head.insertBefore(_15e2,head.firstChild);return _15e2;}else{var _15e2=doc.createStyleSheet();_15e2.cssText=css;return _15e2.owningElement;}};function load(_15e3,_15e4,_15e5){var _15e6=cache[_15e3];if(_15e6){link=_15e1(_15e6);return _15e4(link);}var link=doc.createElement("link");link.type="text/css";link.rel="stylesheet";link.href=_15e3;var wait=!_15e5||_15e5.wait!==false;var _15e7=navigator.userAgent.match(/AppleWebKit\/(\d+\.?\d*)/);_15e7=_15e7&&+_15e7[1];if(link.onload===null&&!(_15e7<536)){link.onload=function(){link.onload=null;link.onerror=null;wait&&_15e4(link);};link.onerror=function(){console.error("Error loading stylesheet "+_15e3);wait&&_15e4(link);};}else{if(wait){var _15e8=setInterval(function(){if(link.style){clearInterval(_15e8);_15e4(link);}},15);}}(head||doc.getElementsByTagName("head")[0]).appendChild(link);if(!wait){_15e4(link);}};load.insertCss=_15e1;return load;});}}});