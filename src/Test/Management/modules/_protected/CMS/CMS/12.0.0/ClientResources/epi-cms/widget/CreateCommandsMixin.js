//>>built
define("epi-cms/widget/CreateCommandsMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/dependency","../command/PopupCommand","../command/NewContent","epi/i18n!epi/nls/episerver.shared"],function(_1,_2,_3,_4,_5,_6,_7){return _2([],{contentRepositoryDescriptors:null,typeDescriptorManager:null,createCommandClass:_6,repositoryKey:null,category:null,isAvailableFlags:null,postscript:function(){this.inherited(arguments);if(!this.repositoryKey){throw "You need to specify the repositoryKey field";}this.contentRepositoryDescriptors=this.contentRepositoryDescriptors||_4.resolve("epi.cms.contentRepositoryDescriptors");_2.safeMixin(this,this.contentRepositoryDescriptors.get(this.repositoryKey));this.commandCategory=this.commandCategory||"context";var _8={ROOT:1,TREE:2,LIST:4};this.isAvailableFlags=this.isAvailableFlags||_8.ROOT|_8.TREE;},getCreateCommands:function(_9){var _a={};var _b=_9||1;if(!this.creatableTypes){return _a;}_1.forEach(this.creatableTypes,function(_c){_a[_c]={command:this._createCommand(_c),isAvailable:this.isAvailableFlags,order:_b};_b=_b+1;},this);if(this.creatableTypes.length<2){return _a;}var _d=new _5({label:_7.action["new"],commands:_a});return {popupCommand:{command:_d,order:_9}};},_createCommand:function(_e){return new this.createCommandClass({contentType:_e,category:this.commandCategory});}});});