//>>built
define("epi-cms/widget/overlay/overlayFactory",["dojo/_base/lang","dojo/_base/Deferred","epi-cms/widget/overlay/Property"],function(_1,_2){return {defaultType:"epi-cms/widget/overlay/Property",create:function(_3){var _4=new _2();var _5=_3.property.metadata.overlaySettings&&_3.property.metadata.overlaySettings.customType;var _6=_3.property,_7=_5||this.defaultType,_8={},_9=_6.metadata&&_6.metadata.settings||{};_8.allowedTypes=_9.allowedTypes||[];_8.restrictedTypes=_9.restrictedTypes||[];require([_7],_1.hitch(this,function(_a){var _b=_1.mixin({name:_6.name,description:_1.getObject("settings.tooltip",false,_6.metadata),contentModel:_6.contentModel,displayName:_6.metadata.displayName,disabled:_3.disabled,sourceItemNode:_3.node},_6.overlayParams,_8);var _c=new _a(_b);_4.resolve(_c);}));return _4;},createByDimensions:function(_d){_d.property.metadata.overlaySettings.customType=this.defaultType;return this.create(_d).then(function(_e){_e.updatePosition(_d.node);return _e;});}};});