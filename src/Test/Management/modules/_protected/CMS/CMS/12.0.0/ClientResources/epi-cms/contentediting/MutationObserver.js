//>>built
define("epi-cms/contentediting/MutationObserver",["dojo/_base/declare","dojo/Evented"],function(_1,_2){return _1([_2],{_mutationObserverHandle:null,setup:function(_3){this.teardown();if(!_3){return;}var _4=new MutationObserver(function(_5){_5.forEach(function(_6){if(_6.type==="attributes"&&(_6.attributeName==="data-epi-edit"||_6.attributeName==="data-epi-property-name")){this._publishEvent();}else{if(_6.type==="childList"){Array.prototype.slice.call(_6.addedNodes).forEach(function(_7){var _8=this._getEpiPropertyNodes(_7);if(_8.length===0){return;}this._publishEvent();},this);}}}.bind(this));}.bind(this));_4.observe(_3,{attributes:true,childList:true,subtree:true});this._mutationObserverHandle=_4;},teardown:function(){if(this._mutationObserverHandle!==null){this._mutationObserverHandle.disconnect();}this._mutationObserverHandle=null;},_getEpiPropertyNodes:function(_9){if(_9.nodeType!==Node.ELEMENT_NODE&&_9.nodeType!==Node.DOCUMENT_NODE){return [];}if(_9.attributes&&(_9.attributes["data-epi-edit"]||_9.attributes["data-epi-property-name"])){return [_9];}else{var _a=_9.querySelectorAll("[data-epi-edit], [data-epi-property-name]");return Array.prototype.slice.call(_a);}},_publishEvent:function(){this.emit("dom-updated");}});});