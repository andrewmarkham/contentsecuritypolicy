//>>built
define("epi-cms/core/ContentReference",["dojo/_base/declare","epi/epi"],function(_1,_2){var _3=_1(null,{id:0,workId:0,providerName:null,isSelfReference:false,constructor:function(_4){if(_4){this._parse(_4);}},_parse:function(_5){if(typeof _5==="object"){this.id=parseInt(_5.ID||_5.id||_5.iD||_5.Id||0,10);this.workId=parseInt(_5.WorkID||_5.workId||0,10);this.providerName=_5.ProviderName||_5.providerName||null;}else{if(typeof _5==="string"){if(_5==="-"){this.isSelfReference=true;this.id=0;this.workId=-1;}else{this.isSelfReference=false;var v=String();v.split("_");var _6=_5.split("_");this.id=parseInt(_6[0],10);this.workId=parseInt(_6[1],10)||0;this.providerName=_6[2]||"";}}else{if(typeof _5==="number"){this.id=_5;this.workId=0;this.providerName="";}}}if(isNaN(this.id)){throw new Error("The id parameter of a content reference must be an integer");}if(isNaN(this.workId)&&!this.isSelfReference){throw new Error("The workId of a content reference must be an integer");}},toString:function(){if(this.isSelfReference){return "-";}var _7=String(this.id);if(this.workId!==0){_7+="_"+this.workId;}if(this.providerName){_7+=(this.workId===0?"__":"_")+this.providerName;}return _7;},createVersionUnspecificReference:function(){return new _3({id:this.id,providerName:this.providerName});}});_3.isContentReference=function(_8){try{return !!(new _3(_8));}catch(error){return false;}};_3.toContentReference=function(_9){if(_9 instanceof _3){return _9;}else{if(typeof _9==="string"||typeof _9==="number"){return new _3(_9);}}return _3.empty;};_3.tryConvert=function(_a,_b){if(_a instanceof _3){return _a;}try{return new _3(_a);}catch(error){return _b!==undefined?_b:_3.empty;}};_3.compareIgnoreVersion=function(_c,_d){var c1=_3.toContentReference(_c);var c2=_3.toContentReference(_d);var _e=c1.createVersionUnspecificReference();var _f=c2.createVersionUnspecificReference();return _2.areEqual(_e,_f);};_3.empty=new _3({id:-1,workId:-1});_3.emptyContentReference=_3.empty;return _3;});